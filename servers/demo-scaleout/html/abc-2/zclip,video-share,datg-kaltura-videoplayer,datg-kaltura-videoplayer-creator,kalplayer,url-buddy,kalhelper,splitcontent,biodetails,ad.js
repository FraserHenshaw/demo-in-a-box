

/** 
* @filepath: zclip,video-share,datg-kaltura-videoplayer,datg-kaltura-videoplayer-creator,kalplayer,url-buddy,kalhelper,splitcontent,biodetails,ad
* @created: Tue, 26 Nov 13 13:01:28 -0800
* @serveraddr: 10.151.6.177
* @remoteaddr: 10.192.186.159
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/


/** 
* @filepath: /utils/jquery.zclip.min.js
* @created: Tue, 26 Nov 13 13:01:28 -0800
* @serveraddr: 10.151.6.177
* @remoteaddr: 10.192.186.159
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/
/*
 * zClip :: jQuery ZeroClipboard v1.1.1
 * http://steamdev.com/zclip
 *
 * Copyright 2011, SteamDev
 * Released under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Date: Wed Jun 01, 2011
 */

(function(a){a.fn.zclip=function(c){if(typeof c=="object"&&!c.length){var b=a.extend({path:"ZeroClipboard.swf",copy:null,beforeCopy:null,afterCopy:null,clickAfter:true,setHandCursor:true,setCSSEffects:true},c);return this.each(function(){var e=a(this);if(e.is(":visible")&&(typeof b.copy=="string"||a.isFunction(b.copy))){ZeroClipboard.setMoviePath(b.path);var d=new ZeroClipboard.Client();if(a.isFunction(b.copy)){e.bind("zClip_copy",b.copy)}if(a.isFunction(b.beforeCopy)){e.bind("zClip_beforeCopy",b.beforeCopy)}if(a.isFunction(b.afterCopy)){e.bind("zClip_afterCopy",b.afterCopy)}d.setHandCursor(b.setHandCursor);d.setCSSEffects(b.setCSSEffects);d.addEventListener("mouseOver",function(f){e.trigger("mouseenter")});d.addEventListener("mouseOut",function(f){e.trigger("mouseleave")});d.addEventListener("mouseDown",function(f){e.trigger("mousedown");if(!a.isFunction(b.copy)){d.setText(b.copy)}else{d.setText(e.triggerHandler("zClip_copy"))}if(a.isFunction(b.beforeCopy)){e.trigger("zClip_beforeCopy")}});d.addEventListener("complete",function(f,g){if(a.isFunction(b.afterCopy)){e.trigger("zClip_afterCopy")}else{if(g.length>500){g=g.substr(0,500)+"...\n\n("+(g.length-500)+" characters not shown)"}e.removeClass("hover");alert("Copied text to clipboard:\n\n "+g)}if(b.clickAfter){e.trigger("click")}});d.glue(e[0],e.parent()[0]);a(window).bind("load resize",function(){d.reposition()})}})}else{if(typeof c=="string"){return this.each(function(){var f=a(this);c=c.toLowerCase();var e=f.data("zclipId");var d=a("#"+e+".zclip");if(c=="remove"){d.remove();f.removeClass("active hover")}else{if(c=="hide"){d.hide();f.removeClass("active hover")}else{if(c=="show"){d.show()}}}})}}}})(jQuery);var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,$:function(a){if(typeof(a)=="string"){a=document.getElementById(a)}if(!a.addClass){a.hide=function(){this.style.display="none"};a.show=function(){this.style.display=""};a.addClass=function(b){this.removeClass(b);this.className+=" "+b};a.removeClass=function(d){var e=this.className.split(/\s+/);var b=-1;for(var c=0;c<e.length;c++){if(e[c]==d){b=c;c=e.length}}if(b>-1){e.splice(b,1);this.className=e.join(" ")}return this};a.hasClass=function(b){return !!this.className.match(new RegExp("\\s*"+b+"\\s*"))}}return a},setMoviePath:function(a){this.moviePath=a},dispatch:function(d,b,c){var a=this.clients[d];if(a){a.receiveEvent(b,c)}},register:function(b,a){this.clients[b]=a},getDOMObjectPosition:function(c,a){var b={left:0,top:0,width:c.width?c.width:c.offsetWidth,height:c.height?c.height:c.offsetHeight};if(c&&(c!=a)){b.left+=c.offsetLeft;b.top+=c.offsetTop}return b},Client:function(a){this.handlers={};this.id=ZeroClipboard.nextId++;this.movieId="ZeroClipboardMovie_"+this.id;ZeroClipboard.register(this.id,this);if(a){this.glue(a)}}};ZeroClipboard.Client.prototype={id:0,ready:false,movie:null,clipText:"",handCursorEnabled:true,cssEffects:true,handlers:null,glue:function(d,b,e){this.domElement=ZeroClipboard.$(d);var f=99;if(this.domElement.style.zIndex){f=parseInt(this.domElement.style.zIndex,10)+1}if(typeof(b)=="string"){b=ZeroClipboard.$(b)}else{if(typeof(b)=="undefined"){b=document.getElementsByTagName("body")[0]}}var c=ZeroClipboard.getDOMObjectPosition(this.domElement,b);this.div=document.createElement("div");this.div.className="zclip";this.div.id="zclip-"+this.movieId;$(this.domElement).data("zclipId","zclip-"+this.movieId);var a=this.div.style;a.position="absolute";a.left=""+c.left+"px";a.top=""+c.top+"px";a.width=""+c.width+"px";a.height=""+c.height+"px";a.zIndex=f;if(typeof(e)=="object"){for(addedStyle in e){a[addedStyle]=e[addedStyle]}}b.appendChild(this.div);this.div.innerHTML=this.getHTML(c.width,c.height)},getHTML:function(d,a){var c="";var b="id="+this.id+"&width="+d+"&height="+a;if(navigator.userAgent.match(/MSIE/)){var e=location.href.match(/^https/i)?"https://":"http://";c+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+e+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+d+'" height="'+a+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+b+'"/><param name="wmode" value="transparent"/></object>'}else{c+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+d+'" height="'+a+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+b+'" wmode="transparent" />'}return c},hide:function(){if(this.div){this.div.style.left="-2000px"}},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide();this.div.innerHTML="";var a=document.getElementsByTagName("body")[0];try{a.removeChild(this.div)}catch(b){}this.domElement=null;this.div=null}},reposition:function(c){if(c){this.domElement=ZeroClipboard.$(c);if(!this.domElement){this.hide()}}if(this.domElement&&this.div){var b=ZeroClipboard.getDOMObjectPosition(this.domElement);var a=this.div.style;a.left=""+b.left+"px";a.top=""+b.top+"px"}},setText:function(a){this.clipText=a;if(this.ready){this.movie.setText(a)}},addEventListener:function(a,b){a=a.toString().toLowerCase().replace(/^on/,"");if(!this.handlers[a]){this.handlers[a]=[]}this.handlers[a].push(b)},setHandCursor:function(a){this.handCursorEnabled=a;if(this.ready){this.movie.setHandCursor(a)}},setCSSEffects:function(a){this.cssEffects=!!a},receiveEvent:function(d,f){d=d.toString().toLowerCase().replace(/^on/,"");switch(d){case"load":this.movie=document.getElementById(this.movieId);if(!this.movie){var c=this;setTimeout(function(){c.receiveEvent("load",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var c=this;setTimeout(function(){c.receiveEvent("load",null)},100);this.ready=true;return}this.ready=true;try{this.movie.setText(this.clipText)}catch(h){}try{this.movie.setHandCursor(this.handCursorEnabled)}catch(h){}break;case"mouseover":if(this.domElement&&this.cssEffects){this.domElement.addClass("hover");if(this.recoverActive){this.domElement.addClass("active")}}break;case"mouseout":if(this.domElement&&this.cssEffects){this.recoverActive=false;if(this.domElement.hasClass("active")){this.domElement.removeClass("active");this.recoverActive=true}this.domElement.removeClass("hover")}break;case"mousedown":if(this.domElement&&this.cssEffects){this.domElement.addClass("active")}break;case"mouseup":if(this.domElement&&this.cssEffects){this.domElement.removeClass("active");this.recoverActive=false}break}if(this.handlers[d]){for(var b=0,a=this.handlers[d].length;b<a;b++){var g=this.handlers[d][b];if(typeof(g)=="function"){g(this,f)}else{if((typeof(g)=="object")&&(g.length==2)){g[0][g[1]](this,f)}else{if(typeof(g)=="string"){window[g](this,f)}}}}}}};

/** 
* @filepath: /abcdm/video-share.js
* @created: Tue, 26 Nov 13 13:01:28 -0800
* @serveraddr: 10.151.6.177
* @remoteaddr: 10.192.186.159
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

var abcdm=abcdm||{},datg=datg||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.SiteInfo=abcdm.abccom.SiteInfo||{};datg.VideoShare=datg.VideoShare||{};datg.View=datg.View||{};var dShareLog=abcdm.abccom.debugLog('vidshareLog');(function($){datg.VideoShare.defaultConfigOptions={buTitle:"",redirectUrl:null,redirectPath:"/service/redirect/video",sourceUrl:null,sourceUrlPath:"https://cdnsecakmi.kaltura.com/index.php/kwidget/wid/_585231/uiconf_id/",uiConf:null,preloaderPath:null,messageFadeOutTime:3000,messageCopiedText:"copied to clipboard",mainView:"videoshare-index",embedView:"_share-embedcode",directUrlView:"_share-directurl",zClipPath:"http://cdn.media.abc.go.com/m/_global/player/vp2k/util/ZeroClipboard.swf",fadeTime:600,video:{url:"",title:"",image:"",shortDescription:"",longDescription:"",width:644,height:362,largeHeight:362,mediumHeight:296,aspW:16,aspH:9,embedPreviewReduction:7,embedPreviewReductionSmaller:12,allowCustomSize:false,baseServer:null,autoplay:false,embedSizes:[{width:644,height:362},{width:526,height:296},{width:426,height:240}]},social:{appId:null,providers:[{"facebooknative":true},{"twitternative":true},{"googleplusnative":true}]},player:{'selector':""}};function VideoShare(root,options,id){var vidShareSelf=this,$vSocElem=$(root),$vSocVideoPlayer=$vSocElem.find('.playerWrapper'),videoPlayer=$vSocElem.find('.kalPlayer').data('videoplayer'),kdp=$vSocElem.find('.kalPlayer').data('videoplayer').getKDP(),minWidth=0,minHeight=0,maxWidth=0,maxHeight=0,videoDataCache={},doPopup,getDimsWithAspectRatio,getDirectUrl,getEmbedCode,getEncodedData,getMetaData,getMinMax,getPlayerDims,getPreloaderSecurePath,getRedirectUrl,getShareCode,getSourceUrl,getUiConf,onDataChange,postRender,renderShareIcons,setCloseEvent,setEmbedCopyEvent,setOnChangeEvents,setPopupEvent,setVideoData;this.showVideoShareBar=function(params){dShareLog('called showVideoShareBar');getShareCode();};this.hideVideoShareBar=function(params){dShareLog('called hideVideoShareBar');$vSocElem.find('.shareArea').fadeOut(options.fadeTime,function(){$vSocElem.removeClass('shareOpen');$vSocElem.find('.kalPlayer').removeClass('shareOpen');$vSocElem.find('.shareCode').empty();abcdm.abccom.Hook("sfp_doShareClose",{"args":{'playerId':videoPlayer.getPlayerId()}});});};this.changeVideoShareBar=function(params){dShareLog("params");if(params&&params.url&&params.url.indexOf('http')<0){params.url=options.video.baseServer+params.url;}else if(params&&!params.url&&!options.video.url){params.url=options.video.baseServer+window.location.pathname;}
params.url.replace(/\/VD/gi,'/_m_VD');dShareLog(params);options=$.extend(true,{},options,params);dShareLog(options);abcdm.abccom.Hook("VideoShare_changeItem");onDataChange();};setVideoData=function(data){videoDataCache[data.video.id]=data.video;dShareLog(videoDataCache);options.video=$.extend(true,{},options.video,data.video);dShareLog(options.video);};onDataChange=function(){options.redirectUrl=null;options.sourceUrl=null;getEncodedData();getMetaData();};postRender=function(){dShareLog('postRender');$vSocElem.addClass('shareOpen');$vSocElem.find('.kalPlayer').addClass('shareOpen');var player=$vSocElem.find('.kalCont'),playerWidth=player.css("width"),playerHeight=player.css("height");$vSocElem.find('.shareArea').css({width:playerWidth,height:playerHeight}).fadeIn(options.fadeTime);setCloseEvent();setOnChangeEvents();renderShareIcons();setPopupEvent();};getPlayerDims=function(){var playerHeight=options.video.largeHeight;if(kdp){playerHeight=$(kdp).height();}
if(playerHeight>=options.video.largeHeight){$vSocElem.find('.videoShare').addClass('large');}else if(playerHeight>=options.video.mediumHeight){$vSocElem.find('.videoShare').addClass('medium');options.video.embedPreviewReduction=options.video.embedPreviewReductionSmaller;}else{$vSocElem.find('.videoShare').addClass('small');}};getEncodedData=function(){if(options.buTitle){options.buTitle=encodeURIComponent(options.buTitle);}
if(options.video.url){options.encodedUrl=encodeURIComponent(options.video.url);options.url=options.video.url;}
if(options.video.title){options.encodedTitle=encodeURIComponent(options.video.title);}
if(options.video.subTitle){options.encodedSubTitle=encodeURIComponent(options.video.subTitle);}
if(options.video.image){options.encodedImage=encodeURIComponent(options.video.image);options.image=options.video.image;}
if(options.video.longDescription){options.encodedLongDescription=encodeURIComponent(options.video.longDescription);}};getMetaData=function(){if(options.social&&!options.social.appId){options.social.appId=$('meta[property="fb:app_id"]').attr('content');}
if(!options.sourceUrl){options.sourceUrl=getSourceUrl();}
if(!options.redirectUrl){options.redirectUrl=getRedirectUrl();}};getRedirectUrl=function(){var redUrl=((abcdm.abccom.SiteInfo&&abcdm.abccom.SiteInfo.baseserver)?abcdm.abccom.SiteInfo.baseserver:"")
+options.redirectPath+"?playlist="+options.video.collection+"&video="+options.video.id;if(options.video.tmsId){redUrl+="&tmsId="+options.video.tmsId;}
return encodeURIComponent(redUrl);};getMinMax=function(){$.each(options.video.embedSizes,function(key,value){if(minWidth===0){minWidth=value.width;minHeight=value.height;maxWidth=value.width;maxHeight=value.height;}
if(minWidth>value.width){minWidth=value.width;minHeight=value.height;}else if(maxWidth<value.width){maxWidth=value.width;maxHeight=value.height;}
options.video.embedSizes[key].modWidth=(value.width/options.video.embedPreviewReduction);options.video.embedSizes[key].modHeight=(value.height/options.video.embedPreviewReduction);});dShareLog("minW:"+minWidth+" minH:"+minHeight);dShareLog("maxW:"+maxWidth+" maxH:"+maxHeight);};getDirectUrl=function(url){var output=datg.View.renderPartial(options.directUrlView,{"data":{"url":url}});$vSocElem.find('.directUrl .url').replaceWith(output);setOnChangeEvents();};getEmbedCode=function(width,height,videoId){var output=datg.View.renderPartial(options.embedView,{"data":{"video":{"width":width,"height":height,"baseServer":options.video.baseServer,"id":videoId,"autoplay":options.video.autoplay}}});$vSocElem.find('.embedCode').html(output);setEmbedCopyEvent();};getShareCode=function(){dShareLog(options);$vSocElem.find('.shareCode').empty();var output=datg.View.render(options.mainView,{"data":options,"shareId":id});$vSocElem.find('.shareCode').html(output);postRender();};getSourceUrl=function(){var url=options.sourceUrlPath;if(!options.uiConf){getUiConf();}
if(!options.preloaderPath){getPreloaderSecurePath();}
url+=options.uiConf;url+='?VP2Core.videoID='+options.video.id;url+='&Playlist.playlistID='+options.video.collection;url+='&preloaderPath='+options.preloaderPath;url+='&usePreloaderBufferAnimation=true&centerPreloader=true';return encodeURIComponent(url);};getUiConf=function(){options.uiConf=videoPlayer.getPlayerData('configProxy.kuiConf.id');};getPreloaderSecurePath=function(){options.preloaderPath=$vSocElem.find('.kalCont').data('vp2k').getPreloaderSecurePath();};renderShareIcons=function(){if(window.FB&&window.FB.XFBML&&typeof window.FB.XFBML.parse==='function'){FB.XFBML.parse();}
if(window.gapi&&window.gapi.plusone&&typeof window.gapi.plusone.go==='function'){gapi.plusone.go("googlePlus_"+this.$root.attr('id'));}
if(window.twttr&&window.twttr.widgets&&typeof window.twttr.widgets.load==='function'){twttr.widgets.load();}
abcdm.abccom.Hook("VideoShare_renderShareIcons");};getDimsWithAspectRatio=function(w,h){var aspectRatioW=$vSocElem.data('aspectRatioW'),aspectRatioH=$vSocElem.data('aspectRatioH'),height=0,width=0;if(aspectRatioW===undefined){aspectRatioW=options.video.aspW/options.video.aspH;$vSocElem.data('aspectRatioW',aspectRatioW);}
if(aspectRatioH===undefined){aspectRatioH=options.video.aspH/options.video.aspW;$vSocElem.data('aspectRatioH',aspectRatioH);}
if(w===0&&h>0){width=Math.round(h*aspectRatioW);height=h;}else if(h===0&&w>0){width=w;height=Math.round(w*aspectRatioH);}
if(width>maxWidth||height>maxHeight){width=maxWidth;height=maxHeight;}else if(width<minWidth||height<minHeight){width=minWidth;height=minHeight;}
return{"w":width,"h":height};};setOnChangeEvents=function(){$vSocElem.find('.shareArea .embedSizes .size').click(function(e){$vSocElem.find('.selected').removeClass("selected");$(this).addClass("selected");abcdm.abccom.Hook("VideoShare_embedSizeChange");options.video.width=$(this).data('width');options.video.height=$(this).data('height');getEmbedCode(options.video.width,options.video.height,options.video.id);});if($vSocElem.find('.shareArea .embedSizes .size[data-width='+options.video.width+']').length>0){$vSocElem.find('.shareArea .embedSizes .size[data-width='+options.video.width+']').addClass('selected');}
$vSocElem.find('.shareArea .size.embedCustom input').change(function(){var fieldName=$(this).attr('name'),newWidth=0,newHeight=0,newDims;if(fieldName==='width'){newDims=getDimsWithAspectRatio($.trim($(this).attr('value')),0);}else{newDims=getDimsWithAspectRatio(0,$.trim($(this).attr('value')));}
if(newDims&&newDims.w&&newDims.h){newWidth=newDims.w;newHeight=newDims.h;$vSocElem.find('.shareArea .size.embedCustom input[name=width]').attr('value',newWidth);$vSocElem.find('.shareArea .size.embedCustom input[name=height]').attr('value',newHeight);$vSocElem.find('.shareArea .size.embedCustom').data('width',newWidth);$vSocElem.find('.shareArea .size.embedCustom').data('height',newHeight);$vSocElem.find('.shareArea .size.embedCustom').trigger('click');}});$vSocElem.find('.shareArea .autoplay input').change(function(){options.video.autoplay=$(this).is(":checked");getEmbedCode(options.video.width,options.video.height,options.video.id);});$vSocElem.find('.directUrl.section .url').zclip({path:options.zClipPath,copy:$.trim($vSocElem.find('.directUrl.section .url').text()),afterCopy:function(){abcdm.abccom.Hook("VideoShare_directUrlCopied");$vSocElem.find('.directUrl.section .url').html(options.messageCopiedText);setTimeout(function(){getDirectUrl(options.url);},options.messageFadeOutTime);}});setEmbedCopyEvent();};setEmbedCopyEvent=function(){$vSocElem.find('.datgButton.copy').zclip({path:options.zClipPath,copy:$.trim($vSocElem.find('.embedCode textarea').text()),afterCopy:function(){abcdm.abccom.Hook("VideoShare_embedCodeCopied");$vSocElem.find('.embedCode textarea').val('\n'+options.messageCopiedText);setTimeout(function(){getEmbedCode(options.video.width,options.video.height,options.video.id);},options.messageFadeOutTime);}});};setCloseEvent=function(){$vSocElem.find('.videoCloseButton').click(function(e){e.preventDefault();vidShareSelf.hideVideoShareBar();});};setPopupEvent=function(){$vSocElem.find('.social').on('click',doPopup);};doPopup=function(){window.open($(this).attr('href'),'','menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');return false;};dShareLog($vSocElem.find('.kWidgetIframeContainer'));if($vSocElem.find('.kWidgetIframeContainer').length==0){abcdm.abccom.Hook("VideoShare_init");if(options.video&&!options.video.baseServer){options.video.baseServer=(abcdm.abccom.SiteInfo&&abcdm.abccom.SiteInfo.baseserver)?abcdm.abccom.SiteInfo.baseserver:"";}
getPlayerDims();getMinMax();dShareLog(options);}else{dShareLog("VideoShare_init skipped - html5player");}}
$.fn.videoShareInit=function(id,options){var dShareOptions;abcdm.abccom.Hook("VideoShare_preInit");dShareOptions=$.extend(true,{},datg.VideoShare.defaultConfigOptions,options);this.each(function(){$(this).data('vidshare',new VideoShare($(this),dShareOptions,id));});return this;};$.fn.videoShareOpen=function(params){if($(this).data('vidshare')){$(this).data('vidshare').showVideoShareBar(params);}};$.fn.videoShareClose=function(params){if($(this).data('vidshare')){$(this).data('vidshare').hideVideoShareBar(params);}};$.fn.videoShareChangeItem=function(params){dShareLog('videoShareChangeItem');if($(this).data('vidshare')){$(this).data('vidshare').changeVideoShareBar(params);}};$(document).ready(function(){abcdm.abccom.Hook('sfp_doShareOpen',{'hook':function(obj){if(obj.$kalPlayerDiv){dShareLog('sfp_doShareOpen was passed good obj');obj.$kalPlayerDiv.parents('div.module.kalPlayer').videoShareOpen();}}});abcdm.abccom.Hook('playerLOADMEDIAEND',{'hook':function(obj){dShareLog('videoShare---playerLOADMEDIAEND');dShareLog(obj);if(obj&&obj.datgVideoPlayer&&obj.$kalPlayerDiv){if(obj.datgVideoPlayer.isHtml5()){dShareLog('playerLOADMEDIAEND---html5 player');}else{var feed=obj.datgVideoPlayer.getPlayerData('feedProxy'),videoData={id:feed.videoId,image:feed.entry.media_thumbnail.url,longDescription:feed.entry.description,title:feed.entry.title,url:feed.entry.link.replace(/\/VD/gi,'/_m_VD')};obj.$kalPlayerDiv.parents('div.module.kalPlayer').videoShareChangeItem({feed:obj.kdp.evaluate('{feedProxy}'),video:videoData});}}else{dShareLog('playerLOADMEDIAEND---no obj');}}});});})(jQuery);

/** 
* @filepath: /datg/kaltura/datg.kaltura.videoplayer.js
* @created: Tue, 26 Nov 13 13:01:28 -0800
* @serveraddr: 10.151.6.177
* @remoteaddr: 10.192.186.159
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

var datg=datg||{},isLegacySite=false,debug;try{datg.nameSpaceGen(['Hook','Prefs.Video','Utils','Dev','VideoPlayer']);debug=datg.debugLog('datgKSFPlayer');}catch(e){isLegacySite=true;var abcdm=abcdm||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.Hook=abcdm.abccom.Hook||{};abcdm.abccom.debugLog=abcdm.abccom.debugLog||function(){return function(){};};datg.Hook=datg.Hook||function(){};datg.Prefs=datg.Prefs||{};datg.Prefs.Video=datg.Prefs.Video||{};datg.Utils=abcdm.abccom.Utils||{};datg.VideoPlayer=datg.VideoPlayer||{};datg.Dev=datg.Dev||{};datg.Dev.isDevMode=((location.host.indexOf('local')>-1)||(location.host.indexOf('editorial')>-1)||(location.host.indexOf('qa')>-1)||(location.host.indexOf('staging')>-1));debug=abcdm.abccom.debugLog('datgKSFPlayer');debug('isLegacySite');}
datg.Prefs.Video.ScreenSize={xlarge:{width:1280,height:720},large:{width:896,height:504},medium:{width:704,height:396},small:{width:416,height:234},xsmall:{width:256,height:144},micro:{width:192,height:108},responsive:null};(function($){var defaultConfig={Player:{size:'responsive',sfpDebug:(location.search.indexOf('sfpDebugMode')>-1&&datg.Dev.isDevMode)},Kaltura:{targetId:null,wid:'_585231',flashvars:{swid:$.cookie('SWID')},params:{wmode:'opaque'},readyCallback:function(playerId){var $kdp=$('#'+playerId).parents('div .kalPlayer');if($kdp&&$kdp.data('videoplayer')){$kdp.data('videoplayer').onReadyCallback();}}}},VideoPlayer=function(root,config){var $root=root,$player,_config=config,_isPlayer=false,playerRatio=".5625",playerControlsHeight=31,drawPlayerContainer;drawPlayerContainer=function(){var id=_config.Kaltura.targetId;$root.append('<div id="'+id+'" style="width:100%;height:100%" />').wrap('<div class="videoWrapper" />');$player=$root.find('#'+id);};this.isPlayer=function(){return _isPlayer;};this.create=function(){if(!_isPlayer){drawPlayerContainer();if(_config.Player.size){if(typeof _config.Player.size==="string"&&datg.Prefs.Video.ScreenSize[_config.Player.size]){debug('has Player.size using constant');this.resize(datg.Prefs.Video.ScreenSize[_config.Player.size]);}else if(typeof _config.Player.size==="object"){debug('has Player.size using object');this.resize(_config.Player.size);}}
debug(_config);kWidget.embed(_config.Kaltura);$root.removeClass('off').addClass('on');}};this.destroy=function(){if(_isPlayer){$root.empty().removeClass('on').addClass('off');_isPlayer=false;}};this.resize=function(size){var w=(size&&size.width)?size.width:null,h=(size&&size.height)?size.height:null;if(w&&h){if(this.getKDP()){var kdp=this.getKDP();$(kdp).width(w).height(h);}else{$player.height(h).width(w);}
$root.width(w);}};this.getHeightFromRatio=function(){var playerWidth=parseInt($root.width()),newHeight=0;newHeight=(playerRatio*playerWidth)+playerControlsHeight;return newHeight;};this.getKDP=function(){return document.getElementById(_config.Kaltura.targetId);};this.getPlayerId=function(){var kdpPlayer=this.getKDP();if(kdpPlayer){return $(kdpPlayer).attr('id');}
return null;};this.getPlayerData=function(prop){return this.getKDP().evaluate('{'+prop+'}');};this.isHtml5=function(){return this.getPlayerData('isHTML5');};this.isShareEnabled=function(){return this.getPlayerData('configProxy.flashvars.Datg.shareEnabled');};this.onReadyCallback=function(){_isPlayer=true;this.addPlayerClass();};this.addPlayerClass=function(){var playerClass="";if(typeof _config.Player.size==="string"&&datg.Prefs.Video.ScreenSize[_config.Player.size]){playerClass+=_config.Player.size;}
if(this.isHtml5()){playerClass+=" html5";}else{playerClass+=" flash";}
$root.addClass(playerClass);};};datg.VideoPlayer=function(id,overrideConfig){var checkOverrides=function(config){if(config.Player.sfpDebug){debug('enabling VideoPlayer debug mode');config.Kaltura.flashvars.jsTraces=true;config.Kaltura.flashvars.debugMode=true;config.Kaltura.flashvars.debugLevel=2;mw.setConfig("debug",true);}
mw.setConfig("Kaltura.EnableEmbedUiConfJs",true);if(!kWidget.supportsFlash()||kWidget.isIOS()||kWidget.isAndroid()||(isLegacySite&&$('body.datgGenMobile').length)){mw.setConfig("forceMobileHTML5",true);config.Kaltura.flashvars.autoPlay=false;config.Kaltura.flashvars['mediaProxy.preferedFlavorBR']=3000;config.Kaltura.flashvars['disableBitrateCookie']=true;}
if(datg.Dev.isDevMode){var pd;if(isLegacySite){pd=$.url.param("publishDate");}else{pd=$.url(location).param("publishDate");}
if(pd){config.Kaltura.flashvars['FeedConsumer.pubDate']='publishDate='+pd;}}
return config;};$('#'+id).each(function(){var config,videoPlayer,$this=$(this);config=$.extend(true,{},defaultConfig,overrideConfig);config=checkOverrides(config);videoPlayer=new VideoPlayer($this,config);$this.data('videoplayer',videoPlayer);});};})(jQuery);

/** 
* @filepath: /datg/kaltura/datg.kaltura.videoplayer.creator.js
* @created: Tue, 26 Nov 13 13:01:28 -0800
* @serveraddr: 10.151.6.177
* @remoteaddr: 10.192.186.159
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

var datg=datg||{};try{datg.nameSpaceGen(['VideoPlayer']);}catch(e){datg.VideoPlayer=datg.VideoPlayer||{};}
(function($){datg.VideoPlayerCreator=function(){var $kaltura=$('.kalPlayer.off'),parseData,playerNum=0;parseData=function(data){return data?$.parseJSON(data.replace(/'/gi,'"')):{};};if($('body.datgGen, body.datgGenMobile').length){$kaltura=$('.kalCont.playerInit .kalPlayerInit');abcdm.abccom.KalPlayer.init($kaltura);}
$kaltura.each(function(){var $this=$(this),video=parseData($this.data('kaltura')),uiconf=$this.data('uiconf'),playerSettings=parseData($this.data('player')),config,selector;config={Player:playerSettings,Kaltura:{uiconf_id:null,flashvars:null}};if(!$this.attr('id')){$this.attr('id','player-'+playerNum++);}
selector=$this.attr('id');config.Kaltura.targetId='kdp-'+selector;config.Kaltura.uiconf_id=uiconf;config.Kaltura.flashvars=video;datg.VideoPlayer(selector,config);$('#'+selector).data('videoplayer').create();});};$(document).ready(function(){datg.VideoPlayerCreator();});})(jQuery);

/** 
* @filepath: /module-js/kalplayer.js
* @created: Tue, 26 Nov 13 13:01:28 -0800
* @serveraddr: 10.151.6.177
* @remoteaddr: 10.192.186.159
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

var abcdm=abcdm||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.Hook=abcdm.abccom.Hook||function(){};abcdm.abccom.debugLog=abcdm.abccom.debugLog||function(){};abcdm.abccom.KalPlayer=abcdm.abccom.KalPlayer||{};(function($){var debugLog=abcdm.abccom.debugLog('kalplayer'),doPlayerActions=function(playerSelector,action,args){var $player=$(playerSelector).filter('.kalCont');if($player.length>=0){$player.each(function(){});}},translateLegacyNames=function(jsonData,name,value){name=name.toLowerCase();switch(name){case"id":case"class":case"style":break;case"kml":jsonData["kml"]=value;break;case"kmlpath":jsonData["kmlPath"]=value;break;case"referer":case"referrer":jsonData["referer"]=value;jsonData["referrer"]=value;break;case"enabledebugmode":jsonData["jsTraces"]='true';jsonData["debugMode"]='true';jsonData["debugLevel"]='2';break;case"vp:wmode":jsonData["wmode"]=value;break;case"vp:allowcookies":jsonData["allowCookies"]=value;break;case"vp:autoplay":jsonData["autoPlay"]=value;break;case"vp:loop":jsonData["FeedConsumer.loop"]=value;break;case"vp:preloader":jsonData["preloaderPath"]=value;jsonData["centerPreloader"]="true";jsonData["usePreloaderBufferAnimation"]="true";break;case"vp:playlist":case"vp:playlistid":jsonData["FeedConsumer.playlistId"]=value;break;case"vp:show":jsonData["AdmiralAckbar.showId"]=value;break;case"vp:showname":jsonData["FeedConsumer.show"]=value;break;case"vp:source":jsonData["FeedConsumer.source"]=value;break;case"vp:video":case"vp:videoid":case"vp:entry":jsonData["FeedConsumer.videoId"]=value;break;case"vp:start":jsonData["FeedConsumer.start"]=value;break;case"acd:text":jsonData["AdCountdown.textValue"]=value;break;case"cs:c2":jsonData["comscore.c2"]=value;break;case"fw:autoplay":jsonData["fw_autoplay"]=value;break;case"fw:unsolicited":jsonData["fw_unsolicited"]=value;break;case"fw:ssid":jsonData["freeWheel.siteSectionId"]=value;break;case"fw:ssfid":jsonData["freeWheel.siteSectionFallbackId"]=value;break;case"fw:nid":jsonData["freeWheel.networkId"]=value;break;case"fw:ssnid":jsonData["freeWheel.siteSectionNetworkId"]=value;break;case"fw:vanid":jsonData["freeWheel.videoAssetNetworkId"]=value;break;case"fw:vafid":jsonData["freeWheel.videoAssetFallbackId"]=value;break;case"fw:surl":jsonData["freeWheel.serverUrl"]=value;break;case"fw:surlhtml5":jsonData["freeWheel.serverUrlHTML5"]=value;break;case"fw:pp":jsonData["freeWheel.playerProfile"]=value;break;case"fw:pphtml5":jsonData["freeWheel.playerProfileHTML5"]=value;break;case"nc:cid":jsonData["nielsenCombined.clientid"]=value;break;case"nc:vcid":jsonData["nielsenCombined.vcid"]=value;break;case"nvc:cid":jsonData["nielsenVideoCensus.clientId"]=value;break;case"nvc:vcid":jsonData["nielsenVideoCensus.videoCensusId"]=value;break;case"o:playername":jsonData["Omniture.playerName"]=value;break;case"o:movieid":jsonData["Omniture.movieID"]=value;break;case"o:prefix":jsonData["Omniture.prefix"]=value;break;case"o:prefixoverride":jsonData["Omniture.prefixOverride"]=value;break;case"o:hier1":jsonData["Omniture.hier1"]=value;break;case"o:pagename":jsonData["Omniture.pageName"]=value;break;case"o:account":jsonData["Omniture.account"]=value;break;case"o:secondary":jsonData["Omniture.secondaryAccount"]=value;break;case"o:site":jsonData["Omniture.site"]=value;break;case"o:vns":jsonData["Omniture.visitorNamespace"]=value;break;case"pp:autoadvance":jsonData["autoAdvance"]=value;break;case"plugin:socialmedia":jsonData["Datg.shareEnabled"]=value;break;default:break;}
return jsonData;},convertEmbedOptions=function($legacyPlayer){var newJson={},playerSettings={},confId="",jsonStrKal="",jsonStrPlayer="";if($legacyPlayer.length&&$legacyPlayer){$legacyPlayer.removeClass('kalPlayerInit').addClass('kalPlayer off');$.each($legacyPlayer[0].attributes,function(index,attr){var name=attr.name,value=attr.value;if(name!==null&&name!==""&&name!==undefined&&value!==null&&value!==""&&value!==undefined){if(name==="vp:config"){confId=value;}else if(name==="width"||name==="height"){playerSettings.size=playerSettings.size||{};playerSettings.size[name]=value;}else{newJson=translateLegacyNames(newJson,name,value);}}});newJson.flavorTags='uplynk';jsonStrKal=JSON.stringify(newJson);jsonStrPlayer=JSON.stringify(playerSettings);$legacyPlayer.data('kaltura',jsonStrKal.replace(/"/gi,"'"));$legacyPlayer.data('uiconf',confId);$legacyPlayer.data('player',jsonStrPlayer.replace(/"/gi,"'"));}};abcdm.abccom.KalPlayer.init=function($kaltura,options){if($kaltura.length<=0){debugLog('kalplayer.js: init obj failed');return null;}
$kaltura.each(function(){var $this=$(this),$player=$this.is('.kalPlayerInit')?$this:$this.find('.kalPlayerInit');debugLog('kalplayer.js:$kaltura.each');convertEmbedOptions($player);});return $kaltura;};abcdm.abccom.KalPlayer.play=function(id,videoId,timecode){doPlayerActions(id,'play',[videoId,timecode]);};abcdm.abccom.KalPlayer.loadPlaylist=function(id,playlistId,videoId,mediaIndex){doPlayerActions(id,'loadPlaylist',[playlistId,videoId,mediaIndex]);};abcdm.abccom.KalPlayer.loadMedia=function(id,videoId){doPlayerActions(id,'loadloadMedia',[videoId]);};abcdm.abccom.KalPlayer.pause=function(id){doPlayerActions(id,'pause');};abcdm.abccom.KalPlayer.resume=function(id){doPlayerActions(id,'resume');};abcdm.abccom.KalPlayer.fullscreen=function(id,value){doPlayerActions(id,'fullscreen',[value]);};abcdm.abccom.KalPlayer.healthCheck=function(action){switch(action){case'init':if($('#playerEvents').length<=0){if($('.kalCont')){$('.kalCont').append('<div id="playerEvents" style="display:none;"></div>');}}
break;case'success':if($('#playerEvents').length>0){debugLog('kalplayer.js: #playerEvents found')
$('#playerEvents').text(action);}
break;default:break;}};})(jQuery);

/** 
* @filepath: /abcdm/url-buddy.js
* @created: Tue, 26 Nov 13 13:01:28 -0800
* @serveraddr: 10.151.6.177
* @remoteaddr: 10.192.186.159
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

var abcdm=abcdm||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.UrlBuddy=abcdm.abccom.UrlBuddy||{};var ubLog=abcdm.abccom.debugLog('UrlBuddy');(function($){abcdm.abccom.UrlBuddy.checkUrlHash=function(dontClearHash){var hashParamStart=location.hash.indexOf('#?'),hashWithSlash=location.hash.slice(1);if(!dontClearHash&&hashWithSlash.length>0){location.hash="";}
if(hashParamStart>=0){return abcdm.abccom.Utils.paramStringToObject(window.location.href.slice(hashParamStart+2));}else if(hashWithSlash.length>0){var hashObj=new Object;hashObj.urlString=hashWithSlash;return hashObj;}
return{};};abcdm.abccom.UrlBuddy.pushNewUrl=function(urlMod,title,passParams,noHash){var urlString="";if(typeof(urlMod)==='object'){urlString=abcdm.abccom.UrlBuddy.generateParamUrl(urlMod);}
else{urlString=urlMod;}
if(passParams){var urlParams=decodeURI(window.location.search.substring(1));if(urlParams&&urlParams!==''){if(urlString.indexOf("?")>=0){urlString+='&'+urlParams;}
else{urlString+='?'+urlParams;}}}
if((!noHash)&&$("body.ie7").length>0||$("body.ie8").length>0||$("body.ie9").length>0){window.location.hash=urlString;}
else{if(typeof history.pushState=='function'){history.pushState(null,title,urlString);}
else
{window.location.hash=urlString;}}};abcdm.abccom.UrlBuddy.generateParamUrl=function(paramObject){var paramString="",first=true;for(var param in paramObject){if(first){paramString+="?"+param+"="+paramObject[param];first=false;}
else{paramString+="&"+param+"="+paramObject[param];}}
return paramString;};abcdm.abccom.UrlBuddy.generateUrlWithoutParam=function(removeParam){var uri=decodeURI(window.location.search.substring(0));var currentParams=uri.split("?")[1];if(!currentParams){return"";}
currentParams=currentParams.split("&");var newParams={};for(var param in currentParams){var paramStrings=currentParams[param].split("=");if(paramStrings[0]!=removeParam){newParams[paramStrings[0]]=paramStrings[1];}}
return abcdm.abccom.UrlBuddy.generateParamUrl(newParams);};$(document).ready(function(){});})(jQuery);

/** 
* @filepath: /module-js/kaltura-helper.js
* @created: Tue, 26 Nov 13 13:01:28 -0800
* @serveraddr: 10.151.6.177
* @remoteaddr: 10.192.186.159
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

abcdm.abccom.KalPlayer=abcdm.abccom.KalPlayer||{};abcdm.abccom.KalPlayer.Detail={loopThisVideo:false};abcdm.abccom.Share=abcdm.abccom.Share||{};abcdm.abccom.Share.gigyaShareChangeLink=abcdm.abccom.Share.gigyaShareChangeLink||function(){};abcdm.abccom.UrlBuddy=abcdm.abccom.UrlBuddy||{};abcdm.abccom.UrlBuddy.pushNewUrl=abcdm.abccom.UrlBuddy.pushNewUrl||function(){};abcdm.abccom.Comment=abcdm.abccom.Comment||{};abcdm.abccom.Comment.form=abcdm.abccom.Comment.form||function(){};abcdm.abccom.SiteInfo=abcdm.abccom.SiteInfo||{baseserver:document.location.origin};abcdm.abccom.VhelperOptions=abcdm.abccom.VhelperOptions||{};(function($){var debugLog=abcdm.abccom.debugLog('kalplayerdetail'),updateShareBar;updateShareBar=function(detailObj,$sharebar){debugLog('updateShareBar');debugLog(detailObj);var htmlStr;if($sharebar.find('.abcShareBar').length<=0){htmlStr='<div class="abcShareBar" id="abcShareBar-';htmlStr+=detailObj.clipid;htmlStr+='"><div class="sharebarLeft" id="div_left_';htmlStr+=detailObj.clipid;htmlStr+='"></div></div>';$sharebar.html(htmlStr);}
abcdm.abccom.Share.gigyaShareChangeLink({clipid:detailObj.clipid,title:detailObj.title,link:detailObj.link,image:detailObj.image,description:detailObj.description,shareitem:$sharebar.find('.abcShareBar')});};$(document).ready(function(){var controlledObjs=(function(){var kaltura={};kaltura.$module=$('.videoplayer .module.kalPlayer, .module.kalPlayer.externalControl').first();kaltura.$playerParent=kaltura.$module.find('.kalCont.playerInit');if(kaltura.$playerParent.length>0){kaltura.player=kaltura.$playerParent.find('.kalPlayer').data('videoplayer');return kaltura;}else{return null;}})(),playerControllerObj=(function(){var playerDetails={};playerDetails.$controlModule=$('.videosSelection .datgSlider, .module.kalturaControl');playerDetails.$videoClips=playerDetails.$controlModule.find('.videoClip');if(playerDetails.$videoClips.length<=0){playerDetails=null;}
return playerDetails;})();abcdm.abccom.Hook('playerLOADMEDIAEND',{'hName':'externalDesc','hook':function(args){var $detailWrap,shareOptions,vidId;debugLog('mpe: playerLOADMEDIAEND');debugLog(args);if(args&&args.$kalPlayerDiv&&args.datgVideoPlayer){debugLog('mpe: playerLOADMEDIAEND passed');debugLog(args);$detailWrap=args.$kalPlayerDiv.parents('.module').find('.detailsWrapper');if($detailWrap.length>0){debugLog('mpe: playerLOADMEDIAEND $detailWrap found');var currentVideoObj=args.datgVideoPlayer.getPlayerData('feedProxy.entry');if(currentVideoObj){debugLog('mpe: playerLOADMEDIAEND currentVideoObj found');debugLog('now playing:');debugLog(currentVideoObj);$detailWrap.find('.videoTitle').text(currentVideoObj.title);$detailWrap.find('.videoDesc').text(currentVideoObj.content);vidId=currentVideoObj.guid.match(/VDKA.*/i);if(vidId&&vidId[0]){debugLog('vidId:');debugLog(vidId);shareOptions={clipid:vidId[0],title:currentVideoObj.title,link:currentVideoObj.link,image:currentVideoObj.media_thumbnail.url,description:currentVideoObj.description,};updateShareBar(shareOptions,args.$kalPlayerDiv.parents('.module').find('.shareBarContainer'));$('.videosSelection .sliderstrip .selected').removeClass('selected');$('.videosSelection .sliderstrip [data-media-id="'+vidId[0]+'"]').addClass('selected');abcdm.abccom.Hook('datgslider_gotoselected');if(!$('body.ShowIndexPage').length){abcdm.abccom.UrlBuddy.pushNewUrl(currentVideoObj.link.replace(/\/VD/gi,'/_m_VD'),currentVideoObj.title,{});abcdm.abccom.Comment.form(vidId);}else{debugLog('ShowIndexPage meta');var postDate='<div class="videoDetailWrapper"><div class="videoTitle">';postDate+=currentVideoObj.title;postDate+='</div><div class="videoDesc">';postDate+=currentVideoObj.description;postDate+='</div>';$detailWrap.html(postDate);}}else{debugLog('couldnt find vidId:'+vidId);}}else{debugLog('sfp_onMediaPlay called with bad currentVideoObj: %o with player: %o',currentVideoObj,args.$kalPlayerDiv);}}}}});abcdm.abccom.Hook('playerADSTART',{'hook':function(args){if(args.$kalPlayerDiv){args.$kalPlayerDiv.parents('.videoplayer .kalCont, .externalControl .kalCont').data('preroll',true);args.$kalPlayerDiv.parents('.module').addClass('hideDetails');$('#sfpSynchWrapper:not(.persistentSyncAd)').show();}}});abcdm.abccom.Hook('playerADEND',{'hook':function(args){if(args.$kalPlayerDiv){$('#sfpSynchWrapper:not(.persistentSyncAd)').find('._fwac').empty().end().hide();}}});abcdm.abccom.Hook('playerPLAYBACKSTART',{'hTiming':'pre','hook':function(args){if(args.$kalPlayerDiv){args.$kalPlayerDiv.parents('.videoplayer .kalCont, .externalControl .kalCont').data('preroll',false);args.$kalPlayerDiv.parents('.module').removeClass('hideDetails');}}});if(controlledObjs!==null){abcdm.abccom.Hook('videoplayer_ListenNextItem',{'hName':'datgSliderVideo','hook':function(args){var clipid;debugLog(args);if(args&&args.ele){clipid=$.trim(args.ele.find('.clipId').attr("title"));datg.Hook('sfp_doLoadAndPlayMedia',{'args':{'videoId':clipid,'playerId':controlledObjs.player.getPlayerId()}});}}});}});})(jQuery);

/** 
* @filepath: /abcdm/splitcontent.js
* @created: Tue, 26 Nov 13 13:01:28 -0800
* @serveraddr: 10.151.6.177
* @remoteaddr: 10.192.186.159
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

$(document).ready(function(){$('.splitContentControl a').click(function(e){e.preventDefault();var $parentSplitDiv=$(this).parents('.splitContent');if($parentSplitDiv.hasClass('less')){$parentSplitDiv.find('.splitContentMore').slideDown("slow",function(){$parentSplitDiv.removeClass('less').addClass('more');});}else{$parentSplitDiv.find('.splitContentMore').slideUp("slow",function(){$parentSplitDiv.removeClass('more').addClass('less');});}});});

/** 
* @filepath: /module-js/collection-biodetails.js
* @created: Tue, 26 Nov 13 13:01:28 -0800
* @serveraddr: 10.151.6.177
* @remoteaddr: 10.192.186.159
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

(function($){$(document).ready(function(){if(($('#primaryBio').length>=1)||($('#secondaryBio').length>=1)||($('#otherBio').length>=1)){$('#jumpToDiv').addClass('visible');$('#jumpToDiv').removeClass('hidden');}
if($('#primaryBio').length>=1){$('#jumpToCharacterBio').addClass('visible');$('#jumpToCharacterBio').removeClass('hidden');$('#jumpToCharacterBio').html($('#jumpToPrimaryBioModule').attr('title'));}
if($('#secondaryBio').length>=1){$('#jumpToActorBio').addClass('visible');$('#jumpToActorBio').removeClass('hidden');$('#jumpToActorBio').html($('#jumpToSecondaryBioModule').attr('title'));}
if($('#otherBio').length>=1){$('#jumpToOtherBio').addClass('visible');$('#jumpToOtherBio').removeClass('hidden');$('#jumpToOtherBio').html($('#jumpToOtherBioModule').attr('title'));}
if($('#bonusContent').length>=1){$('#jumpToBonusContent').addClass('visible');$('#jumpToBonusContent').removeClass('hidden');$('#jumpToBonusContent').html($('#jumpToBonusContentModule').attr('title'));}
if($('#commentsModule').length>=1){$('#jumpToComments').addClass('visible');$('#jumpToComments').removeClass('hidden');$('#jumpToComments').html($('#jumpToContentsModule').attr('title'));}});}(jQuery));

/** 
* @filepath: /module-js/ad/ad.js
* @created: Tue, 26 Nov 13 13:01:29 -0800
* @serveraddr: 10.151.6.177
* @remoteaddr: 10.192.186.159
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

var abcdm=abcdm||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.Player=abcdm.abccom.Player||{};abcdm.abccom.Slideshow=abcdm.abccom.Slideshow||{};abcdm.abccom.Slideshow.persistentPause=abcdm.abccom.Slideshow.persistentPause||function(){};abcdm.abccom.Ads=abcdm.abccom.Ads||{};$(function(){try{if($('body.mobile').length===0&&$('.gutterAd a, .gutterAd iframe, , .gutterAd embed, , .gutterAd object').length>0){$('body').css({'overflow-x':'hidden'});$('.gutterAd').addClass('background');abcdm.abccom.Hook('digAdGutters');}}catch(e){}
abcdm.abccom.Hook('digAdLRGutters',{"hTiming":'default','hook':function(options){if(typeof options==='object'&&options.leftImage&&options.rightImage&&options.leftLink&&options.rightLink){if($('body.mobile').length===0){try{$('.gutterAd').html('<a><img /></a>');if(options.internalAd!==true){$('.gutterAd a').attr('target','_blank');}
$('#leftGutter img').attr('src',options.leftImage);$('#rightGutter img').attr("src",options.rightImage);$('#leftGutter a').attr("href",options.leftLink);$('#rightGutter a').attr("href",options.rightLink);$('.gutterAd').addClass('background');$('body').css({'overflow-x':'hidden'});}catch(e){}}}}});abcdm.abccom.Hook('digAdBackground',{'hook':function(){if($('body.mobile').length===0){$('.gutterAd').addClass('background');$('body').css({'overflow-x':'hidden'});}}});abcdm.abccom.Player.displayWrapper=function(adObj){$('#sfpSynchInfo').hide();$('#adCompanionBanner').hide();$('.adBlockRectangles #sfpSynchWrapper').show();var divTarget=$('#sfpSynchWrapper');if(divTarget.length){var adObjStr='';if(typeof(adObj.iframe)!='undefined'){adObjStr+='<iframe src="'+adObj.iframe+'" ';if(typeof(adObj.assetWidth)!='undefined'){adObjStr+='width="'+adObj.assetWidth+'" ';}else{adObjStr+='width="300" ';}
if(typeof(adObj.assetHeight)!='undefined'){adObjStr+='height="'+adObj.assetHeight+'" ';}else{adObjStr+='height="250" ';}
adObjStr+='frameborder="0" border="0" marginwidth="0" marginheight="0" allowtransparency="true" scrolling="no"></iframe>';divTarget.html(adObjStr);}else if(typeof(adObj.assetURL)!='undefined'){divTarget.html('<a href="'+adObj.clickURL+'" target="_blank"><img border=0 src="'+adObj.assetURL+'"></a>');}}};abcdm.abccom.Player.closeWrapper=function(){var bgState=$('#videoPlayerOverlay').css('background-image'),divTarget=$('#sfpSynchWrapper');if(bgState!='none'){$('#sfpSynchInfo').show();}
if(divTarget.length){if(divTarget.hasClass('reuseAdSpace')){divTarget.find('#_fw_container_300x60slot').empty();}else if(!divTarget.hasClass('persistentSyncAd')){divTarget.html('');}}
abcdm.abccom.Slideshow.persistentPause(false);};abcdm.abccom.Player.displayCompanionBanners=function(banners,tracking){$('.adBlockRectangles #sfpSynchWrapper').hide();$('#sfpSynchInfo').html('');$('#adCompanionBanner').show();tmDisplayBanner(banners,"adCompanionBanner",300,250,null,tracking);};abcdm.abccom.Player.hideCompanionBanners=function(banners){if(!$('#adCompanionBanner').hasClass("persistentSyncAd")){$('#adCompanionBanner').hide();$('.adBlockRectangles #sfpSynchWrapper').show();tmHideBanner("adCompanionBanner");}};});abcdm.abccom.Ads.segScores=function(i){var o={};if(!i.indexOf("CBLM-001:")){i=i.substring(9);var id,sc,e=0,f=0,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(var b=0,a=i.length,l=a-(a%4);b<l;){var m=h.indexOf(i.charAt(b++));var k=h.indexOf(i.charAt(b++));f|=(m<<2|k>>4)<<(e++?0:8);f*=(e%=6)&&e-2?1:0;var j=h.indexOf(i.charAt(b++));if(j!=64){f|=((k&15)<<4|j>>2)<<(e++?0:8);if(!(e-2)){id=f;}
f*=(e%=6)&&e-2?1:0}
var g=h.indexOf(i.charAt(b++));if(g!=64){f|=((j&3)<<6|g)<<(e++?0:8);if(!(e-6)){o[id]=f;}
f*=(e%=6)&&e-2?1:0}}}
return o;};abcdm.abccom.Ads.refreshAds=function(){$('.csarRefreshable').attr('src',function(i,val){return val;});}
abcdm.abccom.Ads.fwSeg=function(){var fwAdCookie=abcdm.abccom.Ads.readCookie('CRBLM');if(fwAdCookie!=null){fwAdCookie=abcdm.abccom.Ads.segScores(fwAdCookie);fwAdCookieStr="";for(var i in fwAdCookie){if(fwAdCookie[i]>0){fwAdCookieStr=fwAdCookieStr+"&seg="+i;}}
if(fwAdCookieStr!=""){fwAdCookieStr=fwAdCookieStr.substr(1);}
return fwAdCookieStr;}};abcdm.abccom.Ads.readCookie=function(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length);}
return null;};fwSegStr=abcdm.abccom.Ads.fwSeg();fwWriteJs=function(fwStrJs){if(fwSegStr){if(fwStrJs.indexOf("ad;;")>0){fwStrJs=fwStrJs.replace("ad;;","ad;"+fwSegStr+';');}else{fwStrJs=fwStrJs.replace("ad;","ad;"+fwSegStr+'&');}}
document.write(fwStrJs);};