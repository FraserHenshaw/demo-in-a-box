

/** 
* @filepath: zclip,video-share,datg-kaltura-videoplayer,datg-kaltura-videoplayer-creator,kalplayer,url-buddy,kalhelper,mobilesignup,metdat,datgslider,met-help,schedule-day,ad,splitcontent,biodetails,timeago,sliderstrip
* @created: Tue, 26 Nov 13 13:03:10 -0800
* @serveraddr: 10.239.31.244
* @remoteaddr: 10.198.87.144
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/


/** 
* @filepath: /utils/jquery.zclip.min.js
* @created: Tue, 26 Nov 13 13:03:10 -0800
* @serveraddr: 10.239.31.244
* @remoteaddr: 10.198.87.144
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/
/*
 * zClip :: jQuery ZeroClipboard v1.1.1
 * http://steamdev.com/zclip
 *
 * Copyright 2011, SteamDev
 * Released under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Date: Wed Jun 01, 2011
 */

(function(a){a.fn.zclip=function(c){if(typeof c=="object"&&!c.length){var b=a.extend({path:"ZeroClipboard.swf",copy:null,beforeCopy:null,afterCopy:null,clickAfter:true,setHandCursor:true,setCSSEffects:true},c);return this.each(function(){var e=a(this);if(e.is(":visible")&&(typeof b.copy=="string"||a.isFunction(b.copy))){ZeroClipboard.setMoviePath(b.path);var d=new ZeroClipboard.Client();if(a.isFunction(b.copy)){e.bind("zClip_copy",b.copy)}if(a.isFunction(b.beforeCopy)){e.bind("zClip_beforeCopy",b.beforeCopy)}if(a.isFunction(b.afterCopy)){e.bind("zClip_afterCopy",b.afterCopy)}d.setHandCursor(b.setHandCursor);d.setCSSEffects(b.setCSSEffects);d.addEventListener("mouseOver",function(f){e.trigger("mouseenter")});d.addEventListener("mouseOut",function(f){e.trigger("mouseleave")});d.addEventListener("mouseDown",function(f){e.trigger("mousedown");if(!a.isFunction(b.copy)){d.setText(b.copy)}else{d.setText(e.triggerHandler("zClip_copy"))}if(a.isFunction(b.beforeCopy)){e.trigger("zClip_beforeCopy")}});d.addEventListener("complete",function(f,g){if(a.isFunction(b.afterCopy)){e.trigger("zClip_afterCopy")}else{if(g.length>500){g=g.substr(0,500)+"...\n\n("+(g.length-500)+" characters not shown)"}e.removeClass("hover");alert("Copied text to clipboard:\n\n "+g)}if(b.clickAfter){e.trigger("click")}});d.glue(e[0],e.parent()[0]);a(window).bind("load resize",function(){d.reposition()})}})}else{if(typeof c=="string"){return this.each(function(){var f=a(this);c=c.toLowerCase();var e=f.data("zclipId");var d=a("#"+e+".zclip");if(c=="remove"){d.remove();f.removeClass("active hover")}else{if(c=="hide"){d.hide();f.removeClass("active hover")}else{if(c=="show"){d.show()}}}})}}}})(jQuery);var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,$:function(a){if(typeof(a)=="string"){a=document.getElementById(a)}if(!a.addClass){a.hide=function(){this.style.display="none"};a.show=function(){this.style.display=""};a.addClass=function(b){this.removeClass(b);this.className+=" "+b};a.removeClass=function(d){var e=this.className.split(/\s+/);var b=-1;for(var c=0;c<e.length;c++){if(e[c]==d){b=c;c=e.length}}if(b>-1){e.splice(b,1);this.className=e.join(" ")}return this};a.hasClass=function(b){return !!this.className.match(new RegExp("\\s*"+b+"\\s*"))}}return a},setMoviePath:function(a){this.moviePath=a},dispatch:function(d,b,c){var a=this.clients[d];if(a){a.receiveEvent(b,c)}},register:function(b,a){this.clients[b]=a},getDOMObjectPosition:function(c,a){var b={left:0,top:0,width:c.width?c.width:c.offsetWidth,height:c.height?c.height:c.offsetHeight};if(c&&(c!=a)){b.left+=c.offsetLeft;b.top+=c.offsetTop}return b},Client:function(a){this.handlers={};this.id=ZeroClipboard.nextId++;this.movieId="ZeroClipboardMovie_"+this.id;ZeroClipboard.register(this.id,this);if(a){this.glue(a)}}};ZeroClipboard.Client.prototype={id:0,ready:false,movie:null,clipText:"",handCursorEnabled:true,cssEffects:true,handlers:null,glue:function(d,b,e){this.domElement=ZeroClipboard.$(d);var f=99;if(this.domElement.style.zIndex){f=parseInt(this.domElement.style.zIndex,10)+1}if(typeof(b)=="string"){b=ZeroClipboard.$(b)}else{if(typeof(b)=="undefined"){b=document.getElementsByTagName("body")[0]}}var c=ZeroClipboard.getDOMObjectPosition(this.domElement,b);this.div=document.createElement("div");this.div.className="zclip";this.div.id="zclip-"+this.movieId;$(this.domElement).data("zclipId","zclip-"+this.movieId);var a=this.div.style;a.position="absolute";a.left=""+c.left+"px";a.top=""+c.top+"px";a.width=""+c.width+"px";a.height=""+c.height+"px";a.zIndex=f;if(typeof(e)=="object"){for(addedStyle in e){a[addedStyle]=e[addedStyle]}}b.appendChild(this.div);this.div.innerHTML=this.getHTML(c.width,c.height)},getHTML:function(d,a){var c="";var b="id="+this.id+"&width="+d+"&height="+a;if(navigator.userAgent.match(/MSIE/)){var e=location.href.match(/^https/i)?"https://":"http://";c+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+e+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+d+'" height="'+a+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+b+'"/><param name="wmode" value="transparent"/></object>'}else{c+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+d+'" height="'+a+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+b+'" wmode="transparent" />'}return c},hide:function(){if(this.div){this.div.style.left="-2000px"}},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide();this.div.innerHTML="";var a=document.getElementsByTagName("body")[0];try{a.removeChild(this.div)}catch(b){}this.domElement=null;this.div=null}},reposition:function(c){if(c){this.domElement=ZeroClipboard.$(c);if(!this.domElement){this.hide()}}if(this.domElement&&this.div){var b=ZeroClipboard.getDOMObjectPosition(this.domElement);var a=this.div.style;a.left=""+b.left+"px";a.top=""+b.top+"px"}},setText:function(a){this.clipText=a;if(this.ready){this.movie.setText(a)}},addEventListener:function(a,b){a=a.toString().toLowerCase().replace(/^on/,"");if(!this.handlers[a]){this.handlers[a]=[]}this.handlers[a].push(b)},setHandCursor:function(a){this.handCursorEnabled=a;if(this.ready){this.movie.setHandCursor(a)}},setCSSEffects:function(a){this.cssEffects=!!a},receiveEvent:function(d,f){d=d.toString().toLowerCase().replace(/^on/,"");switch(d){case"load":this.movie=document.getElementById(this.movieId);if(!this.movie){var c=this;setTimeout(function(){c.receiveEvent("load",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var c=this;setTimeout(function(){c.receiveEvent("load",null)},100);this.ready=true;return}this.ready=true;try{this.movie.setText(this.clipText)}catch(h){}try{this.movie.setHandCursor(this.handCursorEnabled)}catch(h){}break;case"mouseover":if(this.domElement&&this.cssEffects){this.domElement.addClass("hover");if(this.recoverActive){this.domElement.addClass("active")}}break;case"mouseout":if(this.domElement&&this.cssEffects){this.recoverActive=false;if(this.domElement.hasClass("active")){this.domElement.removeClass("active");this.recoverActive=true}this.domElement.removeClass("hover")}break;case"mousedown":if(this.domElement&&this.cssEffects){this.domElement.addClass("active")}break;case"mouseup":if(this.domElement&&this.cssEffects){this.domElement.removeClass("active");this.recoverActive=false}break}if(this.handlers[d]){for(var b=0,a=this.handlers[d].length;b<a;b++){var g=this.handlers[d][b];if(typeof(g)=="function"){g(this,f)}else{if((typeof(g)=="object")&&(g.length==2)){g[0][g[1]](this,f)}else{if(typeof(g)=="string"){window[g](this,f)}}}}}}};

/** 
* @filepath: /abcdm/video-share.js
* @created: Tue, 26 Nov 13 13:03:10 -0800
* @serveraddr: 10.239.31.244
* @remoteaddr: 10.198.87.144
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

var abcdm=abcdm||{},datg=datg||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.SiteInfo=abcdm.abccom.SiteInfo||{};datg.VideoShare=datg.VideoShare||{};datg.View=datg.View||{};var dShareLog=abcdm.abccom.debugLog('vidshareLog');(function($){datg.VideoShare.defaultConfigOptions={buTitle:"",redirectUrl:null,redirectPath:"/service/redirect/video",sourceUrl:null,sourceUrlPath:"https://cdnsecakmi.kaltura.com/index.php/kwidget/wid/_585231/uiconf_id/",uiConf:null,preloaderPath:null,messageFadeOutTime:3000,messageCopiedText:"copied to clipboard",mainView:"videoshare-index",embedView:"_share-embedcode",directUrlView:"_share-directurl",zClipPath:"http://cdn.media.abc.go.com/m/_global/player/vp2k/util/ZeroClipboard.swf",fadeTime:600,video:{url:"",title:"",image:"",shortDescription:"",longDescription:"",width:644,height:362,largeHeight:362,mediumHeight:296,aspW:16,aspH:9,embedPreviewReduction:7,embedPreviewReductionSmaller:12,allowCustomSize:false,baseServer:null,autoplay:false,embedSizes:[{width:644,height:362},{width:526,height:296},{width:426,height:240}]},social:{appId:null,providers:[{"facebooknative":true},{"twitternative":true},{"googleplusnative":true}]},player:{'selector':""}};function VideoShare(root,options,id){var vidShareSelf=this,$vSocElem=$(root),$vSocVideoPlayer=$vSocElem.find('.playerWrapper'),videoPlayer=$vSocElem.find('.kalPlayer').data('videoplayer'),kdp=$vSocElem.find('.kalPlayer').data('videoplayer').getKDP(),minWidth=0,minHeight=0,maxWidth=0,maxHeight=0,videoDataCache={},doPopup,getDimsWithAspectRatio,getDirectUrl,getEmbedCode,getEncodedData,getMetaData,getMinMax,getPlayerDims,getPreloaderSecurePath,getRedirectUrl,getShareCode,getSourceUrl,getUiConf,onDataChange,postRender,renderShareIcons,setCloseEvent,setEmbedCopyEvent,setOnChangeEvents,setPopupEvent,setVideoData;this.showVideoShareBar=function(params){dShareLog('called showVideoShareBar');getShareCode();};this.hideVideoShareBar=function(params){dShareLog('called hideVideoShareBar');$vSocElem.find('.shareArea').fadeOut(options.fadeTime,function(){$vSocElem.removeClass('shareOpen');$vSocElem.find('.kalPlayer').removeClass('shareOpen');$vSocElem.find('.shareCode').empty();abcdm.abccom.Hook("sfp_doShareClose",{"args":{'playerId':videoPlayer.getPlayerId()}});});};this.changeVideoShareBar=function(params){dShareLog("params");if(params&&params.url&&params.url.indexOf('http')<0){params.url=options.video.baseServer+params.url;}else if(params&&!params.url&&!options.video.url){params.url=options.video.baseServer+window.location.pathname;}
params.url.replace(/\/VD/gi,'/_m_VD');dShareLog(params);options=$.extend(true,{},options,params);dShareLog(options);abcdm.abccom.Hook("VideoShare_changeItem");onDataChange();};setVideoData=function(data){videoDataCache[data.video.id]=data.video;dShareLog(videoDataCache);options.video=$.extend(true,{},options.video,data.video);dShareLog(options.video);};onDataChange=function(){options.redirectUrl=null;options.sourceUrl=null;getEncodedData();getMetaData();};postRender=function(){dShareLog('postRender');$vSocElem.addClass('shareOpen');$vSocElem.find('.kalPlayer').addClass('shareOpen');var player=$vSocElem.find('.kalCont'),playerWidth=player.css("width"),playerHeight=player.css("height");$vSocElem.find('.shareArea').css({width:playerWidth,height:playerHeight}).fadeIn(options.fadeTime);setCloseEvent();setOnChangeEvents();renderShareIcons();setPopupEvent();};getPlayerDims=function(){var playerHeight=options.video.largeHeight;if(kdp){playerHeight=$(kdp).height();}
if(playerHeight>=options.video.largeHeight){$vSocElem.find('.videoShare').addClass('large');}else if(playerHeight>=options.video.mediumHeight){$vSocElem.find('.videoShare').addClass('medium');options.video.embedPreviewReduction=options.video.embedPreviewReductionSmaller;}else{$vSocElem.find('.videoShare').addClass('small');}};getEncodedData=function(){if(options.buTitle){options.buTitle=encodeURIComponent(options.buTitle);}
if(options.video.url){options.encodedUrl=encodeURIComponent(options.video.url);options.url=options.video.url;}
if(options.video.title){options.encodedTitle=encodeURIComponent(options.video.title);}
if(options.video.subTitle){options.encodedSubTitle=encodeURIComponent(options.video.subTitle);}
if(options.video.image){options.encodedImage=encodeURIComponent(options.video.image);options.image=options.video.image;}
if(options.video.longDescription){options.encodedLongDescription=encodeURIComponent(options.video.longDescription);}};getMetaData=function(){if(options.social&&!options.social.appId){options.social.appId=$('meta[property="fb:app_id"]').attr('content');}
if(!options.sourceUrl){options.sourceUrl=getSourceUrl();}
if(!options.redirectUrl){options.redirectUrl=getRedirectUrl();}};getRedirectUrl=function(){var redUrl=((abcdm.abccom.SiteInfo&&abcdm.abccom.SiteInfo.baseserver)?abcdm.abccom.SiteInfo.baseserver:"")
+options.redirectPath+"?playlist="+options.video.collection+"&video="+options.video.id;if(options.video.tmsId){redUrl+="&tmsId="+options.video.tmsId;}
return encodeURIComponent(redUrl);};getMinMax=function(){$.each(options.video.embedSizes,function(key,value){if(minWidth===0){minWidth=value.width;minHeight=value.height;maxWidth=value.width;maxHeight=value.height;}
if(minWidth>value.width){minWidth=value.width;minHeight=value.height;}else if(maxWidth<value.width){maxWidth=value.width;maxHeight=value.height;}
options.video.embedSizes[key].modWidth=(value.width/options.video.embedPreviewReduction);options.video.embedSizes[key].modHeight=(value.height/options.video.embedPreviewReduction);});dShareLog("minW:"+minWidth+" minH:"+minHeight);dShareLog("maxW:"+maxWidth+" maxH:"+maxHeight);};getDirectUrl=function(url){var output=datg.View.renderPartial(options.directUrlView,{"data":{"url":url}});$vSocElem.find('.directUrl .url').replaceWith(output);setOnChangeEvents();};getEmbedCode=function(width,height,videoId){var output=datg.View.renderPartial(options.embedView,{"data":{"video":{"width":width,"height":height,"baseServer":options.video.baseServer,"id":videoId,"autoplay":options.video.autoplay}}});$vSocElem.find('.embedCode').html(output);setEmbedCopyEvent();};getShareCode=function(){dShareLog(options);$vSocElem.find('.shareCode').empty();var output=datg.View.render(options.mainView,{"data":options,"shareId":id});$vSocElem.find('.shareCode').html(output);postRender();};getSourceUrl=function(){var url=options.sourceUrlPath;if(!options.uiConf){getUiConf();}
if(!options.preloaderPath){getPreloaderSecurePath();}
url+=options.uiConf;url+='?VP2Core.videoID='+options.video.id;url+='&Playlist.playlistID='+options.video.collection;url+='&preloaderPath='+options.preloaderPath;url+='&usePreloaderBufferAnimation=true&centerPreloader=true';return encodeURIComponent(url);};getUiConf=function(){options.uiConf=videoPlayer.getPlayerData('configProxy.kuiConf.id');};getPreloaderSecurePath=function(){options.preloaderPath=$vSocElem.find('.kalCont').data('vp2k').getPreloaderSecurePath();};renderShareIcons=function(){if(window.FB&&window.FB.XFBML&&typeof window.FB.XFBML.parse==='function'){FB.XFBML.parse();}
if(window.gapi&&window.gapi.plusone&&typeof window.gapi.plusone.go==='function'){gapi.plusone.go("googlePlus_"+this.$root.attr('id'));}
if(window.twttr&&window.twttr.widgets&&typeof window.twttr.widgets.load==='function'){twttr.widgets.load();}
abcdm.abccom.Hook("VideoShare_renderShareIcons");};getDimsWithAspectRatio=function(w,h){var aspectRatioW=$vSocElem.data('aspectRatioW'),aspectRatioH=$vSocElem.data('aspectRatioH'),height=0,width=0;if(aspectRatioW===undefined){aspectRatioW=options.video.aspW/options.video.aspH;$vSocElem.data('aspectRatioW',aspectRatioW);}
if(aspectRatioH===undefined){aspectRatioH=options.video.aspH/options.video.aspW;$vSocElem.data('aspectRatioH',aspectRatioH);}
if(w===0&&h>0){width=Math.round(h*aspectRatioW);height=h;}else if(h===0&&w>0){width=w;height=Math.round(w*aspectRatioH);}
if(width>maxWidth||height>maxHeight){width=maxWidth;height=maxHeight;}else if(width<minWidth||height<minHeight){width=minWidth;height=minHeight;}
return{"w":width,"h":height};};setOnChangeEvents=function(){$vSocElem.find('.shareArea .embedSizes .size').click(function(e){$vSocElem.find('.selected').removeClass("selected");$(this).addClass("selected");abcdm.abccom.Hook("VideoShare_embedSizeChange");options.video.width=$(this).data('width');options.video.height=$(this).data('height');getEmbedCode(options.video.width,options.video.height,options.video.id);});if($vSocElem.find('.shareArea .embedSizes .size[data-width='+options.video.width+']').length>0){$vSocElem.find('.shareArea .embedSizes .size[data-width='+options.video.width+']').addClass('selected');}
$vSocElem.find('.shareArea .size.embedCustom input').change(function(){var fieldName=$(this).attr('name'),newWidth=0,newHeight=0,newDims;if(fieldName==='width'){newDims=getDimsWithAspectRatio($.trim($(this).attr('value')),0);}else{newDims=getDimsWithAspectRatio(0,$.trim($(this).attr('value')));}
if(newDims&&newDims.w&&newDims.h){newWidth=newDims.w;newHeight=newDims.h;$vSocElem.find('.shareArea .size.embedCustom input[name=width]').attr('value',newWidth);$vSocElem.find('.shareArea .size.embedCustom input[name=height]').attr('value',newHeight);$vSocElem.find('.shareArea .size.embedCustom').data('width',newWidth);$vSocElem.find('.shareArea .size.embedCustom').data('height',newHeight);$vSocElem.find('.shareArea .size.embedCustom').trigger('click');}});$vSocElem.find('.shareArea .autoplay input').change(function(){options.video.autoplay=$(this).is(":checked");getEmbedCode(options.video.width,options.video.height,options.video.id);});$vSocElem.find('.directUrl.section .url').zclip({path:options.zClipPath,copy:$.trim($vSocElem.find('.directUrl.section .url').text()),afterCopy:function(){abcdm.abccom.Hook("VideoShare_directUrlCopied");$vSocElem.find('.directUrl.section .url').html(options.messageCopiedText);setTimeout(function(){getDirectUrl(options.url);},options.messageFadeOutTime);}});setEmbedCopyEvent();};setEmbedCopyEvent=function(){$vSocElem.find('.datgButton.copy').zclip({path:options.zClipPath,copy:$.trim($vSocElem.find('.embedCode textarea').text()),afterCopy:function(){abcdm.abccom.Hook("VideoShare_embedCodeCopied");$vSocElem.find('.embedCode textarea').val('\n'+options.messageCopiedText);setTimeout(function(){getEmbedCode(options.video.width,options.video.height,options.video.id);},options.messageFadeOutTime);}});};setCloseEvent=function(){$vSocElem.find('.videoCloseButton').click(function(e){e.preventDefault();vidShareSelf.hideVideoShareBar();});};setPopupEvent=function(){$vSocElem.find('.social').on('click',doPopup);};doPopup=function(){window.open($(this).attr('href'),'','menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');return false;};dShareLog($vSocElem.find('.kWidgetIframeContainer'));if($vSocElem.find('.kWidgetIframeContainer').length==0){abcdm.abccom.Hook("VideoShare_init");if(options.video&&!options.video.baseServer){options.video.baseServer=(abcdm.abccom.SiteInfo&&abcdm.abccom.SiteInfo.baseserver)?abcdm.abccom.SiteInfo.baseserver:"";}
getPlayerDims();getMinMax();dShareLog(options);}else{dShareLog("VideoShare_init skipped - html5player");}}
$.fn.videoShareInit=function(id,options){var dShareOptions;abcdm.abccom.Hook("VideoShare_preInit");dShareOptions=$.extend(true,{},datg.VideoShare.defaultConfigOptions,options);this.each(function(){$(this).data('vidshare',new VideoShare($(this),dShareOptions,id));});return this;};$.fn.videoShareOpen=function(params){if($(this).data('vidshare')){$(this).data('vidshare').showVideoShareBar(params);}};$.fn.videoShareClose=function(params){if($(this).data('vidshare')){$(this).data('vidshare').hideVideoShareBar(params);}};$.fn.videoShareChangeItem=function(params){dShareLog('videoShareChangeItem');if($(this).data('vidshare')){$(this).data('vidshare').changeVideoShareBar(params);}};$(document).ready(function(){abcdm.abccom.Hook('sfp_doShareOpen',{'hook':function(obj){if(obj.$kalPlayerDiv){dShareLog('sfp_doShareOpen was passed good obj');obj.$kalPlayerDiv.parents('div.module.kalPlayer').videoShareOpen();}}});abcdm.abccom.Hook('playerLOADMEDIAEND',{'hook':function(obj){dShareLog('videoShare---playerLOADMEDIAEND');dShareLog(obj);if(obj&&obj.datgVideoPlayer&&obj.$kalPlayerDiv){if(obj.datgVideoPlayer.isHtml5()){dShareLog('playerLOADMEDIAEND---html5 player');}else{var feed=obj.datgVideoPlayer.getPlayerData('feedProxy'),videoData={id:feed.videoId,image:feed.entry.media_thumbnail.url,longDescription:feed.entry.description,title:feed.entry.title,url:feed.entry.link.replace(/\/VD/gi,'/_m_VD')};obj.$kalPlayerDiv.parents('div.module.kalPlayer').videoShareChangeItem({feed:obj.kdp.evaluate('{feedProxy}'),video:videoData});}}else{dShareLog('playerLOADMEDIAEND---no obj');}}});});})(jQuery);

/** 
* @filepath: /datg/kaltura/datg.kaltura.videoplayer.js
* @created: Tue, 26 Nov 13 13:03:10 -0800
* @serveraddr: 10.239.31.244
* @remoteaddr: 10.198.87.144
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

var datg=datg||{},isLegacySite=false,debug;try{datg.nameSpaceGen(['Hook','Prefs.Video','Utils','Dev','VideoPlayer']);debug=datg.debugLog('datgKSFPlayer');}catch(e){isLegacySite=true;var abcdm=abcdm||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.Hook=abcdm.abccom.Hook||{};abcdm.abccom.debugLog=abcdm.abccom.debugLog||function(){return function(){};};datg.Hook=datg.Hook||function(){};datg.Prefs=datg.Prefs||{};datg.Prefs.Video=datg.Prefs.Video||{};datg.Utils=abcdm.abccom.Utils||{};datg.VideoPlayer=datg.VideoPlayer||{};datg.Dev=datg.Dev||{};datg.Dev.isDevMode=((location.host.indexOf('local')>-1)||(location.host.indexOf('editorial')>-1)||(location.host.indexOf('qa')>-1)||(location.host.indexOf('staging')>-1));debug=abcdm.abccom.debugLog('datgKSFPlayer');debug('isLegacySite');}
datg.Prefs.Video.ScreenSize={xlarge:{width:1280,height:720},large:{width:896,height:504},medium:{width:704,height:396},small:{width:416,height:234},xsmall:{width:256,height:144},micro:{width:192,height:108},responsive:null};(function($){var defaultConfig={Player:{size:'responsive',sfpDebug:(location.search.indexOf('sfpDebugMode')>-1&&datg.Dev.isDevMode)},Kaltura:{targetId:null,wid:'_585231',flashvars:{swid:$.cookie('SWID')},params:{wmode:'opaque'},readyCallback:function(playerId){var $kdp=$('#'+playerId).parents('div .kalPlayer');if($kdp&&$kdp.data('videoplayer')){$kdp.data('videoplayer').onReadyCallback();}}}},VideoPlayer=function(root,config){var $root=root,$player,_config=config,_isPlayer=false,playerRatio=".5625",playerControlsHeight=31,drawPlayerContainer;drawPlayerContainer=function(){var id=_config.Kaltura.targetId;$root.append('<div id="'+id+'" style="width:100%;height:100%" />').wrap('<div class="videoWrapper" />');$player=$root.find('#'+id);};this.isPlayer=function(){return _isPlayer;};this.create=function(){if(!_isPlayer){drawPlayerContainer();if(_config.Player.size){if(typeof _config.Player.size==="string"&&datg.Prefs.Video.ScreenSize[_config.Player.size]){debug('has Player.size using constant');this.resize(datg.Prefs.Video.ScreenSize[_config.Player.size]);}else if(typeof _config.Player.size==="object"){debug('has Player.size using object');this.resize(_config.Player.size);}}
debug(_config);kWidget.embed(_config.Kaltura);$root.removeClass('off').addClass('on');}};this.destroy=function(){if(_isPlayer){$root.empty().removeClass('on').addClass('off');_isPlayer=false;}};this.resize=function(size){var w=(size&&size.width)?size.width:null,h=(size&&size.height)?size.height:null;if(w&&h){if(this.getKDP()){var kdp=this.getKDP();$(kdp).width(w).height(h);}else{$player.height(h).width(w);}
$root.width(w);}};this.getHeightFromRatio=function(){var playerWidth=parseInt($root.width()),newHeight=0;newHeight=(playerRatio*playerWidth)+playerControlsHeight;return newHeight;};this.getKDP=function(){return document.getElementById(_config.Kaltura.targetId);};this.getPlayerId=function(){var kdpPlayer=this.getKDP();if(kdpPlayer){return $(kdpPlayer).attr('id');}
return null;};this.getPlayerData=function(prop){return this.getKDP().evaluate('{'+prop+'}');};this.isHtml5=function(){return this.getPlayerData('isHTML5');};this.isShareEnabled=function(){return this.getPlayerData('configProxy.flashvars.Datg.shareEnabled');};this.onReadyCallback=function(){_isPlayer=true;this.addPlayerClass();};this.addPlayerClass=function(){var playerClass="";if(typeof _config.Player.size==="string"&&datg.Prefs.Video.ScreenSize[_config.Player.size]){playerClass+=_config.Player.size;}
if(this.isHtml5()){playerClass+=" html5";}else{playerClass+=" flash";}
$root.addClass(playerClass);};};datg.VideoPlayer=function(id,overrideConfig){var checkOverrides=function(config){if(config.Player.sfpDebug){debug('enabling VideoPlayer debug mode');config.Kaltura.flashvars.jsTraces=true;config.Kaltura.flashvars.debugMode=true;config.Kaltura.flashvars.debugLevel=2;mw.setConfig("debug",true);}
mw.setConfig("Kaltura.EnableEmbedUiConfJs",true);if(!kWidget.supportsFlash()||kWidget.isIOS()||kWidget.isAndroid()||(isLegacySite&&$('body.datgGenMobile').length)){mw.setConfig("forceMobileHTML5",true);config.Kaltura.flashvars.autoPlay=false;config.Kaltura.flashvars['mediaProxy.preferedFlavorBR']=3000;config.Kaltura.flashvars['disableBitrateCookie']=true;}
if(datg.Dev.isDevMode){var pd;if(isLegacySite){pd=$.url.param("publishDate");}else{pd=$.url(location).param("publishDate");}
if(pd){config.Kaltura.flashvars['FeedConsumer.pubDate']='publishDate='+pd;}}
return config;};$('#'+id).each(function(){var config,videoPlayer,$this=$(this);config=$.extend(true,{},defaultConfig,overrideConfig);config=checkOverrides(config);videoPlayer=new VideoPlayer($this,config);$this.data('videoplayer',videoPlayer);});};})(jQuery);

/** 
* @filepath: /datg/kaltura/datg.kaltura.videoplayer.creator.js
* @created: Tue, 26 Nov 13 13:03:10 -0800
* @serveraddr: 10.239.31.244
* @remoteaddr: 10.198.87.144
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

var datg=datg||{};try{datg.nameSpaceGen(['VideoPlayer']);}catch(e){datg.VideoPlayer=datg.VideoPlayer||{};}
(function($){datg.VideoPlayerCreator=function(){var $kaltura=$('.kalPlayer.off'),parseData,playerNum=0;parseData=function(data){return data?$.parseJSON(data.replace(/'/gi,'"')):{};};if($('body.datgGen, body.datgGenMobile').length){$kaltura=$('.kalCont.playerInit .kalPlayerInit');abcdm.abccom.KalPlayer.init($kaltura);}
$kaltura.each(function(){var $this=$(this),video=parseData($this.data('kaltura')),uiconf=$this.data('uiconf'),playerSettings=parseData($this.data('player')),config,selector;config={Player:playerSettings,Kaltura:{uiconf_id:null,flashvars:null}};if(!$this.attr('id')){$this.attr('id','player-'+playerNum++);}
selector=$this.attr('id');config.Kaltura.targetId='kdp-'+selector;config.Kaltura.uiconf_id=uiconf;config.Kaltura.flashvars=video;datg.VideoPlayer(selector,config);$('#'+selector).data('videoplayer').create();});};$(document).ready(function(){datg.VideoPlayerCreator();});})(jQuery);

/** 
* @filepath: /module-js/kalplayer.js
* @created: Tue, 26 Nov 13 13:03:10 -0800
* @serveraddr: 10.239.31.244
* @remoteaddr: 10.198.87.144
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

var abcdm=abcdm||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.Hook=abcdm.abccom.Hook||function(){};abcdm.abccom.debugLog=abcdm.abccom.debugLog||function(){};abcdm.abccom.KalPlayer=abcdm.abccom.KalPlayer||{};(function($){var debugLog=abcdm.abccom.debugLog('kalplayer'),doPlayerActions=function(playerSelector,action,args){var $player=$(playerSelector).filter('.kalCont');if($player.length>=0){$player.each(function(){});}},translateLegacyNames=function(jsonData,name,value){name=name.toLowerCase();switch(name){case"id":case"class":case"style":break;case"kml":jsonData["kml"]=value;break;case"kmlpath":jsonData["kmlPath"]=value;break;case"referer":case"referrer":jsonData["referer"]=value;jsonData["referrer"]=value;break;case"enabledebugmode":jsonData["jsTraces"]='true';jsonData["debugMode"]='true';jsonData["debugLevel"]='2';break;case"vp:wmode":jsonData["wmode"]=value;break;case"vp:allowcookies":jsonData["allowCookies"]=value;break;case"vp:autoplay":jsonData["autoPlay"]=value;break;case"vp:loop":jsonData["FeedConsumer.loop"]=value;break;case"vp:preloader":jsonData["preloaderPath"]=value;jsonData["centerPreloader"]="true";jsonData["usePreloaderBufferAnimation"]="true";break;case"vp:playlist":case"vp:playlistid":jsonData["FeedConsumer.playlistId"]=value;break;case"vp:show":jsonData["AdmiralAckbar.showId"]=value;break;case"vp:showname":jsonData["FeedConsumer.show"]=value;break;case"vp:source":jsonData["FeedConsumer.source"]=value;break;case"vp:video":case"vp:videoid":case"vp:entry":jsonData["FeedConsumer.videoId"]=value;break;case"vp:start":jsonData["FeedConsumer.start"]=value;break;case"acd:text":jsonData["AdCountdown.textValue"]=value;break;case"cs:c2":jsonData["comscore.c2"]=value;break;case"fw:autoplay":jsonData["fw_autoplay"]=value;break;case"fw:unsolicited":jsonData["fw_unsolicited"]=value;break;case"fw:ssid":jsonData["freeWheel.siteSectionId"]=value;break;case"fw:ssfid":jsonData["freeWheel.siteSectionFallbackId"]=value;break;case"fw:nid":jsonData["freeWheel.networkId"]=value;break;case"fw:ssnid":jsonData["freeWheel.siteSectionNetworkId"]=value;break;case"fw:vanid":jsonData["freeWheel.videoAssetNetworkId"]=value;break;case"fw:vafid":jsonData["freeWheel.videoAssetFallbackId"]=value;break;case"fw:surl":jsonData["freeWheel.serverUrl"]=value;break;case"fw:surlhtml5":jsonData["freeWheel.serverUrlHTML5"]=value;break;case"fw:pp":jsonData["freeWheel.playerProfile"]=value;break;case"fw:pphtml5":jsonData["freeWheel.playerProfileHTML5"]=value;break;case"nc:cid":jsonData["nielsenCombined.clientid"]=value;break;case"nc:vcid":jsonData["nielsenCombined.vcid"]=value;break;case"nvc:cid":jsonData["nielsenVideoCensus.clientId"]=value;break;case"nvc:vcid":jsonData["nielsenVideoCensus.videoCensusId"]=value;break;case"o:playername":jsonData["Omniture.playerName"]=value;break;case"o:movieid":jsonData["Omniture.movieID"]=value;break;case"o:prefix":jsonData["Omniture.prefix"]=value;break;case"o:prefixoverride":jsonData["Omniture.prefixOverride"]=value;break;case"o:hier1":jsonData["Omniture.hier1"]=value;break;case"o:pagename":jsonData["Omniture.pageName"]=value;break;case"o:account":jsonData["Omniture.account"]=value;break;case"o:secondary":jsonData["Omniture.secondaryAccount"]=value;break;case"o:site":jsonData["Omniture.site"]=value;break;case"o:vns":jsonData["Omniture.visitorNamespace"]=value;break;case"pp:autoadvance":jsonData["autoAdvance"]=value;break;case"plugin:socialmedia":jsonData["Datg.shareEnabled"]=value;break;default:break;}
return jsonData;},convertEmbedOptions=function($legacyPlayer){var newJson={},playerSettings={},confId="",jsonStrKal="",jsonStrPlayer="";if($legacyPlayer.length&&$legacyPlayer){$legacyPlayer.removeClass('kalPlayerInit').addClass('kalPlayer off');$.each($legacyPlayer[0].attributes,function(index,attr){var name=attr.name,value=attr.value;if(name!==null&&name!==""&&name!==undefined&&value!==null&&value!==""&&value!==undefined){if(name==="vp:config"){confId=value;}else if(name==="width"||name==="height"){playerSettings.size=playerSettings.size||{};playerSettings.size[name]=value;}else{newJson=translateLegacyNames(newJson,name,value);}}});newJson.flavorTags='uplynk';jsonStrKal=JSON.stringify(newJson);jsonStrPlayer=JSON.stringify(playerSettings);$legacyPlayer.data('kaltura',jsonStrKal.replace(/"/gi,"'"));$legacyPlayer.data('uiconf',confId);$legacyPlayer.data('player',jsonStrPlayer.replace(/"/gi,"'"));}};abcdm.abccom.KalPlayer.init=function($kaltura,options){if($kaltura.length<=0){debugLog('kalplayer.js: init obj failed');return null;}
$kaltura.each(function(){var $this=$(this),$player=$this.is('.kalPlayerInit')?$this:$this.find('.kalPlayerInit');debugLog('kalplayer.js:$kaltura.each');convertEmbedOptions($player);});return $kaltura;};abcdm.abccom.KalPlayer.play=function(id,videoId,timecode){doPlayerActions(id,'play',[videoId,timecode]);};abcdm.abccom.KalPlayer.loadPlaylist=function(id,playlistId,videoId,mediaIndex){doPlayerActions(id,'loadPlaylist',[playlistId,videoId,mediaIndex]);};abcdm.abccom.KalPlayer.loadMedia=function(id,videoId){doPlayerActions(id,'loadloadMedia',[videoId]);};abcdm.abccom.KalPlayer.pause=function(id){doPlayerActions(id,'pause');};abcdm.abccom.KalPlayer.resume=function(id){doPlayerActions(id,'resume');};abcdm.abccom.KalPlayer.fullscreen=function(id,value){doPlayerActions(id,'fullscreen',[value]);};abcdm.abccom.KalPlayer.healthCheck=function(action){switch(action){case'init':if($('#playerEvents').length<=0){if($('.kalCont')){$('.kalCont').append('<div id="playerEvents" style="display:none;"></div>');}}
break;case'success':if($('#playerEvents').length>0){debugLog('kalplayer.js: #playerEvents found')
$('#playerEvents').text(action);}
break;default:break;}};})(jQuery);

/** 
* @filepath: /abcdm/url-buddy.js
* @created: Tue, 26 Nov 13 13:03:10 -0800
* @serveraddr: 10.239.31.244
* @remoteaddr: 10.198.87.144
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

var abcdm=abcdm||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.UrlBuddy=abcdm.abccom.UrlBuddy||{};var ubLog=abcdm.abccom.debugLog('UrlBuddy');(function($){abcdm.abccom.UrlBuddy.checkUrlHash=function(dontClearHash){var hashParamStart=location.hash.indexOf('#?'),hashWithSlash=location.hash.slice(1);if(!dontClearHash&&hashWithSlash.length>0){location.hash="";}
if(hashParamStart>=0){return abcdm.abccom.Utils.paramStringToObject(window.location.href.slice(hashParamStart+2));}else if(hashWithSlash.length>0){var hashObj=new Object;hashObj.urlString=hashWithSlash;return hashObj;}
return{};};abcdm.abccom.UrlBuddy.pushNewUrl=function(urlMod,title,passParams,noHash){var urlString="";if(typeof(urlMod)==='object'){urlString=abcdm.abccom.UrlBuddy.generateParamUrl(urlMod);}
else{urlString=urlMod;}
if(passParams){var urlParams=decodeURI(window.location.search.substring(1));if(urlParams&&urlParams!==''){if(urlString.indexOf("?")>=0){urlString+='&'+urlParams;}
else{urlString+='?'+urlParams;}}}
if((!noHash)&&$("body.ie7").length>0||$("body.ie8").length>0||$("body.ie9").length>0){window.location.hash=urlString;}
else{if(typeof history.pushState=='function'){history.pushState(null,title,urlString);}
else
{window.location.hash=urlString;}}};abcdm.abccom.UrlBuddy.generateParamUrl=function(paramObject){var paramString="",first=true;for(var param in paramObject){if(first){paramString+="?"+param+"="+paramObject[param];first=false;}
else{paramString+="&"+param+"="+paramObject[param];}}
return paramString;};abcdm.abccom.UrlBuddy.generateUrlWithoutParam=function(removeParam){var uri=decodeURI(window.location.search.substring(0));var currentParams=uri.split("?")[1];if(!currentParams){return"";}
currentParams=currentParams.split("&");var newParams={};for(var param in currentParams){var paramStrings=currentParams[param].split("=");if(paramStrings[0]!=removeParam){newParams[paramStrings[0]]=paramStrings[1];}}
return abcdm.abccom.UrlBuddy.generateParamUrl(newParams);};$(document).ready(function(){});})(jQuery);

/** 
* @filepath: /module-js/kaltura-helper.js
* @created: Tue, 26 Nov 13 13:03:11 -0800
* @serveraddr: 10.239.31.244
* @remoteaddr: 10.198.87.144
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

abcdm.abccom.KalPlayer=abcdm.abccom.KalPlayer||{};abcdm.abccom.KalPlayer.Detail={loopThisVideo:false};abcdm.abccom.Share=abcdm.abccom.Share||{};abcdm.abccom.Share.gigyaShareChangeLink=abcdm.abccom.Share.gigyaShareChangeLink||function(){};abcdm.abccom.UrlBuddy=abcdm.abccom.UrlBuddy||{};abcdm.abccom.UrlBuddy.pushNewUrl=abcdm.abccom.UrlBuddy.pushNewUrl||function(){};abcdm.abccom.Comment=abcdm.abccom.Comment||{};abcdm.abccom.Comment.form=abcdm.abccom.Comment.form||function(){};abcdm.abccom.SiteInfo=abcdm.abccom.SiteInfo||{baseserver:document.location.origin};abcdm.abccom.VhelperOptions=abcdm.abccom.VhelperOptions||{};(function($){var debugLog=abcdm.abccom.debugLog('kalplayerdetail'),updateShareBar;updateShareBar=function(detailObj,$sharebar){debugLog('updateShareBar');debugLog(detailObj);var htmlStr;if($sharebar.find('.abcShareBar').length<=0){htmlStr='<div class="abcShareBar" id="abcShareBar-';htmlStr+=detailObj.clipid;htmlStr+='"><div class="sharebarLeft" id="div_left_';htmlStr+=detailObj.clipid;htmlStr+='"></div></div>';$sharebar.html(htmlStr);}
abcdm.abccom.Share.gigyaShareChangeLink({clipid:detailObj.clipid,title:detailObj.title,link:detailObj.link,image:detailObj.image,description:detailObj.description,shareitem:$sharebar.find('.abcShareBar')});};$(document).ready(function(){var controlledObjs=(function(){var kaltura={};kaltura.$module=$('.videoplayer .module.kalPlayer, .module.kalPlayer.externalControl').first();kaltura.$playerParent=kaltura.$module.find('.kalCont.playerInit');if(kaltura.$playerParent.length>0){kaltura.player=kaltura.$playerParent.find('.kalPlayer').data('videoplayer');return kaltura;}else{return null;}})(),playerControllerObj=(function(){var playerDetails={};playerDetails.$controlModule=$('.videosSelection .datgSlider, .module.kalturaControl');playerDetails.$videoClips=playerDetails.$controlModule.find('.videoClip');if(playerDetails.$videoClips.length<=0){playerDetails=null;}
return playerDetails;})();abcdm.abccom.Hook('playerLOADMEDIAEND',{'hName':'externalDesc','hook':function(args){var $detailWrap,shareOptions,vidId;debugLog('mpe: playerLOADMEDIAEND');debugLog(args);if(args&&args.$kalPlayerDiv&&args.datgVideoPlayer){debugLog('mpe: playerLOADMEDIAEND passed');debugLog(args);$detailWrap=args.$kalPlayerDiv.parents('.module').find('.detailsWrapper');if($detailWrap.length>0){debugLog('mpe: playerLOADMEDIAEND $detailWrap found');var currentVideoObj=args.datgVideoPlayer.getPlayerData('feedProxy.entry');if(currentVideoObj){debugLog('mpe: playerLOADMEDIAEND currentVideoObj found');debugLog('now playing:');debugLog(currentVideoObj);$detailWrap.find('.videoTitle').text(currentVideoObj.title);$detailWrap.find('.videoDesc').text(currentVideoObj.content);vidId=currentVideoObj.guid.match(/VDKA.*/i);if(vidId&&vidId[0]){debugLog('vidId:');debugLog(vidId);shareOptions={clipid:vidId[0],title:currentVideoObj.title,link:currentVideoObj.link,image:currentVideoObj.media_thumbnail.url,description:currentVideoObj.description,};updateShareBar(shareOptions,args.$kalPlayerDiv.parents('.module').find('.shareBarContainer'));$('.videosSelection .sliderstrip .selected').removeClass('selected');$('.videosSelection .sliderstrip [data-media-id="'+vidId[0]+'"]').addClass('selected');abcdm.abccom.Hook('datgslider_gotoselected');if(!$('body.ShowIndexPage').length){abcdm.abccom.UrlBuddy.pushNewUrl(currentVideoObj.link.replace(/\/VD/gi,'/_m_VD'),currentVideoObj.title,{});abcdm.abccom.Comment.form(vidId);}else{debugLog('ShowIndexPage meta');var postDate='<div class="videoDetailWrapper"><div class="videoTitle">';postDate+=currentVideoObj.title;postDate+='</div><div class="videoDesc">';postDate+=currentVideoObj.description;postDate+='</div>';$detailWrap.html(postDate);}}else{debugLog('couldnt find vidId:'+vidId);}}else{debugLog('sfp_onMediaPlay called with bad currentVideoObj: %o with player: %o',currentVideoObj,args.$kalPlayerDiv);}}}}});abcdm.abccom.Hook('playerADSTART',{'hook':function(args){if(args.$kalPlayerDiv){args.$kalPlayerDiv.parents('.videoplayer .kalCont, .externalControl .kalCont').data('preroll',true);args.$kalPlayerDiv.parents('.module').addClass('hideDetails');$('#sfpSynchWrapper:not(.persistentSyncAd)').show();}}});abcdm.abccom.Hook('playerADEND',{'hook':function(args){if(args.$kalPlayerDiv){$('#sfpSynchWrapper:not(.persistentSyncAd)').find('._fwac').empty().end().hide();}}});abcdm.abccom.Hook('playerPLAYBACKSTART',{'hTiming':'pre','hook':function(args){if(args.$kalPlayerDiv){args.$kalPlayerDiv.parents('.videoplayer .kalCont, .externalControl .kalCont').data('preroll',false);args.$kalPlayerDiv.parents('.module').removeClass('hideDetails');}}});if(controlledObjs!==null){abcdm.abccom.Hook('videoplayer_ListenNextItem',{'hName':'datgSliderVideo','hook':function(args){var clipid;debugLog(args);if(args&&args.ele){clipid=$.trim(args.ele.find('.clipId').attr("title"));datg.Hook('sfp_doLoadAndPlayMedia',{'args':{'videoId':clipid,'playerId':controlledObjs.player.getPlayerId()}});}}});}});})(jQuery);

/** 
* @filepath: /module-js/mobilesignup.js
* @created: Tue, 26 Nov 13 13:03:11 -0800
* @serveraddr: 10.239.31.244
* @remoteaddr: 10.198.87.144
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

var abcdm=abcdm||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.Textmessage=abcdm.abccom.Textmessage||{};(function($){abcdm.abccom.Textmessage={textmessageid:"textmessagesignup",overlay:[],ajax:function(campaignId,signupText){if(!signupText){signupText='Get text alerts sent to your phone or PDA*. You\'ll be among the first to get new episode details and information about special promotions!';}
$('body').remove('#'+this.textmessageid);var html='';html+='<div class="signInPopup clearfix overlaycontents">';html+='<h3>Set Mobile Reminder</h3>';html+='<p class="signupText">'+signupText+'</p>';html+='<div id="texterror" class="errorText"></div>';html+='<form name="mobileSignupForm" id="mobileSignupForm" action="#" method="post" onsubmit="abcdm.abccom.Textmessage.post(this);return false;">';html+='<input name="campaignId" type="hidden" value="'+campaignId+'">';html+='<fieldset>';html+='<div id="signupPhone">';html+='<input name="number1" type="text" id="p1" size="3" maxlength="3" tabindex="1">';html+='- <input name="number2" type="text" id="p2" size="3" maxlength="3" tabindex="2">';html+='- <input name="number3" type="text" id="p3" size="4" maxlength="4" tabindex="3">';html+='</div>';html+='<div class="submitMobile">';html+='<input type="image" src="http://cdn.media.abc.com/m/images/global/generic/pixel.gif" id="btnSubmitMobile" tabindex="4" value="" />';html+='<a href="javascript:closeReg()">No thanks</a>';html+='<div class="clearfix"></div>';html+='</div>';html+='<div class="legalText">*<strong>1 msg/week.</strong> Text <strong>HELP</strong> to 462223 for help. Text <strong>STOP</strong> to 462223 to cancel. <strong>Message and data rates may apply.</strong></div>';html+='</fieldset>';html+='</form>';html+='<div class="textloading" style="display:none;">Loading</div>';html+='</div>';$('body').append('<div id="'+this.textmessageid+'" class="overlaycontainer textmessageform"></div>');$('#'+this.textmessageid).html(html);abcdm.abccom.Utils.createOverlay(315,300,'#'+this.textmessageid,true,10);$("#"+this.textmessageid+' #p1').autotab({target:'p2',format:'numeric'});$("#"+this.textmessageid+' #p2').autotab({target:'p3',format:'numeric',previous:'p1'});$("#"+this.textmessageid+' #p3').autotab({previous:'p2',format:'numeric'});},modulePost:function(formid){var e;try{var validNumber=false,tosAccepted=false;if($("#"+formid+'p1').val().length!==3||$("#"+formid+'p2').val().length!==3||$("#"+formid+'p3').val().length!==4){$("#"+formid+" fieldset .errorMessage").show();}
else{validNumber=true;$("#"+formid+" fieldset .errorMessage").hide();}
if($("#"+formid+" #tosAccept:checked").length!==1){$("#"+formid+" .tosAccept .errorMessage").show();}
else{tosAccepted=true;$("#"+formid+" .tosAccept .errorMessage").hide();}
if(validNumber&&tosAccepted){$("#"+formid).addClass("status");params=$("#"+formid).serializeArray();$.getJSON('/service/textmessage',params,function(data){abcdm.abccom.Textmessage.moduleResponder(formid,data);});}}catch(e){}},post:function(form){$(".textmessageform #texterror").html("");if($("#"+this.textmessageid+' #p1').val().length!==3||$("#"+this.textmessageid+' #p2').val().length!==3||$("#"+this.textmessageid+' #p3').val().length!==4){$(".textmessageform #texterror").html("Please enter a valid phone number, including area code.");return false;}
$(".textmessageform #mobileSignupForm").hide();$(".textmessageform .textloading").show();params=$(form).serializeArray();$.getJSON('/service/textmessage',params,function(data){abcdm.abccom.Textmessage.responder(data);});},responder:function(data){if(data.code==='1'){$(".textmessageform .textloading").replaceWith('<p class="textsuccess">Thanks for signing up!</p>');}else{$(".textmessageform .textloading").replaceWith('<p class="textfailure">There was an error with your signup, please try again later.</p>');}},moduleResponder:function(formid,data){if(data.code==='1'){$('#'+formid).removeClass('status error').addClass('success');}else{$('#'+formid).removeClass('status success').addClass('error');}},showError:function(formid){if(abcdm.abccom.Textmessage.overlay[formid]){$('#abc-overlay').trigger('showerrorbox');}else{$(abcdm.abccom.Utils.formid+'_module .mobileInlineContainer').hide();$(abcdm.abccom.Utils.formid+'_module #textmessagerror').show();}},init:function(formid){$(document).ready(function(){abcdm.abccom.Textmessage.overlay[formid]=$(formid).hasClass("overlaycontainer");$(abcdm.abccom.Utils.formid+' #texterror').removeClass('erroractive').html('');$(abcdm.abccom.Utils.formid+' input').ifixpng();$(abcdm.abccom.Utils.formid+' div#signupPhone input').val('');if(abcdm.abccom.Textmessage.overlay[formid]){abcdm.abccom.Utils.createOverlay(300,200,formid,true);}
abcdm.abccom.Utils.formid=formid;if(window.location.href.indexOf('http://cdn.abc')===0){$(abcdm.abccom.Utils.formid+' #submitform').val($(abcdm.abccom.Utils.formid+' #submitform').val().replace('http://abc','http://cdn.abc'));$(abcdm.abccom.Utils.formid+' #documentRoot').val($(abcdm.abccom.Utils.formid+' #documentRoot').val().replace('http://abc','http://cdn.abc'));}
$(formid+' #p1').autotab({target:'p2',format:'numeric'});$(formid+' #p2').autotab({target:'p3',format:'numeric',previous:'p1'});$(formid+' #p3').autotab({previous:'p2',format:'numeric'});return false;});},moduleInit:function(formid){$('#'+formid+'p1').autotab({target:formid+'p2',format:'numeric'});$('#'+formid+'p2').autotab({target:formid+'p3',format:'numeric',previous:formid+'p1'});$('#'+formid+'p3').autotab({previous:formid+'p2',format:'numeric'});$('#'+formid).submit(function(e){e.preventDefault();abcdm.abccom.Textmessage.modulePost(formid);return false;});}};$(document).ready(function(){$('.mobileAlertSignUpLink').click(function(){var alertId=$(this).attr("id").replace('_mobileAlertSignUpLink','');abcdm.abccom.Textmessage.init('#'+alertId);});if($('.textmessageform').hasClass('mobileInlineContainer')){abcdm.abccom.Textmessage.init('#'+$('.textmessageform').attr('id'));}});}(jQuery));(function($){var check_element=function(name){var obj=null,check_id=$('#'+name),check_name=$('input[name='+name+']');if(check_id.length){obj=check_id;}else if(check_name!=undefined){obj=check_name;}
return obj;};$.fn.autotab_magic=function(focus){for(var i=0;i<this.length;i++)
{var n=i+1;var p=i-1;if(i>0&&n<this.length)
$(this[i]).autotab({target:$(this[n]),previous:$(this[p])});else if(i>0)
$(this[i]).autotab({previous:$(this[p])});else
$(this[i]).autotab({target:$(this[n])});if(focus!=null&&(isNaN(focus)&&focus==$(this[i]).attr('id'))||(!isNaN(focus)&&focus==i))
$(this[i]).focus();}
return this;};$.fn.autotab_filter=function(options){var defaults={format:'all',uppercase:false,lowercase:false,nospace:false,pattern:null};if(typeof options=='string'||typeof options=='function')
defaults.format=options;else
$.extend(defaults,options);for(var i=0;i<this.length;i++)
{$(this[i]).bind('keyup',function(e){var val=this.value;switch(defaults.format)
{case'text':var pattern=new RegExp('[0-9]+','g');val=val.replace(pattern,'');break;case'alpha':var pattern=new RegExp('[^a-zA-Z]+','g');val=val.replace(pattern,'');break;case'number':case'numeric':var pattern=new RegExp('[^0-9]+','g');val=val.replace(pattern,'');break;case'alphanumeric':var pattern=new RegExp('[^0-9a-zA-Z]+','g');val=val.replace(pattern,'');break;case'custom':var pattern=new RegExp(defaults.pattern,'g');val=val.replace(pattern,'');break;case'all':default:if(typeof defaults.format=='function')
var val=defaults.format(val);break;}
if(defaults.nospace)
{var pattern=new RegExp('[ ]+','g');val=val.replace(pattern,'');}
if(defaults.uppercase)
val=val.toUpperCase();if(defaults.lowercase)
val=val.toLowerCase();if(val!=this.value)
this.value=val;});}};$.fn.autotab=function(options){var defaults={format:'all',maxlength:2147483647,uppercase:false,lowercase:false,nospace:false,target:null,previous:null,pattern:null};$.extend(defaults,options);if(typeof defaults.target=='string')
defaults.target=check_element(defaults.target);if(typeof defaults.previous=='string')
defaults.previous=check_element(defaults.previous);var maxlength=$(this).attr('maxlength');if(defaults.maxlength==2147483647&&maxlength!=2147483647)
defaults.maxlength=maxlength;else if(defaults.maxlength>0)
$(this).attr('maxlength',defaults.maxlength)
else
defaults.target=null;if(defaults.format!='all')
$(this).autotab_filter(defaults);return $(this).bind('keydown',function(e){if(e.which==8&&this.value.length==0&&defaults.previous)
defaults.previous.focus().val(defaults.previous.val());}).bind('keyup',function(e){var keys=[8,9,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46,144,145];if(e.which!=8)
{var val=$(this).val();if($.inArray(e.which,keys)==-1&&val.length==defaults.maxlength&&defaults.target)
defaults.target.focus();}});};})(jQuery);function closeReg(){$('div#signupPhone input').val("");setTimeout($('#abc-overlay').trigger("closebox"),800);}
function submitReg(){var isOverlay=$('.textmessageform').hasClass("overlaycontainer");var MESSAGETOOSHORT='Please enter your full ten digit phone number';$(abcdm.abccom.Utils.formid+' #texterror').removeClass('erroractive').html('');$(abcdm.abccom.Utils.formid+' #signupPhone input').removeClass('inputfailure');abcdm.abccom.Utils.subframename='submitframe'+Math.floor(Math.random()*10000);$(abcdm.abccom.Utils.formid+' #phoneNumber').val($(abcdm.abccom.Utils.formid+' div#signupPhone #p1').val()+
$(abcdm.abccom.Utils.formid+' div#signupPhone #p2').val()+
$(abcdm.abccom.Utils.formid+' div#signupPhone #p3').val());if($(abcdm.abccom.Utils.formid+' #phoneNumber').val().length<10){$(abcdm.abccom.Utils.formid+' #texterror').addClass('erroractive').html(MESSAGETOOSHORT).fadeOut(200).fadeIn(500);$(abcdm.abccom.Utils.formid+' #signupPhone input').addClass('inputfailure');if(isOverlay){$('#abc-overlay').trigger('autoheight');}
return false;}else{$('<iframe name="'+abcdm.abccom.Utils.subframename+'" id="submitframe" src="'+$(abcdm.abccom.Utils.formid+' #submitform').val()+'?action='+
($(abcdm.abccom.Utils.formid+' #mobileSignupForm').attr("action"))+'&amp;phonenumber='+$(abcdm.abccom.Utils.formid+' #phoneNumber').val()+'&amp;docroot='+($(abcdm.abccom.Utils.formid+' #documentRoot').val())+'&amp;provider='+$(abcdm.abccom.Utils.formid+' #provider').val()+'"></iframe>').appendTo($(abcdm.abccom.Utils.formid));if(isOverlay){$('#abc-overlay').unbind("showloadbox");$('#abc-overlay').bind("showloadbox",{coversrc:$('#loadingsrc').val(),oHeight:$('#abc-iframe').height(),oWidth:$('#abc-iframe').width()},abcdm.abccom.Utils.coverBox);$('#abc-overlay').trigger("showloadbox");$('#abc-overlay').unbind("showsuccessbox");$('#abc-overlay').bind("showsuccessbox",{coversrc:$('#successsrc').val(),oHeight:$('#abc-iframe').height(),oWidth:$('#abc-iframe').width()},abcdm.abccom.Utils.coverBox);$('#abc-overlay').unbind("showerrorbox");$('#abc-overlay').bind("showerrorbox",{coversrc:$('#errorsrc').val(),oHeight:$('#abc-iframe').height(),oWidth:$('#abc-iframe').width()},abcdm.abccom.Utils.coverBox);}else{$(abcdm.abccom.Utils.formid+'_module .mobileInlineContainer').hide();$(abcdm.abccom.Utils.formid+'_module #textmessageloading').show();}
abcdm.abccom.Utils.checkIframeResults=function(){var results;try{results=$.trim($(eval(abcdm.abccom.Utils.subframename).document.body).html());}catch(e){}
if(results==="success"){clearInterval(abcdm.abccom.Utils.iframeChecker);clearTimeout(abcdm.abccom.Utils.frameTimeout);$('#submitframe').remove();if(isOverlay){$('#abc-overlay').trigger("showsuccessbox");setTimeout(function(){$('#abc-overlay').trigger('closebox');},6000);}else{$(abcdm.abccom.Utils.formid+'_module .mobileInlineContainer').hide();$(abcdm.abccom.Utils.formid+'_module #textmessagethanks').show();}}else if(results==="error"){if(isOverlay){$('#abc-overlay').trigger("showerrorbox");}else{$(abcdm.abccom.Utils.formid+'_module .mobileInlineContainer').hide();$(abcdm.abccom.Utils.formid+'_module #textmessagerror').show();}
clearInterval(abcdm.abccom.Utils.iframeChecker);clearTimeout(abcdm.abccom.Utils.frameTimeout);$('#submitframe').remove();}};abcdm.abccom.Utils.iframeChecker=setInterval(function(){abcdm.abccom.Utils.checkIframeResults();},1500);abcdm.abccom.Utils.frameTimeout=setTimeout(function(){if(isOverlay){$('#abc-overlay').trigger('showerrorbox');}else{$(abcdm.abccom.Utils.formid+'_module .mobileInlineContainer').hide();$(abcdm.abccom.Utils.formid+'_module #textmessagerror').show();}
clearInterval(abcdm.abccom.Utils.iframeChecker);},30000);return false;}}

/** 
* @filepath: /abcdm/metadata-helper.js
* @created: Tue, 26 Nov 13 13:03:11 -0800
* @serveraddr: 10.239.31.244
* @remoteaddr: 10.198.87.144
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

var abcdm=abcdm||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.MetaData=abcdm.abccom.MetaData||{};var metDatLog=abcdm.abccom.debugLog('metadata_helper');(function($){abcdm.abccom.MetaData.get=function(element,getOne){var dataObj={};var getByData=function(){if(getOne){dataObj=$(element).data(getOne);}else{dataObj=$(element).data();}};var getByAttr=function(){var firstElement=$(element)[0];var attributes=firstElement.attributes;var dataPattern=new RegExp('data-');var varName;for(var i=0;i<attributes.length;i++){var attribute=attributes[i];if(dataPattern.test(attribute.nodeName)){varName=attribute.nodeName.substr(5).replace(/(\-[a-z])/g,function($1){return $1.toUpperCase().replace('-','');});;dataObj[varName]=attribute.nodeValue;}}
if(getOne){dataObj=dataObj[getOne];}}
var checkJQueryVersionIsAtLeast=function(target){var targetVersion=target.split('.');var version=$().jquery.split('.');var isAdequateVersion=true;for(var i=0;i<targetVersion.length;i++){if(isNaN(version[i])){version[i]=0;}
if(parseInt(targetVersion[i])>parseInt(version[i])){isAdequateVersion=false;}}
return isAdequateVersion;}
if(element){if(checkJQueryVersionIsAtLeast('1.4.3')){getByData();}else{getByAttr();}}
return dataObj;}}(jQuery));

/** 
* @filepath: /module-js/datgslider.js
* @created: Tue, 26 Nov 13 13:03:12 -0800
* @serveraddr: 10.239.31.244
* @remoteaddr: 10.198.87.144
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

var abcdm=abcdm||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.DatgSliderDefault=abcdm.abccom.DatgSliderDefault||{};abcdm.abccom.Hook=abcdm.abccom.Hook||{};abcdm.abccom.SiteInfo=abcdm.abccom.SiteInfo||{};var carLog=abcdm.abccom.debugLog('DatgSlider');(function($){abcdm.abccom.DatgSliderDefault={customClass:null,options:{display:5,sendvideo:false,suppresslink:false,slideduration:1000,callback:null,loopvideo:false,controlplacement:{'wrap':{}},controltextnext:"next",controltextprevious:"previous",controlseparator:"",controlBeginText:"",behavior:"scroller",rows:1,morecontenturl:"",morecontentiterate:10,morecontenttotal:0,monitorhover:false,heightOnDocLoad:false,hideSingleStepPager:false}};$.fn.datgslider=function(pageoptions){var newoptions,id;if(pageoptions&&typeof pageoptions.controlplacement==='string'){newoptions=pageoptions.controlplacement;pageoptions.controlplacement={};pageoptions.controlplacement[newoptions]={};}
abcdm.abccom.DatgSliderSite=abcdm.abccom.DatgSliderSite||{};if(typeof abcdm.abccom.DatgSliderSite.controlplacement==='string'){newoptions=abcdm.abccom.DatgSliderSite.controlplacement;abcdm.abccom.DatgSliderSite.controlplacement={};abcdm.abccom.DatgSliderSite.controlplacement[newoptions]={};}
newoptions=$.extend({},abcdm.abccom.DatgSliderDefault.options,pageoptions),showOverride=abcdm.abccom.DatgSliderSite.options?abcdm.abccom.DatgSliderSite.options:false;if(abcdm.abccom.DatgSliderSite.customTarget&&abcdm.abccom.DatgSliderSite.customTarget.className){id=$(this).attr('id');if($('.'+abcdm.abccom.DatgSliderSite.customTarget.className+' #'+id).length){showOverride=abcdm.abccom.DatgSliderSite.customTarget.options?abcdm.abccom.DatgSliderSite.customTarget.options:false;}}
if(showOverride){if(typeof showOverride.controlplacement==='string'){id=showOverride.controlplacement;showOverride.controlplacement={};showOverride.controlplacement[id]={};}
newoptions=$.extend({},newoptions,showOverride);}
this.each(function(){$(this).data('tcl',new Slider($(this),newoptions));});return this;};$.fn.datgslider_move=function(iNum){$(this).data('tcl').move(iNum-1,true);};function Slider(root,options){carLog('behavior: '+options.behavior);root.addClass(options.behavior+"Container clearfix").removeClass('showLoading');var oSelf=this,oViewport=root.find('.staticViewPort'),oContent=root.find('.carouselTrack'),oPages=oContent.children(),oRows,oBtnNext,oBtnPrev,oPageInfo=false,iPageSize,iSteps,iCurrent,iCurrentIndex,slideBoundary=0,currentRow=0,ajaxCounter=0,liTotal=0,oPagerNum=$();function initialize(){var temp;iPageSize=$(oPages[0]).outerWidth(true);if(options.morecontenttotal>0&&options.morecontenturl!==""){liTotal=options.morecontenttotal;}else{liTotal=oPages.length;}
var setHeight=$(oPages[0]).outerHeight(true),setWidth=iPageSize*liTotal;iSteps=Math.max(1,Math.ceil((liTotal/options.display)/options.rows));iCurrent=0;iCurrentIndex=0;if(options.rows>1){oRows=[];oViewport.find('.carouselTrack').each(function(index){oRows[index]=$(this).children();});oViewport.each(function(index){if($(this).find('.carouselTrack li').length<1){$(this).hide();}});if(options.topControlsId){options.hasTopControls=true;}}
if(oContent.find("li.selected").length>0){iCurrentIndex=oContent.find("li.selected").index();}
if($(".datgGen").find("#SFPlayer").length>0||$(".datgGen").find("#presetVideoClip").length>0){var clipID=$.trim($("#SFPlayer").attr("clip"));if(clipID===undefined||!clipID){clipID=$.trim($("#presetVideoClip").attr("clip"));}
if(clipID.length>0){var $clipRef=$('span[title="'+clipID+'"]:first').parents("li"),newIndex;newIndex=$clipRef.index();if(newIndex>=0){if(options.rows>1){currentRow=$clipRef.parents('.staticViewPort').index();}
oContent.find('li').eq(iCurrentIndex).removeClass("selected");iCurrentIndex=newIndex;}}}else if(root.is('.videosSelection .datgSlider, .module.kalturaControl')&&$('body').has('.videoplayer .kalPlayer .kalCont, .externalControl .kalCont').length>0){temp={};carLog('Kaltura as player');var videoData=abcdm.abccom.MetaData.get('.videoplayer .module.kalPlayer, .module.externalControl.kalPlayer');if(videoData&&videoData.mediaId){temp.videoId=videoData.mediaId;}
temp.videoId=$.trim(temp.videoId);carLog('Kaltura video Id = '+temp.videoId);temp.videoClips=root.find('.contentArea.videoClip');temp.pageClip=temp.videoClips.first();if(temp.videoId!==''){temp.newClip='.clipId[title="'+temp.videoId+'"]';carLog(temp.newClip);temp.newClip=temp.videoClips.has(temp.newClip);if(temp.newClip.length>0){carLog('Kaltura pageClip returned');temp.pageClip=temp.newClip;}}
carLog('Kaltura pageClip');carLog(temp.pageClip);temp.contentRow=temp.pageClip.closest('.staticViewPort');carLog('Kaltura contentRow ');carLog(temp.contentRow);if(!temp.pageClip.hasClass('.selected')){temp.videoClips.removeClass('selected');temp.pageClip.addClass('selected');carLog('Kaltura pageClip was not selected ');}
iCurrentIndex=temp.pageClip.index();currentRow=oViewport.index(temp.contentRow);carLog('Kaltura column: '+iCurrentIndex+' Kaltura row: '+currentRow);temp=null;}
oContent.css('width',(setWidth+30));if(options.rows>1&&currentRow&&oRows[currentRow]){oRows[currentRow].eq(iCurrentIndex).addClass("selected");if(options.sendvideo||options.loopvideo){abcdm.abccom.Hook("videoplayer_ListenInitialItem",{"args":{'ele':oRows[currentRow].eq(iCurrentIndex),loopVideo:options.loopvideo}});}}else{oContent.find('li').eq(iCurrentIndex).addClass("selected");if(options.sendvideo||options.loopvideo){abcdm.abccom.Hook("videoplayer_ListenInitialItem",{"args":{'ele':oContent.find('li').eq(iCurrentIndex),loopVideo:options.loopvideo}});}}
slideBoundary=iPageSize*(liTotal-options.display);if(options.morecontenttotal>0&&options.morecontenturl!==""){}
if(iSteps>1||options.hideSingleStepPager){buildPlacedControls();oPageInfo=oPagerNum.find('.pageNumOf');}else{oViewport.addClass("nopages");}
if(options.controlplacement['wrap']){buildWrapControls();}
oBtnPrev=oPagerNum.filter('.prevList').add(oPagerNum.find('.prevList'));oBtnNext=oPagerNum.filter('.nextList').add(oPagerNum.find('.nextList'));if(options.behavior==="scroller"){oSelf.move(0,0,iCurrentIndex,true);}else{oSelf.move(iCurrent);}
setHeight=0;$(oContent).each(function(){setHeight=Math.max($(this).outerHeight(true),setHeight);});oViewport.css('height',setHeight);if(options.hideSingleStepPager&&iSteps<2){oPagerNum.addClass('hiddenSliderControls');}
setEvents();abcdm.abccom.Hook("datgslider_ready");}
function setEvents(){if(iSteps>1){if(oBtnPrev.length>0&&oBtnNext.length>0){oBtnPrev.click(function(ev){oSelf.move(-1);return false;});oBtnNext.click(function(ev){oSelf.move(1);return false;});}
root.delegate('.subPagerControls a.slideNumber','click',function(ev){var indexNum;ev.preventDefault();if($('body.abcfamily').length){indexNum=(parseInt($(this).text())-1)*options.display;}else{indexNum=$(this).index()*options.display;}
oSelf.move(0,0,indexNum);});}
if(root.parents('div.subGalleryRow').length>0&&!root.parents('div.subGalleryRow').is(':visible')){abcdm.abccom.Hook('datgslider_resize',{"hook":function(){iPageSize=$(oPages[0]).outerWidth(true);var setHeight=$(oPages[0]).outerHeight(true),setWidth=iPageSize*liTotal;oContent.css('height',setHeight);oViewport.css('height',setHeight);oContent.css('width',setWidth);}});}
if(options.monitorhover){root.delegate('.carouselTrack > li','hover',function(e){abcdm.abccom.Hook("datgslider_lihover",{"args":{'hoverItem':this}});});}
if(options.suppresslink||options.sendvideo){root.delegate('.carouselTrack > li','click.surpressedlinks',function(e){var args={ele:$(this),oldEle:$(this),revert:function(){iCurrentIndex=this.oldEle.index();currentRow=this.oldEle.closest('.staticViewPort').index();this.ele.removeClass('selected');this.oldEle.addClass('selected');},userInit:true};var processSlider=function($li){args.oldEle=oContent.find('li.selected').removeClass('selected');iCurrentIndex=$li.index();currentRow=$li.closest('.staticViewPort').index();$li.addClass('selected');if(options.sendvideo){abcdm.abccom.Hook("videoplayer_ListenNextItem",{"args":args});}
args.newSelection=true;abcdm.abccom.Hook("datgslider_liclicked",{'args':args});}
if(!$(this).hasClass('selected')&&!$(this).hasClass('disabledContent')){var $liElm=$(this);if($().interstitialAd&&$('.module.interstitialAdBlock iframe').length&&interstitialAdConf){$('.galleryImage').interstitialAd({'frame':$('.module.interstitialAdBlock iframe'),'showContentAfterAdRemove':false,'frequency':5,'duration':400,'freewheel':interstitialAdConf},function(state){if(state!=='adDisplayed'){processSlider($liElm);}});}else{processSlider($liElm);}}
return false;});}
if(options.sendvideo){addHooks();}
abcdm.abccom.Hook('datgslider_gotoselected',{"hook":function(obj){oSelf.move(0,0,iCurrentIndex);}});}
function buildWrapControls(){oPagerNum=oPagerNum.add($('<a class="prevList disabled" href="javascript:void(0);">'+options.controltextprevious+'</a>').insertBefore(oViewport.first()).add($('<a class="nextList disabled" href="javascript:void(0);">'+options.controltextnext+'</a>').insertAfter(oViewport.last())));}
function buildPlacedControls(){$.each(options.controlplacement,function(i,v){var $includeEl=root,func='appendTo',controlHtml='<div class="clearfix pagerControls',temp;switch(i){case'after':controlHtml+=' pcAfter';break;case'before':func='prependTo';controlHtml+=' pcBefore';break;default:if((temp=$(i)).length>0){$includeEl=temp;}else{return;}}
if($includeEl.length>0){if(v.controlType==='number'){controlHtml+=' pagerNumberControls';}else{controlHtml+=' pagerOf';}
controlHtml+='"><span class="pagerControlsWrap">';if(!v.removeNextPrev){controlHtml+='<span class="previousSlide"><a class="prevList" href="javascript:void(0);">'+(typeof v.controltextprevious!=='undefined'?v.controltextprevious:options.controltextprevious)+'</a></span>';}
if(v.controlType==='number'){controlHtml+=buildNumberPager(true);}else{temp=typeof v.controlseparator!=='undefined'?v.controlseparator:options.controlseparator;controlHtml+='<span class="pagesList">';controlHtml+=temp;controlHtml+=(typeof v.controlBeginText!=='undefined'?v.controlBeginText:options.controlBeginText);controlHtml+='<span class="pageNumOf">';controlHtml+=(iCurrent+1);controlHtml+='</span>';controlHtml+=(typeof v.controlTextSeparator!=='undefined'?v.controlTextSeparator:' of ');controlHtml+=iSteps;controlHtml+=(typeof v.controlEndText!=='undefined'?v.controlEndText:'');controlHtml+=temp;controlHtml+='</span>';}
if(!v.removeNextPrev){controlHtml+='<span class="nextSlide"><a class="nextList" href="javascript:void(0);">'+(typeof v.controltextnext!=='undefined'?v.controltextnext:options.controltextnext)+'</a></span>';}
controlHtml+='</span></div>';oPagerNum=oPagerNum.add($(controlHtml)[func]($includeEl));}});}
function buildNumberPager(returnString,activePage){var controlHTML='<span class="subPagerControls">',activeClass=' active',startStep=1,endStep=iSteps,activePage=activePage?activePage:1,step;if($('body.abcfamily').length){startStep=activePage-2;if(activePage==4)startStep=1;if(startStep+4>iSteps)startStep=iSteps-4;if(startStep<1)startStep=1;endStep=activePage+2;if(endStep<5)endStep=5;if(endStep>iSteps)endStep=iSteps;if(endStep+1==iSteps)endStep=iSteps;if((iSteps>6)&&(activePage>4)){controlHTML+='<a class="slideNumber';if(activePage==1){controlHTML+=activeClass;}
controlHTML+='" href="javascript:void(0);">1</a>';controlHTML+='<span class="ellipse">...</span>';}}
for(step=startStep;step<=endStep;step++){if($('body.abcfamily').length){controlHTML+='<a class="slideNumber';if(step==activePage){controlHTML+=activeClass;}
controlHTML+='" href="javascript:void(0);">';controlHTML+=step;controlHTML+='</a>';}else{controlHTML+='<a class="slideNumber';controlHTML+=activeClass;controlHTML+='" href="javascript:void(0);">';controlHTML+=step;controlHTML+='</a>';activeClass='';}}
if($('body.abcfamily').length&&((activePage+3)<iSteps)&&(iSteps>6)){controlHTML+='<span class="ellipse">...</span>';controlHTML+='<a class="slideNumber';if(activePage==iSteps){controlHTML+=activeClass;}
controlHTML+='" href="javascript:void(0);">';controlHTML+=iSteps;controlHTML+='</a>';}
controlHTML+='</span>';if(returnString){return controlHTML;}
return $('<div class="pagerNumberControls pcAfter">'+controlHTML+'</div>').appendTo(root);}
function setButtons(iDirection){var getAmount=String(options.morecontentiterate*ajaxCounter);if(iDirection===1){if(iCurrent<iSteps&&ajaxCounter>0&&options.morecontenturl!==""){ajaxCounter++;$.ajax({url:options.morecontenturl+getAmount,context:document.body,success:function(data){if($.trim(data)!=="false"){oContent.append(data);}
else{ajaxCounter=-1;}}});}
else if(ajaxCounter>-1){ajaxCounter++;}}
if(iSteps>1){oBtnPrev.toggleClass('disabled',!(iCurrent>0));oBtnNext.toggleClass('disabled',!(iCurrent+1<iSteps));var $active=oPagerNum.find('.slideNumber.active');if($active.index()!==iCurrent){$active.removeClass('active');if($('body.abcfamily').length){numPagerHtml=buildNumberPager(true,(iCurrent+1));root.find('.subPagerControls').replaceWith(numPagerHtml);}else{oPagerNum.find('.slideNumber').eq(iCurrent).addClass('active');}}}}
function nextItem(){oContent.find("li.selected").removeClass("selected");iCurrentIndex+=1;var virtualIndex=options.display*iCurrent;if(options.rows>1){var lastItem=(currentRow*iCurrentIndex);if(iCurrentIndex%options.display===0){currentRow+=1;iCurrentIndex=virtualIndex;}
if(currentRow>options.rows-1){currentRow=0;iCurrentIndex=options.display+(virtualIndex);if(iCurrentIndex>=oRows[0].length){iCurrentIndex=0;}}
if(iCurrentIndex>oRows[currentRow].length-1){iCurrentIndex=0;currentRow=0;}
if(currentRow!=='undefined')
{oRows[currentRow].eq(iCurrentIndex).addClass("selected");abcdm.abccom.Hook("videoplayer_ListenNextItem",{"args":{'ele':oRows[currentRow].eq(iCurrentIndex)}});}}else{if(iCurrentIndex>liTotal-1){iCurrentIndex=0;}
oPages.eq(iCurrentIndex).addClass("selected");abcdm.abccom.Hook("videoplayer_ListenNextItem",{"args":{'ele':oPages.eq(iCurrentIndex)}});}}
function addHooks(){abcdm.abccom.Hook("videoplayer_SendNextItem",{"hName":"datgslider_SendNextItem","hook":function(){if(options.sendvideo){nextItem();}}});abcdm.abccom.Hook('videoplayer_playingnewcontent',{"hook":function(obj){oSelf.move(0,0,iCurrentIndex);if($(".videoZoom .galleryBody").find(".galleryBodyTitle").length>0){if(obj){if(obj.clipDetails){var currentSel=oContent.find("li.selected");$(".videoZoom .galleryBody .galleryBodyTitle").html(obj.clipDetails.title);$(".videoZoom .galleryBody .galleryBodyDescription").html(obj.clipDetails.description);}}}}});}
this.move=function(iDirection,bPublic,gotoIndex,firstTime){var iDuration=options.slideduration;if(firstTime){iDuration=0;}
abcdm.abccom.Hook("datgslider_move");var newCurrent=iCurrent;newCurrent=bPublic?iDirection:newCurrent+=iDirection;if(newCurrent>-1&&newCurrent<iSteps){var oPosition={};if(typeof gotoIndex!=='undefined'){gotoIndex=Math.min(liTotal,Math.max(0,(gotoIndex)));var pageNum=Math.floor(gotoIndex/options.display);newCurrent=Math.min(iSteps,pageNum);}
if(newCurrent===iCurrent){}else{iCurrent=newCurrent;oPageInfo.html((iCurrent+1));oPosition['left']=-(iCurrent*(iPageSize*options.display));if(oPosition['left']>0){oPosition['left']=0;}
else if(oPosition['left']<-slideBoundary&&options.behavior=="scroller"){oPosition['left']=-slideBoundary;}
oContent.animate(oPosition,{queue:false,duration:iDuration,complete:function(){if(typeof options.callback=='function'){options.callback.call(this,oPages[iCurrent],iCurrent);}}});}
setButtons(iDirection);}};return initialize();};$(document).ready(function(){var $photoArrows=$(this).find('#prevPhoto, #nextPhoto');$photoArrows.hover(function(ev){$(this).addClass('over');},function(ev){$(this).removeClass('over');});});})(jQuery);

/** 
* @filepath: /abcdm/metrics-helper.js
* @created: Tue, 26 Nov 13 13:03:12 -0800
* @serveraddr: 10.239.31.244
* @remoteaddr: 10.198.87.144
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

var abcdm=abcdm||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.Hook=abcdm.abccom.Hook||{};abcdm.abccom.MetricsHelper=abcdm.abccom.MetricsHelper||{};abcdm.abccom.MetricsHelper.CustomLink=abcdm.abccom.MetricsHelper.CustomLink||{};var metLog=abcdm.abccom.debugLog('metrics');(function($){abcdm.abccom.MetricsHelper.CustomLink={options:{linkType:'custom',linkName:"",linkUrl:"",timeout:0,openInNewWindow:false,debug:false,delegate:false}};$.fn.trackCustomLink=function(obj){var cLinkOptions=$.extend({},abcdm.abccom.MetricsHelper.CustomLink.options,obj),omniParamsObj={},linkTypes={custom:"lnk_o",download:"lnk_d",external:"lnk_e"},$linkElem=$(this),peType=linkTypes[cLinkOptions.linkType]||linkTypes.custom,linkHref=cLinkOptions.linkUrl||$linkElem.attr('href')||$linkElem.find('a').attr('href')||window.location.href;omniParamsObj.omnivars={"pe":peType,"pev1":linkHref,"pev2":cLinkOptions.linkName};metLog(omniParamsObj);updateOmnitureTracking(omniParamsObj);};$.fn.addCustomLinkForOmniture=function(options){metLog('using deprecated call');var cLinkOptions=$.extend({},abcdm.abccom.MetricsHelper.CustomLink.options,options),omniParamsObj={},linkTypes={download:"lnk_d",custom:"lnk_o",external:"lnk_e"},linkHref="",peType=linkTypes[cLinkOptions.linkType],$linkElem=$(this),clickFunc=function(){};if(linkTypes[cLinkOptions.linkType]){peType=linkTypes[cLinkOptions.linkType];}else{peType=linkTypes.custom;}
if(cLinkOptions.linkUrl!==""){linkHref=cLinkOptions.linkUrl;}else{if($linkElem.is('a')){linkHref=$linkElem.attr('href');}else{linkHref=$linkElem.find('a').attr('href');}}
omniParamsObj.omnivars={"pe":peType,"pev1":linkHref,"pev2":cLinkOptions.linkName};clickFunc=function(e){if(cLinkOptions.debug){metLog('clicked! debugging...');metLog(cLinkOptions);metLog(omniParamsObj);e.preventDefault();}
updateOmnitureTracking(omniParamsObj);if(cLinkOptions.openInNewWindow){e.preventDefault();}
if(cLinkOptions.timeout>0){setTimeout(function(){window.location=linkHref;},cLinkOptions.timeout);}
return false;};if(cLinkOptions.delegate){$('body.datgGen').delegate($linkElem,'click',function(e){clickFunc(e);});}else{$linkElem.click(function(e){clickFunc(e);});}};var updateOmnitureTracking=function(eventParams){try{if(eventParams){if(eventParams.omnivars){$.each(eventParams.omnivars,function(omniName,omniData){s_omni[omniName]=omniData.replace(/(\?|&|#)/g,function(x){return encodeURIComponent(x);});});}
s_omni.t();}
abcdm.abccom.Hook("MetricsHelper_updateOmnitureTracking");}catch(e){metLog('error in updateOmnitureTracking');}},updateNielsenTracking=function(eventParams){if(eventParams){if(eventParams.account&&eventParams.url){try{var d=new Image(1,1);d.onerror=d.onload=function(){d.onerror=d.onload=null;};d.src=["http://secure-us.imrworldwide.com/cgi-bin/m?ci=",eventParams.account,"&cg=0&cc=1&si=",escape(eventParams.url),"&rp=",escape(document.referrer),"&ts=compact&c0=usergen,1&rnd=",(new Date()).getTime()].join('');abcdm.abccom.Hook("MetricsHelper_updateNielsenTracking");}catch(e){metLog('error in updateNielsenTracking');}}}},updateSingleMetric=function(type,params){if(type==="omniture"){updateOmnitureTracking(params);}else if(type==="nielsen"){updateNielsenTracking(params);}},updateMultipleMetrics=function(metricData){$.each(metricData.metrics,function(type,data){if(type!==""&&data.result===true){updateSingleMetric(type,data.params);}});};abcdm.abccom.MetricsHelper.updateMetrics=function(metricData){if(metricData){if(metricData.type){updateSingleMetric(metricData.type,metricData.params.metrics);}else if(metricData.metrics){updateMultipleMetrics(metricData);}}
abcdm.abccom.Hook("MetricsHelper_updateMetrics");};$(document).ready(function(){abcdm.abccom.Hook('MetricsHelper_Multiple',{"hook":function(obj){abcdm.abccom.MetricsHelper.updateMetrics(obj);}});abcdm.abccom.Hook('MetricsHelper_Omniture',{"hook":function(params){var metObj={"type":"omniture","params":params};abcdm.abccom.MetricsHelper.updateMetrics(metObj);}});abcdm.abccom.Hook('MetricsHelper_Nielsen',{"hook":function(params){var metObj={"type":"nielsen","params":params};abcdm.abccom.MetricsHelper.updateMetrics(metObj);}});});})(jQuery);

/** 
* @filepath: /module-js/schedule-day.js
* @created: Tue, 26 Nov 13 13:03:12 -0800
* @serveraddr: 10.239.31.244
* @remoteaddr: 10.198.87.144
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

var abcdm=abcdm||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.Schedule=abcdm.abccom.Schedule||{};abcdm.abccom.Textmessage=abcdm.abccom.Textmessage||{};abcdm.abccom.Schedule.calendarArray=abcdm.abccom.Schedule.calendarArray||[];abcdm.abccom.publishDateAdder=abcdm.abccom.publishDateAdder||function(){};(function($){$(document).ready(function(){abcdm.abccom.Schedule.localDate=new Date()
abcdm.abccom.Schedule.getCorrectDay();abcdm.abccom.Schedule.adjustForCentral();$('#datgslider_schedule-day').datgslider({display:"1",numberPager:false,'heightOnDocLoad':true});abcdm.abccom.Schedule.initAddToCalendar();abcdm.abccom.Schedule.scrollDay();abcdm.abccom.Schedule.setUpAjax();abcdm.abccom.Schedule.calendarPickerInit();abcdm.abccom.Schedule.registerListeners();abcdm.abccom.Schedule.unHide('#datgslider_schedule-day');abcdm.abccom.Hook("schedule_ready");});abcdm.abccom.Schedule.updatePageDetails=function(params){abcdm.abccom.Hook("MetricsHelper_Omniture",{"args":{'metrics':params}});};abcdm.abccom.Schedule.getShowTitle=function(ele){var element=$(ele).parent().parent().parent().find('.scheduleShowTitle'),showtitle='';if(element.children().length){showTitle=element.children().first()[0].innerHTML.replace(/ /g,'-');}else{showTitle=element[0].innerHTML.replace(/ /g,'-');;}
return showTitle;}
abcdm.abccom.Schedule.initAddToCalendar=function(dateParams){$('.schedAddToCal').each(function(i){$(this).click(function(event){event.preventDefault();var showTitle=abcdm.abccom.Schedule.getShowTitle(this),paramsObj={};paramsObj.omnivars={"prop9":"abc:schedule:grid:"+showTitle+":addtocalendar"};abcdm.abccom.Schedule.updatePageDetails(paramsObj);abcdm.abccom.Schedule.addToCalendar(this);});});if(!dateParams){var dateParam=$.url.param("scheduleDate");dateParams={'scheduleDate':dateParam};}
$.getJSON('/service/schedule/addtocalendardayjson',dateParams,function(data){data=abcdm.abccom.Schedule.adjustAddToCalendarCST(data);abcdm.abccom.Schedule.addCalendarData=data;})}
abcdm.abccom.Schedule.addToCalendar=function(elem){listingId=$(elem).closest(".scheduleItem").attr("id");if(!abcdm.abccom.Schedule.addCalendarData){var dateParam=$.url.param("scheduleDate");$.getJSON('/service/schedule/addtocalendardayjson',{'scheduleDate':dateParam},function(data){data=abcdm.abccom.Schedule.adjustAddToCalendarCST(data);abcdm.abccom.Schedule.addToCalendarCallOverlay(listingId);})}else{abcdm.abccom.Schedule.addToCalendarCallOverlay(listingId);}};abcdm.abccom.Schedule.adjustAddToCalendarCST=function(data){var timeString=abcdm.abccom.Schedule.localDate.toTimeString();var CSTtest=$.url.param("CST");if(timeString.indexOf("CST")>-1||timeString.indexOf("CDT")>-1||CSTtest){for(var i in data){var newKey=abcdm.abccom.Schedule.adjustKeyOrIdToCentral(i);if(newKey){var newStartTime=data[i].eventData.startdate;var newEndTime=data[i].eventData.enddate;newStartTime=abcdm.abccom.Schedule.adjustEventDateToCentral(newStartTime);newEndTime=abcdm.abccom.Schedule.adjustEventDateToCentral(newEndTime);data[i].eventData.startdate=newStartTime;data[i].eventData.enddate=newEndTime;tempArray[newKey]=data[i]}}
return tempArray;}else{return data;}}
abcdm.abccom.Schedule.addToCalendarCallOverlay=function(listingId){var event=abcdm.abccom.Schedule.addCalendarData[listingId];if($("body.abccom").length>0){event.options.width=250;event.options.height=160;event.options.providers=['google','yahoo','outlook','ical'];event.options.providersDesc=['Google Calendar','Yahoo! Calendar','Outlook Calendar','Apple iCal'];}
abcdm.abccom.SocialLink.calendar.makeOverlay(event.eventData,event.options);}
abcdm.abccom.Schedule.getCorrectDay=function(){var dateParam=$.url.param("scheduleDate");if(!dateParam){var year=abcdm.abccom.Schedule.localDate.getFullYear();var month=abcdm.abccom.Schedule.localDate.getMonth();month=month+1;if(month<10){month='0'+month;}
var day=abcdm.abccom.Schedule.localDate.getDate();if(day<10){day='0'+day;}
var localScheduleDay=year+''+month+''+day;if(localScheduleDay!=abcdm.abccom.Schedule.serverDate){window.location='/schedule?scheduleDate='+localScheduleDay;}}}
abcdm.abccom.Schedule.scrollDay=function(){var host=$.url.attr('host').toLowerCase();if(host.indexOf('abc.go.com')>-1){var dateParam=$.url.param("scheduleDate");var dayoftheweek=abcdm.abccom.Schedule.getDayOfWeek(dateParam);if(dayoftheweek=='Sunday'){abcdm.abccom.Schedule.scrollToTime(1900);}else{abcdm.abccom.Schedule.scrollToTime(2000);}}else{abcdm.abccom.Schedule.scrollToTime();}}
abcdm.abccom.Schedule.getDayOfWeek=function(dateParam){if(dateParam){var thedate=new Date(dateParam.slice(0,4),(dateParam.slice(4,6)-1),dateParam.slice(6));}else{var thedate=abcdm.abccom.Schedule.localDate;}
var weekdays=new Array(7);weekdays[0]="Sunday";weekdays[1]="Monday";weekdays[2]="Tuesday";weekdays[3]="Wednesday";weekdays[4]="Thursday";weekdays[5]="Friday";weekdays[6]="Saturday";return weekdays[thedate.getDay()];}
abcdm.abccom.Schedule.scrollToTime=function(localTime){var scrollToElem=null
if(!localTime){var localHour=abcdm.abccom.Schedule.localDate.getHours();var localMinutes=abcdm.abccom.Schedule.localDate.getMinutes();localMinutes=localMinutes+30;if(localMinutes>60){localMinutes=localMinutes-60;localHour=localHour+1;}
if(localMinutes<10){localMinutes='0'+localMinutes;}
var localTime=localHour+""+localMinutes;if(localTime>2359){localTime=2359;}}
var proceed=true;$('.scheduleItem').each(function(i){if(proceed){var itemTime=$(this).attr("id");itemTime=itemTime.replace("airing","");if(itemTime>localTime){$('.scheduledayModule .collectionList').scrollTo(scrollToElem);proceed=false;}else{scrollToElem=this;}}});}
abcdm.abccom.Schedule.adjustForCentral=function(){var timeString=abcdm.abccom.Schedule.localDate.toTimeString();var CSTtest=$.url.param("CST");if(timeString.indexOf("CST")>-1||timeString.indexOf("CDT")>-1||CSTtest){tempArray=new Array();$('.scheduleItem').each(function(i){var itemTime=$(this).attr("id");var newItemTime=abcdm.abccom.Schedule.adjustKeyOrIdToCentral(itemTime);if(newItemTime){$(this).attr("id",newItemTime);$(this).removeClass("centralAiring");}else{$(this).hide();}});$('.scheduleItem .scheduleTime').each(function(i){var contents=$(this).html();if(contents.indexOf('12:')>-1){if(contents.indexOf('pm')>-1){contents=contents.replace('pm','am');}else{contents=contents.replace('am','pm');}}
var before=["12:","11:","10:","9:","8:","7:","6:","5:","4:","3:","2:","1:"];var after=["11:","10:","9:","8:","7:","6:","5:","4:","3:","2:","1:","12:"];for(var j=0;j<12;j++){if(contents.indexOf(before[j])>-1){contents=contents.replace(before[j],after[j]);break;}}
$(this).html(contents);});}}
abcdm.abccom.Schedule.adjustKeyOrIdToCentral=function(itemTime){var newItemTime=itemTime.replace("airing","");newItemTime=newItemTime-100;if(newItemTime<0){return false;}else if(newItemTime<10){newItemTime='000'+newItemTime;}else if(newItemTime<100){newItemTime='00'+newItemTime;}else if(newItemTime<1000){newItemTime='0'+newItemTime;}
newItemTime="airing"+newItemTime;return newItemTime;}
abcdm.abccom.Schedule.adjustEventDateToCentral=function(itemTime){oldtime=itemTime.slice(itemTime.indexOf("T")+1);newtime=oldtime-10000;if(newtime<0){newtime=newtime+240000}
if(newtime<10){newtime='00000'+newtime;}else if(newtime<100){newtime='0000'+newtime;}else if(newtime<1000){newtime='000'+newtime;}else if(newtime<10000){newtime='00'+newtime;}else if(newtime<100000){newtime='0'+newtime;}
return itemTime.replace(oldtime,newtime);}
abcdm.abccom.Schedule.unHide=function(selector){if($(selector)){$(selector).css('visibility','visible');}}
abcdm.abccom.Schedule.registerListeners=function(){$('.module.scheduledayModule .collectionList .schedWatch, .module.scheduledayModule .collectionList .schedVisitSite').live("click",function(e){var showTitle=abcdm.abccom.Schedule.getShowTitle(this),paramsObj={},href=$(this).find('a').attr('href'),actionName="";if($(this).hasClass('schedWatch')){actionName="watchpreview";}else{actionName="visitshowsite";}
paramsObj.omnivars={"prop9":"abc:schedule:grid:"+showTitle+":"+actionName};abcdm.abccom.Schedule.updatePageDetails(paramsObj);setTimeout(function(){window.location=href},1000);return false;});}
abcdm.abccom.Schedule.calendarPickerInit=function(){$('.calendarPickerButton').click(function(event){event.preventDefault();abcdm.abccom.Schedule.calendar.init();$('#scheduleCalendarPicker').toggle();if($('#scheduleCalendarPicker').is(":visible")){abcdm.abccom.Schedule.calendar.addCloseEvent();}})}
abcdm.abccom.Schedule.getSchedule=function(params){$.getJSON('service/schedule/scheduledayajax',params,function(data){$('.scheduleday').replaceWith(data.content);abcdm.abccom.Schedule.adjustForCentral();abcdm.abccom.Schedule.initAddToCalendar(params);abcdm.abccom.Schedule.scrollDay();abcdm.abccom.Hook("schedule_ready");});}
abcdm.abccom.Schedule.setUpAjax=function(){var host=$.url.attr('host').toLowerCase();if(host.indexOf('abc.go.com')>-1){$('.dateSelector a.weekday').each(function(index){$(this).click(function(event){event.preventDefault();$('.scheduleday').fadeTo('slow',.2);$('.scheduleday').addClass('dayLoading');$('.dateSelector .weekday').removeClass("selected");$(this).addClass("selected");var linkurl=$(this).attr('href');var scheduleDateValue=linkurl.slice(linkurl.indexOf('scheduleDate=')+13,linkurl.indexOf('scheduleDate=')+21);var params={scheduleDate:scheduleDateValue};abcdm.abccom.Schedule.getSchedule(params);return false;});});}}
abcdm.abccom.Schedule.calendar={initialized:false,calendarId:'scheduleCalendarPicker',targetUrl:'',startDate:'',collectionId:null,ajax:true,ajaxdata:null,ajaxurl:'',prev:'',next:'',hoveringPicker:false,init:function(){if(!abcdm.abccom.Schedule.calendar.initialized){abcdm.abccom.Schedule.calendar.month=new Date().getMonth(),abcdm.abccom.Schedule.calendar.year=new Date().getFullYear(),abcdm.abccom.Schedule.calendar.day=new Date().getDate(),abcdm.abccom.Schedule.calendar.initialized=true;$("#"+this.calendarId).hover(function(){abcdm.abccom.Schedule.calendar.hoveringPicker=true;},function(){abcdm.abccom.Schedule.calendar.hoveringPicker=false;});abcdm.abccom.Schedule.calendar.draw();}},draw:function(){var html='';html+='<table cellpadding="0" cellspacing="0" id="monthPicker"><tr>';html+='<td><a id="prevMonth">'+abcdm.abccom.Schedule.calendar.prev+'</a></td>';html+='<td class="calendarHeader">'+abcdm.abccom.Schedule.calendar.getMonthName(abcdm.abccom.Schedule.calendar.month)+' '+abcdm.abccom.Schedule.calendar.year+'</td>';html+='<td><a id="nextMonth">'+abcdm.abccom.Schedule.calendar.next+'</a></td>';html+='</tr></table>';html+='<table id="calendar" cellpadding="0" cellspacing="0">';html+='<tr class="calendarDaysRow">';if($("body.abccom").length>0){var weekDays=new Array('SUN','MON','TUE','WED','THU','FRI','SAT');}else{var weekDays=new Array('s','m','t','w','th','f','s');}
for(var j=0;j<weekDays.length;j++){html+='<td>'+weekDays[j]+'</td>';}
var daysInMonth=abcdm.abccom.Schedule.calendar.getDaysInMonth(abcdm.abccom.Schedule.calendar.year,abcdm.abccom.Schedule.calendar.month);var daysInPrevMonth=abcdm.abccom.Schedule.calendar.getDaysInMonth(abcdm.abccom.Schedule.calendar.year,abcdm.abccom.Schedule.calendar.month-1);var daysInNextMonth=abcdm.abccom.Schedule.calendar.getDaysInMonth(abcdm.abccom.Schedule.calendar.year,abcdm.abccom.Schedule.calendar.month+1);var startDay=abcdm.abccom.Schedule.calendar.getFirstDayofMonth(abcdm.abccom.Schedule.calendar.year,abcdm.abccom.Schedule.calendar.month);var currentDate=1;var nextMonthDate=1;var numberOfRows=Math.ceil(daysInMonth/7);var prevMonthDates=startDay+1;if(prevMonthDates==7){prevMonthDates=0}
var today=new Date().getDate();var thisMonth=new Date().getMonth();var thisYear=new Date().getFullYear();for(var i=0;i<numberOfRows;i++){html+='<tr class="calendarRow">';for(var j=0;j<7;j++){html+='<td class="calendarCell">';if(prevMonthDates==0){if(currentDate<=daysInMonth){if(abcdm.abccom.Schedule.calendar.data){if(abcdm.abccom.Schedule.calendar.data[abcdm.abccom.Schedule.calendar.month+""+abcdm.abccom.Schedule.calendar.year]==undefined){html+='<span class = "gray">'+currentDate+'</span>';}else{if(abcdm.abccom.Schedule.calendar.data[abcdm.abccom.Schedule.calendar.month+""+abcdm.abccom.Schedule.calendar.year][currentDate]==undefined){html+='<span class = "gray">'+currentDate+'</span>';}
else{var dateClass='';if(today==currentDate){dateClass='selected';}
html+='<a class="'+dateClass+'" href= '+abcdm.abccom.Schedule.calendar.data[abcdm.abccom.Schedule.calendar.month+""+abcdm.abccom.Schedule.calendar.year][currentDate]+'>'+currentDate+'</a>';}}}}
else{html+='<span class = "white"></span>';nextMonthDate++;}
currentDate++;}
if(prevMonthDates>0){html+='<span class = "white"></span>';prevMonthDates--;}
html+='</td>';}
html+='</tr>';}
html+='</table><div class="pointer"></div><a class="close" href="#">close</a>';$('#'+abcdm.abccom.Schedule.calendar.calendarId).html(html);$("#"+this.calendarId+" .close").click(function(event){event.preventDefault();$('#'+abcdm.abccom.Schedule.calendar.calendarId).hide();$('body').unbind('mouseup');});$showStartMonth=new Date(this.startDate*1000).getMonth();$showStartYear=new Date(this.startDate*1000).getFullYear();abcdm.abccom.Schedule.calendar.prevYear=abcdm.abccom.Schedule.calendar.year;abcdm.abccom.Schedule.calendar.prevMonth=abcdm.abccom.Schedule.calendar.month-1;if(abcdm.abccom.Schedule.calendar.prevMonth<0){abcdm.abccom.Schedule.calendar.prevMonth=11;abcdm.abccom.Schedule.calendar.prevYear--;}
abcdm.abccom.Schedule.calendar.nextYear=abcdm.abccom.Schedule.calendar.year;abcdm.abccom.Schedule.calendar.nextMonth=abcdm.abccom.Schedule.calendar.month+1;if(abcdm.abccom.Schedule.calendar.nextMonth>11){abcdm.abccom.Schedule.calendar.nextMonth=0;abcdm.abccom.Schedule.calendar.nextYear++;}
if(abcdm.abccom.Schedule.calendar.data[abcdm.abccom.Schedule.calendar.prevMonth+""+abcdm.abccom.Schedule.calendar.prevYear]==undefined){$('#prevMonth').css('visibility','hidden');}
else{document.getElementById('prevMonth').onclick=function(){abcdm.abccom.Schedule.calendar.month=abcdm.abccom.Schedule.calendar.prevMonth;abcdm.abccom.Schedule.calendar.year=abcdm.abccom.Schedule.calendar.prevYear;abcdm.abccom.Schedule.calendar.draw();}}
if(abcdm.abccom.Schedule.calendar.data[abcdm.abccom.Schedule.calendar.nextMonth+""+abcdm.abccom.Schedule.calendar.nextYear]==undefined){$('#nextMonth').css('visibility','hidden');;}
else{document.getElementById('nextMonth').onclick=function(){abcdm.abccom.Schedule.calendar.month=abcdm.abccom.Schedule.calendar.nextMonth;abcdm.abccom.Schedule.calendar.year=abcdm.abccom.Schedule.calendar.nextYear;abcdm.abccom.Schedule.calendar.draw();}}
abcdm.abccom.publishDateAdder();this.addCloseEvent();},getMonthName:function(month){var monthNames=new Array('January','February','March','April','May','June','July','August','September','October','November','December');return monthNames[month];},getDaysInMonth:function(year,month){return 32-new Date(year,month,32).getDate();},getFirstDayofMonth:function(year,month){var day;day=new Date(year,month,0).getDay();return day;},addCloseEvent:function(){$('body').bind('mouseup',function(){if(!abcdm.abccom.Schedule.calendar.hoveringPicker){$('#'+abcdm.abccom.Schedule.calendar.calendarId).hide();$('body').unbind('mouseup');}});}};})(jQuery);

/** 
* @filepath: /module-js/ad/ad.js
* @created: Tue, 26 Nov 13 13:03:13 -0800
* @serveraddr: 10.239.31.244
* @remoteaddr: 10.198.87.144
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

var abcdm=abcdm||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.Player=abcdm.abccom.Player||{};abcdm.abccom.Slideshow=abcdm.abccom.Slideshow||{};abcdm.abccom.Slideshow.persistentPause=abcdm.abccom.Slideshow.persistentPause||function(){};abcdm.abccom.Ads=abcdm.abccom.Ads||{};$(function(){try{if($('body.mobile').length===0&&$('.gutterAd a, .gutterAd iframe, , .gutterAd embed, , .gutterAd object').length>0){$('body').css({'overflow-x':'hidden'});$('.gutterAd').addClass('background');abcdm.abccom.Hook('digAdGutters');}}catch(e){}
abcdm.abccom.Hook('digAdLRGutters',{"hTiming":'default','hook':function(options){if(typeof options==='object'&&options.leftImage&&options.rightImage&&options.leftLink&&options.rightLink){if($('body.mobile').length===0){try{$('.gutterAd').html('<a><img /></a>');if(options.internalAd!==true){$('.gutterAd a').attr('target','_blank');}
$('#leftGutter img').attr('src',options.leftImage);$('#rightGutter img').attr("src",options.rightImage);$('#leftGutter a').attr("href",options.leftLink);$('#rightGutter a').attr("href",options.rightLink);$('.gutterAd').addClass('background');$('body').css({'overflow-x':'hidden'});}catch(e){}}}}});abcdm.abccom.Hook('digAdBackground',{'hook':function(){if($('body.mobile').length===0){$('.gutterAd').addClass('background');$('body').css({'overflow-x':'hidden'});}}});abcdm.abccom.Player.displayWrapper=function(adObj){$('#sfpSynchInfo').hide();$('#adCompanionBanner').hide();$('.adBlockRectangles #sfpSynchWrapper').show();var divTarget=$('#sfpSynchWrapper');if(divTarget.length){var adObjStr='';if(typeof(adObj.iframe)!='undefined'){adObjStr+='<iframe src="'+adObj.iframe+'" ';if(typeof(adObj.assetWidth)!='undefined'){adObjStr+='width="'+adObj.assetWidth+'" ';}else{adObjStr+='width="300" ';}
if(typeof(adObj.assetHeight)!='undefined'){adObjStr+='height="'+adObj.assetHeight+'" ';}else{adObjStr+='height="250" ';}
adObjStr+='frameborder="0" border="0" marginwidth="0" marginheight="0" allowtransparency="true" scrolling="no"></iframe>';divTarget.html(adObjStr);}else if(typeof(adObj.assetURL)!='undefined'){divTarget.html('<a href="'+adObj.clickURL+'" target="_blank"><img border=0 src="'+adObj.assetURL+'"></a>');}}};abcdm.abccom.Player.closeWrapper=function(){var bgState=$('#videoPlayerOverlay').css('background-image'),divTarget=$('#sfpSynchWrapper');if(bgState!='none'){$('#sfpSynchInfo').show();}
if(divTarget.length){if(divTarget.hasClass('reuseAdSpace')){divTarget.find('#_fw_container_300x60slot').empty();}else if(!divTarget.hasClass('persistentSyncAd')){divTarget.html('');}}
abcdm.abccom.Slideshow.persistentPause(false);};abcdm.abccom.Player.displayCompanionBanners=function(banners,tracking){$('.adBlockRectangles #sfpSynchWrapper').hide();$('#sfpSynchInfo').html('');$('#adCompanionBanner').show();tmDisplayBanner(banners,"adCompanionBanner",300,250,null,tracking);};abcdm.abccom.Player.hideCompanionBanners=function(banners){if(!$('#adCompanionBanner').hasClass("persistentSyncAd")){$('#adCompanionBanner').hide();$('.adBlockRectangles #sfpSynchWrapper').show();tmHideBanner("adCompanionBanner");}};});abcdm.abccom.Ads.segScores=function(i){var o={};if(!i.indexOf("CBLM-001:")){i=i.substring(9);var id,sc,e=0,f=0,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(var b=0,a=i.length,l=a-(a%4);b<l;){var m=h.indexOf(i.charAt(b++));var k=h.indexOf(i.charAt(b++));f|=(m<<2|k>>4)<<(e++?0:8);f*=(e%=6)&&e-2?1:0;var j=h.indexOf(i.charAt(b++));if(j!=64){f|=((k&15)<<4|j>>2)<<(e++?0:8);if(!(e-2)){id=f;}
f*=(e%=6)&&e-2?1:0}
var g=h.indexOf(i.charAt(b++));if(g!=64){f|=((j&3)<<6|g)<<(e++?0:8);if(!(e-6)){o[id]=f;}
f*=(e%=6)&&e-2?1:0}}}
return o;};abcdm.abccom.Ads.refreshAds=function(){$('.csarRefreshable').attr('src',function(i,val){return val;});}
abcdm.abccom.Ads.fwSeg=function(){var fwAdCookie=abcdm.abccom.Ads.readCookie('CRBLM');if(fwAdCookie!=null){fwAdCookie=abcdm.abccom.Ads.segScores(fwAdCookie);fwAdCookieStr="";for(var i in fwAdCookie){if(fwAdCookie[i]>0){fwAdCookieStr=fwAdCookieStr+"&seg="+i;}}
if(fwAdCookieStr!=""){fwAdCookieStr=fwAdCookieStr.substr(1);}
return fwAdCookieStr;}};abcdm.abccom.Ads.readCookie=function(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length);}
return null;};fwSegStr=abcdm.abccom.Ads.fwSeg();fwWriteJs=function(fwStrJs){if(fwSegStr){if(fwStrJs.indexOf("ad;;")>0){fwStrJs=fwStrJs.replace("ad;;","ad;"+fwSegStr+';');}else{fwStrJs=fwStrJs.replace("ad;","ad;"+fwSegStr+'&');}}
document.write(fwStrJs);};

/** 
* @filepath: /abcdm/splitcontent.js
* @created: Tue, 26 Nov 13 13:03:13 -0800
* @serveraddr: 10.239.31.244
* @remoteaddr: 10.198.87.144
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

$(document).ready(function(){$('.splitContentControl a').click(function(e){e.preventDefault();var $parentSplitDiv=$(this).parents('.splitContent');if($parentSplitDiv.hasClass('less')){$parentSplitDiv.find('.splitContentMore').slideDown("slow",function(){$parentSplitDiv.removeClass('less').addClass('more');});}else{$parentSplitDiv.find('.splitContentMore').slideUp("slow",function(){$parentSplitDiv.removeClass('more').addClass('less');});}});});

/** 
* @filepath: /module-js/collection-biodetails.js
* @created: Tue, 26 Nov 13 13:03:13 -0800
* @serveraddr: 10.239.31.244
* @remoteaddr: 10.198.87.144
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

(function($){$(document).ready(function(){if(($('#primaryBio').length>=1)||($('#secondaryBio').length>=1)||($('#otherBio').length>=1)){$('#jumpToDiv').addClass('visible');$('#jumpToDiv').removeClass('hidden');}
if($('#primaryBio').length>=1){$('#jumpToCharacterBio').addClass('visible');$('#jumpToCharacterBio').removeClass('hidden');$('#jumpToCharacterBio').html($('#jumpToPrimaryBioModule').attr('title'));}
if($('#secondaryBio').length>=1){$('#jumpToActorBio').addClass('visible');$('#jumpToActorBio').removeClass('hidden');$('#jumpToActorBio').html($('#jumpToSecondaryBioModule').attr('title'));}
if($('#otherBio').length>=1){$('#jumpToOtherBio').addClass('visible');$('#jumpToOtherBio').removeClass('hidden');$('#jumpToOtherBio').html($('#jumpToOtherBioModule').attr('title'));}
if($('#bonusContent').length>=1){$('#jumpToBonusContent').addClass('visible');$('#jumpToBonusContent').removeClass('hidden');$('#jumpToBonusContent').html($('#jumpToBonusContentModule').attr('title'));}
if($('#commentsModule').length>=1){$('#jumpToComments').addClass('visible');$('#jumpToComments').removeClass('hidden');$('#jumpToComments').html($('#jumpToContentsModule').attr('title'));}});}(jQuery));

/** 
* @filepath: /utils/jquery.timeago.js
* @created: Tue, 26 Nov 13 13:03:13 -0800
* @serveraddr: 10.239.31.244
* @remoteaddr: 10.198.87.144
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

(function($){$.timeago=function(timestamp){if(timestamp instanceof Date){return inWords(timestamp);}else if(typeof timestamp==="string"){return inWords($.timeago.parse(timestamp));}else{return inWords($.timeago.datetime(timestamp));}};var $t=$.timeago;$.extend($.timeago,{settings:{refreshMillis:60000,allowFuture:true,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[]}},inWords:function(distanceMillis){var $l=this.settings.strings;var prefix=$l.prefixAgo;var suffix=$l.suffixAgo;if(this.settings.allowFuture){if(distanceMillis<0){prefix=$l.prefixFromNow;suffix=$l.suffixFromNow;}
distanceMillis=Math.abs(distanceMillis);}
var seconds=distanceMillis/1000;var minutes=seconds/60;var hours=minutes/60;var days=hours/24;var years=days/365;function substitute(stringOrFunction,number){var string=$.isFunction(stringOrFunction)?stringOrFunction(number,distanceMillis):stringOrFunction;var value=($l.numbers&&$l.numbers[number])||number;return string.replace(/%d/i,value);}
var words=seconds<45&&substitute($l.seconds,Math.round(seconds))||seconds<90&&substitute($l.minute,1)||minutes<45&&substitute($l.minutes,Math.round(minutes))||minutes<90&&substitute($l.hour,1)||hours<24&&substitute($l.hours,Math.round(hours))||hours<48&&substitute($l.day,1)||days<30&&substitute($l.days,Math.floor(days))||days<60&&substitute($l.month,1)||days<365&&substitute($l.months,Math.floor(days/30))||years<2&&substitute($l.year,1)||substitute($l.years,Math.floor(years));return $.trim([prefix,words,suffix].join(" "));},parse:function(iso8601){var s=$.trim(iso8601);s=s.replace(/\.\d\d\d+/,"");s=s.replace(/-/,"/").replace(/-/,"/");s=s.replace(/T/," ").replace(/Z/," UTC");s=s.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");return new Date(s);},datetime:function(elem){var isTime=$(elem).get(0).tagName.toLowerCase()==="time";var iso8601=isTime?$(elem).attr("datetime"):$(elem).attr("title");return $t.parse(iso8601);}});$.fn.timeago=function(){var self=this;self.each(refresh);var $s=$t.settings;if($s.refreshMillis>0){setInterval(function(){self.each(refresh);},$s.refreshMillis);}
return self;};function refresh(){var data=prepareData(this);if(!isNaN(data.datetime)){$(this).text(inWords(data.datetime));}
return this;}
function prepareData(element){element=$(element);if(!element.data("timeago")){element.data("timeago",{datetime:$t.datetime(element)});var text=$.trim(element.text());if(text.length>0){element.attr("title",text);}}
return element.data("timeago");}
function inWords(date){return $t.inWords(distance(date));}
function distance(date){return(new Date().getTime()-date.getTime());}
document.createElement("abbr");document.createElement("time");}(jQuery));

/** 
* @filepath: /module-js/collection-sliderstrip.js
* @created: Tue, 26 Nov 13 13:03:13 -0800
* @serveraddr: 10.239.31.244
* @remoteaddr: 10.198.87.144
* @bu: abccom
* @cdnroot: http://cdn.media.abc.com/m
*/

var abcdm=abcdm||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.DatgSliderSite=abcdm.abccom.DatgSliderSite||{};$(function(){if($('body.abcfamily .primaryWrapper.videosSelection').length){abcdm.abccom.DatgSliderSite={customTarget:{className:'videosSelection',options:{sendvideo:true}}};}
else if($('.primaryWrapper.videosSelection').length){abcdm.abccom.DatgSliderSite={customTarget:{className:'videosSelection',options:{sendvideo:true,behavior:"pager",controlplacement:{'after':{controltextnext:"<span>NEXT</span>",controltextprevious:"<span>PREV</span>",controlseparator:"&nbsp;&nbsp;|&nbsp;&nbsp;"}}}},options:{sendvideo:false,suppresslink:false,display:4,behavior:"pager",controlplacement:{'before':{controltextnext:"",controltextprevious:"",controlseparator:""}}}};}
$(document).ready(function(){$('div.sliderstrip a.showMore').click(function(e){e.preventDefault();var $this=$(this),$subGalleryRow=$this.closest('.categoryHeaderInfo').siblings('div.subGalleryRow');if(!$subGalleryRow.is(':animated')){if($subGalleryRow.is(':visible')){$this.text('Show me more >>');$subGalleryRow.slideUp('slow');}else{$this.text('<< Show me less');$subGalleryRow.slideDown('slow',function(){abcdm.abccom.Hook('datgslider_resize');});}}});if($('.primaryWrapper.videosSelection').length){var urlParts=location.href.split('?');currUrl=urlParts[0];$(".playerContainer").parent().prepend('<div id="vidDetailWrap"><div id="vidTitle"></div><div id="vidSubtitle"></div><div id="vidDesc"></div></div>');$(".primaryWrapper.videosSelection .videoCategories .moduleHeader").prepend("<p class = \"videoSearchTitle\">Search All Videos</p><div class=\"videoSearchBox\"><div class=\"videoInputBoxWrapper\"><input type =\"text\" name=\"videoSearch\" id=\"videoInputBox\" value=\"Search\" /></div><a href=\"#\" id=\"videoSearchButton\" class=\"datgButton tiny\">search</a></div>");$('.primaryWrapper.videosSelection #videoInputBox').focus(function(e){if($(this).val()==='Search'){$(this).val('');$(this).addClass('selected');}});$('.primaryWrapper.videosSelection #videoInputBox').blur(function(e){if($(this).val()===''){$(this).val('Search');$(this).removeClass('selected');}});$(".primaryWrapper.videosSelection #videoSearchButton").click(function(e){e.preventDefault();window.location=currUrl+'?videoslidertags='+$('.primaryWrapper.videosSelection #videoInputBox').val().replace(/,/gi,'--').replace(/\s/g,'%20');});var playlist=$('.primaryWrapper.videosSelection .datgSlider').find('.playListId').attr('title');var selectedCategory=$('.primaryWrapper.videosSelection .videoCategories a.detailTitle[href*='+playlist+']');if(selectedCategory.length&&document.location.href.toLowerCase().indexOf('videoslidertags')==-1){selectedCategory.parent().addClass('selected datgButton');$(".primaryWrapper.videosSelection .sliderstripTitle").text(selectedCategory.text());}
else if(document.location.href.toLowerCase().indexOf('videoslidertags')!=-1){$(".primaryWrapper.videosSelection .sliderstripTitle").text("Your Search Results");}
var totalVideo=$(".primaryWrapper.videosSelection li.videoClip").length;$(".primaryWrapper.videosSelection .sliderstripTitle").append("<span>("+totalVideo+")</span>");if(totalVideo==0&&document.location.href.toLowerCase().indexOf('videoslidertags')!=-1){$('.primaryWrapper.videosSelection .datgSlider').text("We didn't find any videos matching your search terms");$('.primaryWrapper.videosSelection .datgSlider').append('<div class="clear"></div><a class="clearSearch" href="'+currUrl+'">Clear Search</a>');}
abcdm.abccom.Hook('videoplayer_playingnewcontent',{"hook":function(obj){var currentSel=$('.primaryWrapper.videosSelection .carouselTrack').find(".selected"),subTitle='',temp;if((temp=parseInt(currentSel.find('meta[itemprop="episodeNumber"]').attr('content'),10))>0){subTitle+='<span class="episodeNumber subTitleCont">Episode ';subTitle+=temp;subTitle+='</span>';}
subTitle+='<span class="episodeDuration subTitleCont">';subTitle+=currentSel.find("div.detailDuration").text();subTitle+='</span>';if((temp=currentSel.find('meta[itemprop="tvRating"]').attr('content'))!=='null'){subTitle+='<span class="episodeRating subTitleCont">';subTitle+=temp;subTitle+='</span>';}
if((temp=new Date(currentSel.find('meta[itemprop="uploadDateNice"]').attr('content'))).toString()!=='Invalid Date'){subTitle+='<span class="episodeAirDate subTitleCont">Aired ';subTitle+=temp.getMonth()+1;subTitle+='/';subTitle+=temp.getDate();subTitle+='/';subTitle+=temp.getFullYear();subTitle+='</span>';}
$(".primaryWrapper.videoplayer #vidTitle").text(currentSel.find("abbr").text());$(".primaryWrapper.videoplayer #vidSubtitle").html(subTitle);$(".primaryWrapper.videoplayer #vidDesc").text(currentSel.find("div.detailContent").text());}});}
if($('body.oscar').length){$('abbr.timeago').timeago();$('.comments abbr.objectid').each(function(){var object=$(this),objectid=object.attr('title'),commentsServiceUrl='http://ww2.abc.go.com/service/comment/count',data={objectids:objectid,cmsid:'abccom'};if(objectid){abcdm.abccom.Utils.getJSONP(commentsServiceUrl,data,function(response){if(response&&response.data!==undefined){object.text(response.data.toString());}});}});if($('.videoGallery').length){abcdm.abccom.DatgSliderSite={options:{suppresslink:true,behavior:"pager",controlplacement:{'after':{'controlType':'number',controltextnext:'Newer',controltextprevious:'Older'}}}};abcdm.abccom.Hook('videoplayer_playingnewcontent',{"hook":function(obj){if(!$('.videoZoom .galleryBody').hasClass('videoCaption')){$('.videoZoom .galleryBody').addClass('videoCaption');}
if($('.videoZoom .galleryBody').find('.durationWrapper').length){var currentSel=$('.videoGallery').find('li.selected'),duration=$.trim(currentSel.find('.detailDuration').html());$('.videoZoom .galleryBody .durationWrapper').html('/ <span class="duration">'+duration+'</span>');}}});$('.videoGallery a.thumbNail').css('opacity','1');$('.videoGallery a.thumbNail').mouseenter(function(){$(this).stop(true,true).animate({opacity:0.85},500);});$('.videoGallery a.thumbNail').mouseleave(function(){$(this).stop(true,true).animate({opacity:1},300);});}}});});