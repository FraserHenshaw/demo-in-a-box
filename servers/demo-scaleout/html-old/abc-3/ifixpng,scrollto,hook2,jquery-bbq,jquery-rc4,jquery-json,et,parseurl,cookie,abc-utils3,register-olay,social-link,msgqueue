

/** 
* @filepath: ifixpng,scrollto,hook2,jquery-bbq,jquery-rc4,jquery-json,et,parseurl,cookie,abc-utils3,register-olay,social-link,msgqueue
* @created: Wed, 27 Nov 13 17:23:28 -0800
*/


/** 
* @filepath: /utils/jquery.ifixpng2.js
* @created: Wed, 27 Nov 13 17:23:27 -0800
*/
;(function($){$.ifixpng=function(customPixel){$.ifixpng.pixel=customPixel;};$.ifixpng.regexp={bg:/^url\(["']?(.*\.png([?].*)?)["']?\)$/i,img:/.*\.png([?].*)?$/i},$.ifixpng.getPixel=function(){return $.ifixpng.pixel||'images/pixel.gif';};var hack={base:$('base').attr('href'),ltie7:$.browser.msie&&$.browser.version<7,filter:function(src){return"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,sizingMethod=crop,src='"+src+"')";}};$.fn.ifixpng=hack.ltie7?function(){function fixImage(image,source,width,height,hidden){image.css({filter:hack.filter(source),width:width,height:height}).attr({src:$.ifixpng.getPixel()}).positionFix();}
return this.each(function(){var $$=$(this);if($$.is('img')||$$.is('input')){var source,img;if(this.src&&this.src.match($.ifixpng.regexp.img)){source=(hack.base&&this.src.substring(0,1)!='/'&&this.src.indexOf(hack.base)===-1)?hack.base+this.src:this.src;if(!this.width||!this.height){$(new Image()).one('load',function(){fixImage($$,source,this.width,this.height);$(this).remove();}).attr('src',source);}else fixImage($$,source,this.width,this.height);}}else if(this.style){var imageSrc=$$.css('backgroundImage');if(imageSrc&&imageSrc.match($.ifixpng.regexp.bg)&&this.currentStyle.backgroundRepeat=='no-repeat'){imageSrc=RegExp.$1;var x=this.currentStyle.backgroundPositionX||0,y=this.currentStyle.backgroundPositionY||0;if(x||y){var css={},img;if(typeof x!='undefined'){if(x=='left')css.left=0;else if(x=='right')css.right=$$.width()%2===1?-1:0;else css.left=x;}
if(typeof y!='undefined'){if(y=='bottom')css.bottom=$$.height()%2===1?-1:0;else if(y=='top')css.top=0;else css.top=y;}
img=new Image();$(img).one('load',function(){var x,y,expr={},prop;if(/center|%/.test(css.top)){expr.top="(this.parentNode.offsetHeight - this.offsetHeight) * "+(css.top=='center'?0.5:(parseInt(css.top)/100));delete css.top;}
if(/center|%/.test(css.left)){expr.left="(this.parentNode.offsetWidth - this.offsetWidth) * "+(css.left=='center'?0.5:(parseInt(css.left)/100));delete css.left;}
$$.positionFix().css({backgroundImage:'none'}).prepend($('<div></div>').css(css).css({width:this.width,height:this.height,position:'absolute',filter:hack.filter(imageSrc)}));if(expr.top||expr.left){var elem=$$.children(':first')[0];for(prop in expr)elem.style.setExpression(prop,expr[prop],'JavaScript');}
$(this).remove();});img.src=imageSrc;}else{$$.css({backgroundImage:'none',filter:hack.filter(imageSrc)});}}}});}:function(){return this;};$.fn.positionFix=function(){return this.each(function(){var $$=$(this);if($$.css('position')!='absolute')$$.css({position:'relative'});});};})(jQuery);

/** 
* @filepath: /utils/jquery.scrollTo.js
* @created: Wed, 27 Nov 13 17:23:27 -0800
*/
;(function($){var $scrollTo=$.scrollTo=function(target,duration,settings){$(window).scrollTo(target,duration,settings);};$scrollTo.defaults={axis:'xy',duration:parseFloat($.fn.jquery)>=1.3?0:1};$scrollTo.window=function(scope){return $(window)._scrollable();};$.fn._scrollable=function(){return this.map(function(){var elem=this,isWin=!elem.nodeName||$.inArray(elem.nodeName.toLowerCase(),['iframe','#document','html','body'])!=-1;if(!isWin)
return elem;var doc=(elem.contentWindow||elem).document||elem.ownerDocument||elem;return $.browser.safari||doc.compatMode=='BackCompat'?doc.body:doc.documentElement;});};$.fn.scrollTo=function(target,duration,settings){if(typeof duration=='object'){settings=duration;duration=0;}
if(typeof settings=='function')
settings={onAfter:settings};if(target=='max')
target=9e9;settings=$.extend({},$scrollTo.defaults,settings);duration=duration||settings.speed||settings.duration;settings.queue=settings.queue&&settings.axis.length>1;if(settings.queue)
duration/=2;settings.offset=both(settings.offset);settings.over=both(settings.over);return this._scrollable().each(function(){var elem=this,$elem=$(elem),targ=target,toff,attr={},win=$elem.is('html,body');switch(typeof targ){case'number':case'string':if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(targ)){targ=both(targ);break;}
targ=$(targ,this);case'object':if(targ.is||targ.style)
toff=(targ=$(targ)).offset();}
$.each(settings.axis.split(''),function(i,axis){var Pos=axis=='x'?'Left':'Top',pos=Pos.toLowerCase(),key='scroll'+Pos,old=elem[key],max=$scrollTo.max(elem,axis);if(toff){attr[key]=toff[pos]+(win?0:old-$elem.offset()[pos]);if(settings.margin){attr[key]-=parseInt(targ.css('margin'+Pos))||0;attr[key]-=parseInt(targ.css('border'+Pos+'Width'))||0;}
attr[key]+=settings.offset[pos]||0;if(settings.over[pos])
attr[key]+=targ[axis=='x'?'width':'height']()*settings.over[pos];}else{var val=targ[pos];attr[key]=val.slice&&val.slice(-1)=='%'?parseFloat(val)/100*max:val;}
if(/^\d+$/.test(attr[key]))
attr[key]=attr[key]<=0?0:Math.min(attr[key],max);if(!i&&settings.queue){if(old!=attr[key])
animate(settings.onAfterFirst);delete attr[key];}});animate(settings.onAfter);function animate(callback){$elem.animate(attr,duration,settings.easing,callback&&function(){callback.call(this,target,settings);});};}).end();};$scrollTo.max=function(elem,axis){var Dim=axis=='x'?'Width':'Height',scroll='scroll'+Dim;if(!$(elem).is('html,body'))
return elem[scroll]-$(elem)[Dim.toLowerCase()]();var size='client'+Dim,html=elem.ownerDocument.documentElement,body=elem.ownerDocument.body;return Math.max(html[scroll],body[scroll])
-Math.min(html[size],body[size]);};function both(val){return typeof val=='object'?val:{top:val,left:val};};})(jQuery);

/** 
* @filepath: /abcdm/abccom/hook2a.js
* @created: Wed, 27 Nov 13 17:23:27 -0800
*/

var abcdm=abcdm||{};abcdm.abccom=abcdm.abccom||{};(function($){var Hook,debugLog,hookObjView,debugTimers={},hTimeStart=new Date(),tStamp=function(bugger){var heyNow=new Date(),tstamp=[heyNow.getHours()+':'+heyNow.getMinutes()+':'+heyNow.getSeconds()+"."+heyNow.getMilliseconds(),(heyNow-hTimeStart)/1000,(heyNow-debugTimers[bugger])/1000];return tstamp;};abcdm.abccom.debugLog=function(bugger){if(bugger&&(typeof console==="object")&&(typeof console.log==="function"||typeof console.log==="object")&&(location.host.indexOf('preview')>-1||location.host.indexOf('local')>-1||location.href.indexOf('debugall')>-1||location.href.indexOf('debug'+bugger)>-1)){debugTimers[bugger]=new Date();if(location.href.indexOf('debugREALLYalert')>-1){return function(o){var tstampOut=tStamp(bugger),tString=' *-* Clock:'+tstampOut[0]+' *-* Page:'+tstampOut[1]+'s *-* Local:'+tstampOut[2]+'s';if(typeof o==="string"||typeof o==="number"||typeof o==="boolean"){o=bugger+' - '+o+tString;alert(o);}else{alert(bugger+' - ['+typeof o+']'+tString);alert(o);}
return;};}
return function(o){var tstampOut=tStamp(bugger),tString=' *-* Clock:'+tstampOut[0]+' *-* Page:'+tstampOut[1]+'s *-* Local:'+tstampOut[2]+'s';if(typeof o==="string"||typeof o==="number"||typeof o==="boolean"){o=bugger+' - '+o+tString;console.log(o);}else{console.log(bugger+' - ['+typeof o+']'+tString);console.log(o);}
return;};}
return function(){};};debugLog=abcdm.abccom.debugLog('Hook');hookObjView=function(obj){debugLog(obj);};Hook=function(hPoint,options){var hookItem=$(),hookPoint=$(),priorityQue=['cutter','normal','nice'],priorityNumber=[2,1,0,-1],timingQue=['pre','default','post'],queueInit=function(){if($('#abcHookList').length===0){$(document.body).append('<ol id="abcHookList" style="display:none"></ol><ol id="abcHookExec" style="display:none"></ol>');}},execHook=function(selector){hookPoint.find(selector).each(function(){$(this).trigger('hook',options.args);if($(this).hasClass('runOnce')){$(this).remove();debugLog('Removing - '+$(this).attr('id'));}});};options=options||{};if(typeof options==="string"){options={'action':options};}
if(typeof options==="function"){options={'hook':options};}
if(options.action==="debug"){options.hName="HookObjView";options.hook=hookObjView;}
if(typeof hPoint==="string"&&typeof options==="object"){queueInit();options.args=options.args||{};if($('#abcHookList #aHook'+hPoint).length===0){$('#abcHookList').append('<li id="aHook'+hPoint+'"></li>');}
hookPoint=$('#abcHookList #aHook'+hPoint);options.action=options.action||"call";if(typeof options.hook==="function"){options.action="bind";}
if(typeof options.action==="string"){switch(options.action){case"call":debugLog('HookPoint '+hPoint+' triggered');if(hookPoint.find('span.preHook.blocker').length>0){execHook('span.preHook.blocker');}else{$.each(priorityQue,function(key,value){execHook('span.preHook.'+value);});}
execHook('span.defaultHook');if(hookPoint.find('span.postHook.blocker').length>0){execHook('span.postHook.blocker');}else{$.each(priorityQue,function(key,value){execHook('span.postHook.'+value);});}
break;case"clear":hookPoint.children().remove();break;case"bind":if(typeof options.hook==="function"){options.hName=options.hName||'CustomHook'+Math.floor(Math.random()*100000);if($.inArray(options.hTiming,timingQue)<0){options.hTiming='pre';}
if($.inArray(options.priority,priorityNumber)<0){options.priority=1;}
hookPoint.find('#'+options.hName).remove();if(options.hTiming==="default"){hookPoint.find('.defaultHook').remove();}
hookItem=$('<span id="'+options.hName+'" class="'+options.hTiming+'Hook"/>');if(options.runOnce===true){hookItem.addClass('runOnce');}
switch(parseInt(options.priority,10)){case 2:hookItem.addClass("cutter");break;case-1:hookItem.addClass("nice");break;case 0:hookItem.addClass("blocker");break;default:hookItem.addClass("normal");}
hookPoint.append(hookItem);hookPoint.find("#"+options.hName).bind("hook",options.args,function(e,args){try{options.hook(args);}catch(exp){debugLog('Failure:'+exp+' - '+hPoint+' - '+hookItem.attr('class')+' - '+options.hName);}});hookPoint.find("#"+options.hName).data("debug",options.hook.toString());hookPoint.find("#"+options.hName).bind('hook',function(obj){debugLog(hPoint+' - '+hookItem.attr('class')+' - '+options.hName);});}
break;case"unbind":if(typeof options.hName==="string"){hookPoint.find('#'+options.hName).remove();}
break;case"list":hookPoint.find('span').each(function(){debugLog($(this).data('debug'));});break;default:debugLog('options - '+options.action);break;}}}};abcdm.abccom.Hook=Hook;}(jQuery));

/** 
* @filepath: /utils/jquery.bbq.js
* @created: Wed, 27 Nov 13 17:23:27 -0800
*/

(function($,window){'$:nomunge';var undefined,aps=Array.prototype.slice,decode=decodeURIComponent,jq_param=$.param,jq_param_fragment,jq_deparam,jq_deparam_fragment,jq_bbq=$.bbq=$.bbq||{},jq_bbq_pushState,jq_bbq_getState,jq_elemUrlAttr,jq_event_special=$.event.special,str_hashchange='hashchange',str_querystring='querystring',str_fragment='fragment',str_elemUrlAttr='elemUrlAttr',str_location='location',str_href='href',str_src='src',re_trim_querystring=/^.*\?|#.*$/g,re_trim_fragment=/^.*\#/,re_no_escape,elemUrlAttr_cache={};function is_string(arg){return typeof arg==='string';}
function curry(func){var args=aps.call(arguments,1);return function(){return func.apply(this,args.concat(aps.call(arguments)));};}
function get_fragment(url){return url.replace(/^[^#]*#?(.*)$/,'$1');}
function get_querystring(url){return url.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,'$1');}
function jq_param_sub(is_fragment,get_func,url,params,merge_mode){var result,qs,matches,url_params,hash;if(params!==undefined){matches=url.match(is_fragment?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);hash=matches[3]||'';if(merge_mode===2&&is_string(params)){qs=params.replace(is_fragment?re_trim_fragment:re_trim_querystring,'');}else{url_params=jq_deparam(matches[2]);params=is_string(params)?jq_deparam[is_fragment?str_fragment:str_querystring](params):params;qs=merge_mode===2?params:merge_mode===1?$.extend({},params,url_params):$.extend({},url_params,params);qs=jq_param(qs);if(is_fragment){qs=qs.replace(re_no_escape,decode);}}
result=matches[1]+(is_fragment?'#':qs||!matches[1]?'?':'')+qs+hash;}else{result=get_func(url!==undefined?url:window[str_location][str_href]);}
return result;}
jq_param[str_querystring]=curry(jq_param_sub,0,get_querystring);jq_param[str_fragment]=jq_param_fragment=curry(jq_param_sub,1,get_fragment);jq_param_fragment.noEscape=function(chars){chars=chars||'';var arr=$.map(chars.split(''),encodeURIComponent);re_no_escape=new RegExp(arr.join('|'),'g');};jq_param_fragment.noEscape(',/');$.deparam=jq_deparam=function(params,coerce){var obj={},coerce_types={'true':!0,'false':!1,'null':null};$.each(params.replace(/\+/g,' ').split('&'),function(j,v){var param=v.split('='),key=decode(param[0]),val,cur=obj,i=0,keys=key.split(']['),keys_last=keys.length-1;if(/\[/.test(keys[0])&&/\]$/.test(keys[keys_last])){keys[keys_last]=keys[keys_last].replace(/\]$/,'');keys=keys.shift().split('[').concat(keys);keys_last=keys.length-1;}else{keys_last=0;}
if(param.length===2){val=decode(param[1]);if(coerce){val=val&&!isNaN(val)?+val:val==='undefined'?undefined:coerce_types[val]!==undefined?coerce_types[val]:val;}
if(keys_last){for(;i<=keys_last;i++){key=keys[i]===''?cur.length:keys[i];cur=cur[key]=i<keys_last?cur[key]||(keys[i+1]&&isNaN(keys[i+1])?{}:[]):val;}}else{if($.isArray(obj[key])){obj[key].push(val);}else if(obj[key]!==undefined){obj[key]=[obj[key],val];}else{obj[key]=val;}}}else if(key){obj[key]=coerce?undefined:'';}});return obj;};function jq_deparam_sub(is_fragment,url_or_params,coerce){if(url_or_params===undefined||typeof url_or_params==='boolean'){coerce=url_or_params;url_or_params=jq_param[is_fragment?str_fragment:str_querystring]();}else{url_or_params=is_string(url_or_params)?url_or_params.replace(is_fragment?re_trim_fragment:re_trim_querystring,''):url_or_params;}
return jq_deparam(url_or_params,coerce);};jq_deparam[str_querystring]=curry(jq_deparam_sub,0);jq_deparam[str_fragment]=jq_deparam_fragment=curry(jq_deparam_sub,1);$[str_elemUrlAttr]||($[str_elemUrlAttr]=function(obj){return $.extend(elemUrlAttr_cache,obj);})({a:str_href,base:str_href,iframe:str_src,img:str_src,input:str_src,form:'action',link:str_href,script:str_src});jq_elemUrlAttr=$[str_elemUrlAttr];function jq_fn_sub(mode,force_attr,params,merge_mode){if(!is_string(params)&&typeof params!=='object'){merge_mode=params;params=force_attr;force_attr=undefined;}
return this.each(function(){var that=$(this),attr=force_attr||jq_elemUrlAttr()[(this.nodeName||'').toLowerCase()]||'',url=attr&&that.attr(attr)||'';that.attr(attr,jq_param[mode](url,params,merge_mode));});}
$.fn[str_querystring]=curry(jq_fn_sub,str_querystring);$.fn[str_fragment]=curry(jq_fn_sub,str_fragment);jq_bbq.pushState=jq_bbq_pushState=function(params,merge_mode){if(is_string(params)&&/^#/.test(params)&&merge_mode===undefined){merge_mode=2;}
var has_args=params!==undefined,url=jq_param_fragment(window[str_location][str_href],has_args?params:{},has_args?merge_mode:2);window[str_location][str_href]=url+(/#/.test(url)?'':'#');};jq_bbq.getState=jq_bbq_getState=function(key,coerce){return key===undefined||typeof key==='boolean'?jq_deparam_fragment(key):jq_deparam_fragment(coerce)[key];};jq_bbq.removeState=function(arr){var state={};if(arr!==undefined){state=jq_bbq_getState();$.each($.isArray(arr)?arr:arguments,function(i,v){delete state[v];});}
jq_bbq_pushState(state,2);};jq_event_special[str_hashchange]=$.extend(jq_event_special[str_hashchange],{add:function(handleObj){var old_handler;function new_handler(e){var hash=e[str_fragment]=jq_param_fragment();e.getState=function(key,coerce){return key===undefined||typeof key==='boolean'?jq_deparam(hash,key):jq_deparam(hash,coerce)[key];};old_handler.apply(this,arguments);};if($.isFunction(handleObj)){old_handler=handleObj;return new_handler;}else{old_handler=handleObj.handler;handleObj.handler=new_handler;}}});})(jQuery,this);(function($,window,undefined){'$:nomunge';var fake_onhashchange,jq_event_special=$.event.special,str_location='location',str_hashchange='hashchange',str_href='href',browser=$.browser,mode=document.documentMode,is_old_ie=browser.msie&&(mode===undefined||mode<8),supports_onhashchange='on'+str_hashchange in window&&!is_old_ie;function get_fragment(url){url=url||window[str_location][str_href];return url.replace(/^[^#]*#?(.*)$/,'$1');};$[str_hashchange+'Delay']=100;jq_event_special[str_hashchange]=$.extend(jq_event_special[str_hashchange],{setup:function(){if(supports_onhashchange){return false;}
$(fake_onhashchange.start);},teardown:function(){if(supports_onhashchange){return false;}
$(fake_onhashchange.stop);}});fake_onhashchange=(function(){var self={},timeout_id,iframe,set_history,get_history;function init(){set_history=get_history=function(val){return val;};if(is_old_ie){iframe=$('<iframe src="javascript:0"/>').hide().insertAfter('body')[0].contentWindow;get_history=function(){return get_fragment(iframe.document[str_location][str_href]);};set_history=function(hash,history_hash){if(hash!==history_hash){var doc=iframe.document;doc.open().close();doc[str_location].hash='#'+hash;}};set_history(get_fragment());}};self.start=function(){if(timeout_id){return;}
var last_hash=get_fragment();set_history||init();(function loopy(){var hash=get_fragment(),history_hash=get_history(last_hash);if(hash!==last_hash){set_history(last_hash=hash,history_hash);$(window).trigger(str_hashchange);}else if(history_hash!==last_hash){window[str_location][str_href]=window[str_location][str_href].replace(/#.*/,'')+'#'+history_hash;}
timeout_id=setTimeout(loopy,$[str_hashchange+'Delay']);})();};self.stop=function(){if(!iframe){timeout_id&&clearTimeout(timeout_id);timeout_id=0;}};return self;})();})(jQuery,this);

/** 
* @filepath: /utils/jquery.rc4.js
* @created: Wed, 27 Nov 13 17:23:27 -0800
*/

(function($){$.fn.rc4=function(settings){var defaults={key:null,method:"encrypt",callback:null},options=$.extend(defaults,settings);if($.fn.rc4.ctrlrInst===null){$.fn.rc4.ctrlrInst=new $.fn.rc4.ctrlr(options);}
return this.each(function(){$.fn.rc4.ctrlrInst.settings=options;$.fn.rc4.ctrlrInst.container=this;$.fn.rc4.ctrlrInst.initialise(this);});};$.extend({hexEncode:function(data){var b16D='0123456789abcdef',b16M=[],i,result=[];for(i=0;i<256;i++){b16M[i]=b16D.charAt(i>>4)+b16D.charAt(i&15);}
for(i=0;i<data.length;i++){result[i]=b16M[data.charCodeAt(i)];}
return result.join('');},hexDecode:function(data){var b16D='0123456789abcdef',b16M=[],i,j=0,result=[];for(i=0;i<256;i++){b16M[b16D.charAt(i>>4)+b16D.charAt(i&15)]=String.fromCharCode(i);}
if(!data.match(/^[a-f0-9]*$/i)){return false;}
if(data.length%2){data='0'+data;}
for(i=0;i<data.length;i+=2){result[j++]=b16M[data.substr(i,2)];}
return result.join('');},rc4Encrypt:function(key,pt){var s=[],i,x,y,j=0,ct='';for(i=0;i<256;i++){s[i]=i;}
for(i=0;i<256;i++){j=(j+s[i]+key.charCodeAt(i%key.length))%256;x=s[i];s[i]=s[j];s[j]=x;}
i=0;j=0;for(y=0;y<pt.length;y++){i=(i+1)%256;j=(j+s[i])%256;x=s[i];s[i]=s[j];s[j]=x;ct+=String.fromCharCode(pt.charCodeAt(y)^s[(s[i]+s[j])%256]);}
return ct;},rc4Decrypt:function(key,ct){return $.rc4Encrypt(key,ct);},rc4EncryptStr:function(str,key){return $.hexEncode($.rc4Encrypt(key,unescape(encodeURIComponent(str))));},rc4DecryptStr:function(hexStr,key){return decodeURIComponent(escape($.rc4Decrypt(key,$.hexDecode(hexStr))));}});$.rc4={};$.fn.rc4.ctrlrInst=null;$.fn.rc4.ctrlr=function(settings){this.settings=settings;};var ctrlr=$.fn.rc4.ctrlr;ctrlr.prototype.initialise=function(){if(this.settings.key){if(this.settings.method){if($.trim(this.settings.method.toUpperCase())==="ENCRYPT"){this.setObjectValue($.hexEncode($.rc4Encrypt(this.settings.key,this.getObjectValue())));}
if($.trim(this.settings.method.toUpperCase())==="DECRYPT"){this.setObjectValue($.rc4Decrypt(this.settings.key,$.hexDecode(this.getObjectValue())));}}}};ctrlr.prototype.getObjectValue=function(){if($.fn.rc4.ctrlrInst.container.innerHTML){return $.fn.rc4.ctrlrInst.container.innerHTML;}
if($.fn.rc4.ctrlrInst.container.value){return $.fn.rc4.ctrlrInst.container.value;}};ctrlr.prototype.setObjectValue=function(data){if($.fn.rc4.ctrlrInst.container.innerHTML){$.fn.rc4.ctrlrInst.container.innerHTML=data;}
if($.fn.rc4.ctrlrInst.container.value){$.fn.rc4.ctrlrInst.container.value=data;}};}(jQuery));

/** 
* @filepath: /utils/jquery.json-2.2.js
* @created: Wed, 27 Nov 13 17:23:27 -0800
*/

(function($){$.toJSON=function(o)
{if(typeof(JSON)=='object'&&JSON.stringify)
return JSON.stringify(o);var type=typeof(o);if(o===null)
return"null";if(type=="undefined")
return undefined;if(type=="number"||type=="boolean")
return o+"";if(type=="string")
return $.quoteString(o);if(type=='object')
{if(typeof o.toJSON=="function")
return $.toJSON(o.toJSON());if(o.constructor===Date)
{var month=o.getUTCMonth()+1;if(month<10)month='0'+month;var day=o.getUTCDate();if(day<10)day='0'+day;var year=o.getUTCFullYear();var hours=o.getUTCHours();if(hours<10)hours='0'+hours;var minutes=o.getUTCMinutes();if(minutes<10)minutes='0'+minutes;var seconds=o.getUTCSeconds();if(seconds<10)seconds='0'+seconds;var milli=o.getUTCMilliseconds();if(milli<100)milli='0'+milli;if(milli<10)milli='0'+milli;return'"'+year+'-'+month+'-'+day+'T'+
hours+':'+minutes+':'+seconds+'.'+milli+'Z"';}
if(o.constructor===Array)
{var ret=[];for(var i=0;i<o.length;i++)
ret.push($.toJSON(o[i])||"null");return"["+ret.join(",")+"]";}
var pairs=[];for(var k in o){var name;var type=typeof k;if(type=="number")
name='"'+k+'"';else if(type=="string")
name=$.quoteString(k);else
continue;if(typeof o[k]=="function")
continue;var val=$.toJSON(o[k]);pairs.push(name+":"+val);}
return"{"+pairs.join(", ")+"}";}};$.evalJSON=function(src)
{if(typeof(JSON)=='object'&&JSON.parse)
return JSON.parse(src);return eval("("+src+")");};$.secureEvalJSON=function(src)
{if(typeof(JSON)=='object'&&JSON.parse)
return JSON.parse(src);var filtered=src;filtered=filtered.replace(/\\["\\\/bfnrtu]/g,'@');filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']');filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,'');if(/^[\],:{}\s]*$/.test(filtered))
return eval("("+src+")");else
throw new SyntaxError("Error parsing JSON, source is not valid.");};$.quoteString=function(string)
{if(string.match(_escapeable))
{return'"'+string.replace(_escapeable,function(a)
{var c=_meta[a];if(typeof c==='string')return c;c=a.charCodeAt();return'\\u00'+Math.floor(c/16).toString(16)+(c%16).toString(16);})+'"';}
return'"'+string+'"';};var _escapeable=/["\\\x00-\x1f\x7f-\x9f]/g;var _meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'};})(jQuery);

/** 
* @filepath: /community/event-tracker/et.js
* @created: Wed, 27 Nov 13 17:23:27 -0800
*/

var abcdm=abcdm||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.et=abcdm.abccom.et||{};abcdm.abccom.Hook=abcdm.abccom.Hook||function(){};(function($){abcdm.abccom.et.logEvent=function(type,data){};abcdm.abccom.et.eventLogged=function(type,data){abcdm.abccom.Hook('etEventLogged',{'args':{'type':type,'context':data}});};}(jQuery));

/** 
* @filepath: /utils/jquery.url.js
* @created: Wed, 27 Nov 13 17:23:27 -0800
*/

jQuery.url=function()
{var segments={};var parsed={};var options={url:window.location,strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var parseUri=function()
{str=decodeURI(options.url);var m=options.parser[options.strictMode?"strict":"loose"].exec(str);var uri={};var i=14;while(i--){uri[options.key[i]]=m[i]||"";}
uri[options.q.name]={};uri[options.key[12]].replace(options.q.parser,function($0,$1,$2){if($1){uri[options.q.name][$1]=$2;}});return uri;};var key=function(key)
{if(!parsed.length)
{setUp();}
if(key=="base")
{if(parsed.port!==null&&parsed.port!=="")
{return parsed.protocol+"://"+parsed.host+":"+parsed.port+"/";}
else
{return parsed.protocol+"://"+parsed.host+"/";}}
return(parsed[key]==="")?null:parsed[key];};var param=function(item)
{if(!parsed.length)
{setUp();}
return(parsed.queryKey[item]===null)?null:parsed.queryKey[item];};var setUp=function()
{parsed=parseUri();getSegments();};var getSegments=function()
{var p=parsed.path;segments=[];segments=parsed.path.length==1?{}:(p.charAt(p.length-1)=="/"?p.substring(1,p.length-1):path=p.substring(1)).split("/");};return{setMode:function(mode)
{strictMode=mode=="strict"?true:false;return this;},setUrl:function(newUri)
{options.url=newUri===undefined?window.location:newUri;setUp();return this;},segment:function(pos)
{if(!parsed.length)
{setUp();}
if(pos===undefined)
{return segments.length;}
return(segments[pos]===""||segments[pos]===undefined)?null:segments[pos];},attr:key,param:param};}();

/** 
* @filepath: /utils/jquery.cookie.js
* @created: Wed, 27 Nov 13 17:23:27 -0800
*/

jQuery.cookie=function(name,value,options){if(typeof value!='undefined'){options=options||{};if(value===null){value='';options.expires=-1;}
var expires='';if(options.expires&&(typeof options.expires=='number'||options.expires.toUTCString)){var date;if(typeof options.expires=='number'){date=new Date();date.setTime(date.getTime()+(options.expires*24*60*60*1000));}else{date=options.expires;}
expires='; expires='+date.toUTCString();}
var path=options.path?'; path='+(options.path):'';var domain=options.domain?'; domain='+(options.domain):'';var secure=options.secure?'; secure':'';document.cookie=[name,'=',encodeURIComponent(value),expires,path,domain,secure].join('');}else{var cookieValue=null;if(document.cookie&&document.cookie!=''){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var cookie=jQuery.trim(cookies[i]);if(cookie.substring(0,name.length+1)==(name+'=')){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}
return cookieValue;}};

/** 
* @filepath: /abcdm/abccom/utils3.js
* @created: Wed, 27 Nov 13 17:23:27 -0800
*/

var abcdm=abcdm||{abccom:{Utils:{}}};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.Utils=abcdm.abccom.Utils||{};abcdm.abccom.Utils.closeOverlayCallback=abcdm.abccom.Utils.closeOverlayCallback||function(){};abcdm.abccom.Hook=abcdm.abccom.Hook||function(){};abcdm.abccom.debugLog=abcdm.abccom.debugLog||function(bug){return function(){};};abcdm.abccom.isMobile=false;abcdm.abccom.isIos=false;(function($){var utilsLog,browserOS;utilsLog=abcdm.abccom.debugLog('utils');abcdm.abccom.Utils.contentIdFix=function(str){if(typeof str==="string"){str=str.toLowerCase().replace(/[\!\@\#\$\%\^\&\*\(\)\-\_\+\=\:\;\"\'\,\.\?\/\\\[\{\]\}]/g,' ');str=$.trim(str);str=str.replace(/\s+/g,'-');return str;}};abcdm.abccom.Utils.proxytable={'http://abcpreview.go.com':'/media/registration/proxy.html','defaultproxy':'/html/util/proxyprod.html','http://qa.vp2.abc.go.com':'/html/util/proxy.html','http://preview.abc.go.com':'/html/util/proxypreview.html','http://preview.abcfamily.go.com':'/html/util/proxypreview.html','http://oscarpreview.go.com':'/html/util/proxypreview.html','https://oscarpreview.go.com':'/html/util/proxysecurepreview.html','https://oscar.go.com':'/html/util/proxysecureprod.html','https://preview.abc.go.com':'/html/util/proxysecurepreview.html','https://abc.go.com':'/html/util/proxysecureprod.html','http://www.saveabc7.com':'/2010/01/proxy_05.html','http://cdn.media.abc.go.com':'/shows/proxyprod.html','http://mb.abc.go.com':'/abc00sitez/html/util/proxyprod.html'};abcdm.abccom.Utils.getFlashVersion=function(){var version,v='';if(typeof deconcept!=='undefined'){v=deconcept.SWFObjectUtil.getPlayerVersion();if(document.getElementById&&v.major>0){version=v.major+'.'+v.minor+'.'+v.rev;}}else if(typeof UFO!=='undefined'){version=UFO.fv.join('.');}
return version;};abcdm.abccom.Utils.swidScrub=function(swid){if(swid&&typeof swid==='string'){swid=swid.match(/^\{[0-9A-F\-]+\}/)||[null];swid=swid[0]||null;}else{swid=null;}
return swid;};abcdm.abccom.Utils.getSwid=function(){return abcdm.abccom.Utils.swidScrub($.cookie('SWID'));};abcdm.abccom.Utils.getSluc=function(){if($.cookie('___sluc_')){return $.cookie('___sluc_');}
return'Unknown';};abcdm.abccom.Utils.BrowserDetect={mobileCheck:['iPod','iPhone','Android','webOS'],iosCheck:['iPod','iPhone','iPad'],tabletCheck:{"iPad":"iPad|iPad.*Mobile","NexusTablet":"^.*Android.*Nexus(?:(?!Mobile).)*$","Kindle":"Kindle|Silk.*Accelerated","SamsungTablet":"SAMSUNG.*Tablet|Galaxy.*Tab|GT-P1000|GT-P1010|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P1000|GT-P3100|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7300|GT-P7320|GT-P7500|GT-P7510|GT-P7511","HTCtablet":"HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200","NookTablet":"Android.*Nook|NookColor|nook browser|BNTV250A|LogicPD Zoom2","MotorolaTablet":"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617","BlackBerryTablet":"PlayBook|RIM Tablet","AsusTablet":"Transformer|TF101","AcerTablet":"Android.*\\b(A100|A101|A200|A500|A501|A510|W500|W500P|W501|W501P)\\b","YarvikTablet":"Android.*(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468)","MedionTablet":"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB","ArnovaTablet":"AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT","ArchosTablet":"Android.*ARCHOS|101G9|80G9","AinolTablet":"NOVO7|Novo7Aurora|Novo7Basic|NOVO7PALADIN","SonyTablet":"Sony Tablet|Sony Tablet S","AndroidTablet":"^.*Android(?:(?!Mobile).)*$","GenericTablet":"Tablet(?!.*PC)|ViewPad7|LG-V909|MID7015|BNTV250A|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|hp-tablet"},properties:{'Mobile':'Mobile/[VER]','Build':'Build/[VER]','Version':'Version/[VER]','VendorID':'VendorID/[VER]',"iPad":"iPad.*CPU[a-z\\s].*?([\\d]+)(?:[_])(\\d)",'iPhone':"iPhone.*CPU[a-z\\s].*?([\\d]+)(?:[_])(\\d)",'iPod':"iPod.*CPU[a-z\\s].*?([\\d]+)(?:[_])(\\d)",'Kindle':"Kindle\\W([\\d]+)(?:[.])(\\d)|Silk(?=[/])|Kindle",'Android':"Android\\W([\\d]+)(?:[.])(\\d)",'Windows Phone OS':'Windows Phone OS [VER]','Windows Phone':'Windows Phone [VER]'},init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS";},searchString:function(data){var i,dataString,dataProp;for(i=0;i<data.length;i++){dataString=data[i].string;dataProp=data[i].prop;this.versionSearchString=data[i].versionSearch||data[i].identity;this.altVersionSearchString=data[i].altVersionSearch||null;if(dataString){if(dataString.indexOf(data[i].subString)!==-1){return data[i].identity;}}else if(dataProp){return data[i].identity;}}},searchVersion:function(dataString){var index=dataString.indexOf(this.versionSearchString),wkVersion;if(index===-1){index=dataString.indexOf(this.altVersionSearchString);if(index===-1){return;}
wkVersion=parseFloat(dataString.substring(index+this.altVersionSearchString.length+1));if(wkVersion<100){return 1.0;}
if(wkVersion<300){return 1.2;}
if(wkVersion<400){return 1.3;}
if(wkVersion<500){return 2.0;}
return;}
return parseFloat(dataString.substring(index+this.versionSearchString.length+1));},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"CriOS",identity:"CriOS",versionSearch:"CriOS/"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.userAgent,subString:"Pre",identity:"Pre"},{string:navigator.userAgent,subString:"Pixi",identity:"Pixi"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version",altVersionSearch:"Safari"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Internet Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.userAgent,subString:"Silk",identity:"Silk"},{string:navigator.userAgent,subString:"Kindle",identity:"Kindle"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.userAgent,subString:"iPod",identity:"iPod"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.userAgent,subString:"webOS",identity:"webOS"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};abcdm.abccom.Utils.BrowserDetect.init();browserOS=abcdm.abccom.Utils.BrowserDetect.OS;utilsLog('browserOS '+browserOS);if(($.inArray(browserOS,abcdm.abccom.Utils.BrowserDetect.mobileCheck)>-1&&document.location.href.indexOf('fullsite=true')===-1)||document.location.href.indexOf('ios=true')>1){abcdm.abccom.isMobile=true;}
if($.inArray(browserOS,abcdm.abccom.Utils.BrowserDetect.iosCheck)>-1){abcdm.abccom.isIos=true;}
$.each(abcdm.abccom.Utils.BrowserDetect.tabletCheck,function(i,val){var re=new RegExp(val);if(re.test(navigator.userAgent)){abcdm.abccom.isTablet=true;return false;}});abcdm.abccom.Utils.overlaySizer=function(){var width=Math.max($(window).width(),$(document).width()-abcdm.abccom.Utils.scrollBar),height=Math.max($(window).height(),$(document).height());return[width,height];};abcdm.abccom.Utils.coverBox=function(event){if((event.data.coversrc!==null)&&(event.data.coversrc!=="")){var newcover=$(event.data.coversrc).appendTo($('#abc-iframe'));$('#abc-div-iframe div.overlaycover div.overlaycontents').height(event.data.oHeight-10).width(event.data.oWidth-10);$(newcover).show().siblings().slideUp(250);}
event.preventDefault();};abcdm.abccom.Utils.closeOverlay=function(){if($('#abc-div-iframe div.overlaycontainer').length>0){$('#abc-div-iframe div.overlaycontainer').appendTo('body');}
abcdm.abccom.Utils.postOverlay();$('#abc-div-iframe').remove();$('#abc-overlay').remove();abcdm.abccom.Utils.closeOverlayCallback();};abcdm.abccom.Utils.postOverlay=function(){};abcdm.abccom.Utils.onOverlayCreateError=function(){return false;};abcdm.abccom.Utils.createOverlay=function(overlayWidth,overlayHeight,overlaySource,autoresize,padding){var ovheight=overlayHeight,ovwidth=overlayWidth,subframename,newtop,newleft;padding=padding||0;abcdm.abccom.abcFrameHeight=ovheight;abcdm.abccom.abcFrameWidth=ovwidth;subframename='submitframe'+Math.floor(Math.random()*10000);abcdm.abccom.Hook('preOverlay');$(document.body).append('<div id="abc-overlay"></div><div id="abc-div-iframe"></div>');$('#abc-overlay').bind("placebox",function(e){newtop=Math.floor($(window).scrollTop()+($(window).height()-ovheight)/2);if(typeof abcdm.abccom.Utils.OverlayTopStart==='number'){newtop=Math.max(newtop,abcdm.abccom.Utils.OverlayTopStart);}
if(newtop<30){newtop=$(window).scrollTop()+30;}
newleft=Math.floor($(window).scrollLeft()+($(window).width()-ovwidth)/2);if(newleft<30){newleft=$(window).scrollLeft()+30;}
$('#abc-div-iframe').stop(true,true);$('#abc-overlay').css({'width':Math.max(abcdm.abccom.Utils.overlaySizer()[0],(ovwidth+50)),'height':Math.max(abcdm.abccom.Utils.overlaySizer()[1],(ovheight+padding+50))});$('#abc-div-iframe').animate({'width':ovwidth,'height':ovheight+padding,'left':newleft,'top':newtop});});$('#abc-overlay').bind("animatebox",function(e){$('#abc-div-iframe').stop(true,true);$('#abc-div-iframe').css({'width':'100px','height':'100px','left':$(window).width()/2,'top':$(window).height()/2}).animate({'width':ovwidth,'height':ovheight+padding,'left':newleft,'top':newtop});});$('#abc-overlay').bind("closebox",function(e){abcdm.abccom.Utils.closeOverlay();});$('#abc-overlay').bind("autoheight",function(e){ovheight=$('#abc-iframe div.overlaycontainer').height();$('#abc-div-iframe').height(ovheight+padding);$('#abc-iframe').height(ovheight);});$('#abc-overlay').bind("loadbox",function(e){if(overlaySource.substring(0,1)!=="#"){var oheight,owidth;$('#abc-div-iframe').html('<a href="#" class="close" id="abc-div-close">Close</a><iframe name="'+subframename+'" id="abc-iframe" width="'+overlayWidth+'" height="'+overlayHeight+'" src="" frameborder="0" scrolling="no" style="background: transparent; visibility: visible !important; visibility: visible" allowtransparency="true"></iframe>');$('#abc-iframe').attr('src',overlaySource).load(function(){if(autoresize){$('#abc-iframe').height(ovheight+padding);$('#messageQueue').unbind('resizeOverlay');$('#messageQueue').bind('resizeOverlay',function(e,data){if((typeof data.height==="string")&&(typeof data.width==="string")){oheight=parseInt(data.height,10);owidth=parseInt(data.width,10);if(($('#abc-iframe').height()<oheight)||($('#abc-iframe').width()!==owidth)||($('#abc-div-iframe').height()<oheight)||($('#abc-div-iframe').width()<owidth)){if((oheight>0)&&(owidth>0)){if($('#abc-iframe').height()<oheight){$('#abc-div-iframe').height(oheight+273);$('#abc-iframe').height(oheight+273);}
$('#abc-div-iframe, #abc-iframe').height(oheight).width(owidth);$('#abc-div-close').css('left',(owidth-15)+'px');ovwidth=owidth;ovheight=oheight;$('#abc-overlay').trigger("placebox");}}}});}});}else{$('#abc-div-iframe').html('<a href="#" class="close" id="abc-div-close">Close</a><div id="abc-iframe" style="width:'+overlayWidth+'px;height:'+overlayHeight+'px;"></div>');$(overlaySource).appendTo('#abc-iframe').show().siblings().hide();$('#abc-overlay').trigger("autoheight");}
$("#abc-div-close").click(function(e){if(e){e.preventDefault();}
$('#abc-overlay').trigger("closebox");});});$('#abc-overlay').fadeTo(200,0.8,function(){$('#abc-overlay').trigger("placebox").trigger("animatebox").trigger("loadbox").trigger("placebox");});$(window).resize(function(){$('#abc-overlay').trigger("placebox");});function forceOverlayRefresh(){$('#abc-overlay').css('opacity',(+$('#abc-overlay').css('opacity'))+0.00001);}
setTimeout(forceOverlayRefresh,210);};abcdm.abccom.Utils.IframeHelper=function(helperdest,helperID){var dm,messenger;dm=location.protocol+'//'+location.host;if(helperdest.indexOf('?')>0){helperdest=helperdest+'&dm='+dm;}else{helperdest=helperdest+'?dm='+dm;}
messenger=$('<iframe id="'+helperID+'" name="'+helperID+'" src="'+helperdest+'" width="1" height="1" style="display:none"></iframe>');$(document.body).append(messenger);};abcdm.abccom.Utils.getUserByCookies=function(){var swid,blue,red,usercookie,cookiearray,username;usercookie=$.cookie('__uc');cookiearray=abcdm.abccom.Utils.paramStringToObject(usercookie);if(cookiearray&&typeof cookiearray==='object'&&typeof cookiearray.u==='string'){username=cookiearray.u.replace('+',' ');}
if(username&&username.indexOf('@')!==-1){username=username.substring(0,username.indexOf('@'));}
if(location.host.indexOf('go.com')>0){swid=abcdm.abccom.Utils.getSwid();blue=$.cookie('BLUE');red=$.cookie('RED');return swid&&blue&&red&&username?username:'';}
return username||'';};abcdm.abccom.Utils.getFirstLastName=function(){var result,usercookie,cookiearray,firstlastname=",";usercookie=$.cookie('__uc');cookiearray=abcdm.abccom.Utils.paramStringToObject(usercookie);if(cookiearray&&typeof cookiearray==='object'&&typeof cookiearray.f==='string'){firstlastname=decodeURIComponent(cookiearray.f);}
return firstlastname.split(',');};abcdm.abccom.Utils.getAge=function(){var result,usercookie,cookiearray,age='';usercookie=$.cookie('__rtc');cookiearray=abcdm.abccom.Utils.paramStringToObject(usercookie);if(cookiearray&&typeof cookiearray==='object'&&typeof cookiearray.a==='string'){age=decodeURIComponent(cookiearray.a);}
return age;};abcdm.abccom.Utils.getVarA=function(){if(typeof abcdm.abccom.Utils.getAge==='function'){return abcdm.abccom.Utils.getAge();}};abcdm.abccom.Utils.getGender=function(){var result,usercookie,cookiearray,gender='';usercookie=$.cookie('__rtc');cookiearray=abcdm.abccom.Utils.paramStringToObject(usercookie);if(cookiearray&&typeof cookiearray==='object'&&typeof cookiearray.g==='string'){gender=decodeURIComponent(cookiearray.g)||null;if(gender.length>0){gender=(gender.toLowerCase()==='f')?'female':'male';}}
return gender;};abcdm.abccom.Utils.getVarG=function(){if(typeof abcdm.abccom.Utils.getGender==='function'){return abcdm.abccom.Utils.getGender();}};abcdm.abccom.Utils.clearUserCookies=function(){var userCookies=['BLUE','RED','GREEN','SWID','__uc','LOGIN','PHPSESSID','__rtc'];$.each(userCookies,function(){$.cookie(this,null,{'path':'/','domain':'go.com'});});};abcdm.abccom.Utils.paramStringToObject=function(pstring){var parray,tarray,arrayout=[];arrayout={};if(typeof pstring==="string"){parray=pstring.split('&');$.each(parray,function(item){if(typeof parray[item]==='string'){tarray=parray[item].split('=',2);if(typeof tarray==='object'&&tarray.length>1){arrayout[tarray[0]]=tarray[1];}}});}
return arrayout;};abcdm.abccom.Utils.userCookiesSync=function(callback){var url='https://ww2.abc.go.com/service/regapi/user-cookies';abcdm.abccom.Utils.getJSONP(url,function(response){if(typeof response.data!=='undefined'){jQuery.each(response.data,function(i,j){if(typeof j==='string'&&j!==''){jQuery.cookie(i,j);}});}
if(jQuery.isFunction(callback)){callback();}});};abcdm.abccom.Utils.userVerified=function(){var socialLogged,emailVerified,usercookie,cookiearray,verified;usercookie=$.cookie('__uc');cookiearray=abcdm.abccom.Utils.paramStringToObject(usercookie);verified=false;if(cookiearray&&typeof cookiearray==='object'&&typeof cookiearray.v==='string'){verified=Boolean(cookiearray.v);}
return verified;};abcdm.abccom.Utils.userStale=function(){var now,tDiff,cTime,usercookie,cookiearray,verified,stale=true;usercookie=$.cookie('__uc');cookiearray=abcdm.abccom.Utils.paramStringToObject(usercookie);if(cookiearray&&typeof cookiearray==='object'&&typeof cookiearray.l==='string'){now=new Date().getTime();cTime=cookiearray.l+'000';tDiff=now-cTime;if(tDiff>0&&tDiff<600000){utilsLog('fresh cookie');stale=false;}else{utilsLog('stale cookie');}}
return stale;};abcdm.abccom.Utils.userCheck=function(type){var swid,blue,usercookie,cookiearray,utype,loggedInRegX,loggedIn;usercookie=$.cookie('__uc');utype='loggedout';cookiearray=abcdm.abccom.Utils.paramStringToObject(usercookie);if(cookiearray&&typeof cookiearray==='object'&&typeof cookiearray.t==='string'){utype=cookiearray.t;}
if(location.host.indexOf('go.com')>0){swid=abcdm.abccom.Utils.getSwid();blue=$.cookie('BLUE');loggedInRegX=new RegExp(/^\{.*\}/);loggedIn=loggedInRegX.test(swid)===true||$.cookie('__g');if(!(loggedIn&&blue)){return'loggedout';}}
if(utype==='loggedout'){return utype;}
if(abcdm.abccom.Register.regtypes[type]&&abcdm.abccom.Register.regtypes[type].level){if(abcdm.abccom.Register.regtypes[utype]&&abcdm.abccom.Register.regtypes[utype].level){if(abcdm.abccom.Register.regtypes[utype].level>=abcdm.abccom.Register.regtypes[type].level){return true;}
return false;}}
return false;};abcdm.abccom.Utils.globalCallback=function(){};abcdm.abccom.Utils.dlObject=function(object){var returnstring='<dl>';$.each(object,function(k,v){if(typeof v==='string'){returnstring+='<dt>'+k+':</dt><dd>'+v+'</dd>';}else if(typeof v==='object'){returnstring+='<dt>'+k+":</dt><dd>(object)"+abcdm.abccom.Utils.dlObject(v)+'</dd>';}});return returnstring+'</dl>';};abcdm.abccom.Utils.hasToken=function(token){var tokens,retVal=false,usercookie=$.cookie('__uc'),cookiearray=abcdm.abccom.Utils.paramStringToObject(usercookie);if(cookiearray&&typeof cookiearray==='object'&&typeof cookiearray.s==='string'){tokens=decodeURIComponent(cookiearray.s).split('|');$.each(tokens,function(i,v){if(v===token){retVal=true;return false;}});}
return retVal;};abcdm.abccom.Utils.touPathCheck=function(pathname,hostname,protocol){var retVal=true;pathname=pathname||location.pathname;pathname=pathname.toLowerCase();hostname=hostname||location.hostname;hostname=hostname.toLowerCase();protocol=protocol||location.protocol;protocol=protocol.toLowerCase();hostname=protocol+'//'+hostname;if(typeof abcdm.abccom.Register.path==='object'){$.each(abcdm.abccom.Register.path,function(path){if(pathname.indexOf(path)!==-1&&typeof abcdm.abccom.Register.path[path]==='object'){if(typeof abcdm.abccom.Register.path[path].host==='undefined'||(typeof abcdm.abccom.Register.path[path].host==='string'&&abcdm.abccom.Register.path[path].host===hostname)){if(typeof abcdm.abccom.Register.path[path].tou[0]==='object'){$.each(abcdm.abccom.Register.path[path].tou,function(index){if(typeof abcdm.abccom.Register.path[path].tou[index]==='object'&&typeof abcdm.abccom.Register.path[path].tou[index].id==='string'&&abcdm.abccom.Utils.hasToken(abcdm.abccom.Register.path[path].tou[index].id)===false){retVal=false;return false;}});}else{if(typeof abcdm.abccom.Register.path[path].tou.id==='string'&&abcdm.abccom.Utils.hasToken(abcdm.abccom.Register.path[path].tou.id)===false){retVal=false;return false;}}}}});}
return retVal;};abcdm.abccom.Utils.addBodyClass=function(classname){if(!classname){return;}
$('body').addClass(classname);};abcdm.abccom.Utils.removeBodyClass=function(classname){if(!classname){return;}
$('body').removeClass(classname);};abcdm.abccom.Utils.formatUrlForJSONP=function(url){if(typeof url!=='string'){return'';}
var jsonpQuerystring='format=jsonp&jsonpcallback=?';return url.indexOf(jsonpQuerystring)!==-1?url:url.indexOf('?')!==-1?url+'&'+jsonpQuerystring:url+'?'+jsonpQuerystring;};abcdm.abccom.Utils.getJSONP=function(url,data,callback){return jQuery.getJSON(abcdm.abccom.Utils.formatUrlForJSONP(url),data,callback);};abcdm.abccom.Utils.convertHexToRgb=function(hex){var color,r,g,b,cuthex;color=hex.css('color')||'rgb(255,255,255)';if(color){if(/rgb/.test(color)){color=color.replace(/rgb\(|\)/g,'').split(/,[ ]{0,}/);}else{cuthex=(color.charAt(0)==="#")?color.substring(1,7):color;r=parseInt(cuthex.substring(0,2),16);g=parseInt(cuthex.substring(2,4),16);b=parseInt(cuthex.substring(4,6),16);color=[r,g,b];}
return color;}};abcdm.abccom.Utils.getDevicePlatform=abcdm.abccom.Utils.BrowserDetect.OS.toLowerCase();abcdm.abccom.Utils.getDeviceType=function(){var output='';if(abcdm.abccom.isTablet){output='tablet';}else if(abcdm.abccom.isMobile&&output===''){output='mobile';}else if(output===''){output='web';}
return output;};$(document).ready(function(){var div,w1,w2,ver,bounceInterval=350,rTimer=0,bouncedResize,aVer;div=$('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');$('body').append(div);w1=$('div',div).innerWidth();div.css('overflow-y','scroll');w2=$('div',div).innerWidth();$(div).remove();abcdm.abccom.Utils.scrollBar=w1-w2;if($.browser.msie){try{ver=parseInt($.browser.version,10);if(ver<8){$('body').addClass('ie ie'+ver);}else{$('body').addClass('ie ie'+document.documentMode);}}catch(e){}}
switch(browserOS){case"Kindle":aVer=navigator.userAgent.match(abcdm.abccom.Utils.BrowserDetect.properties.Kindle);if(aVer){$('body').addClass('Kindle');}
aVer=navigator.userAgent.match(abcdm.abccom.Utils.BrowserDetect.properties.Android);if(aVer&&aVer[1]){$('body').addClass('Android');$('body').addClass('Android'+aVer[1]);}
break;case"Android":aVer=navigator.userAgent.match(abcdm.abccom.Utils.BrowserDetect.properties.Android);if(aVer&&aVer[1]){$('body').addClass('Android'+aVer[1]);}
break;case"iPhone":aVer=navigator.userAgent.match(abcdm.abccom.Utils.BrowserDetect.properties.iPhone);if(aVer&&aVer[1]){$('body').addClass('iPhone'+aVer[1]);}
break;case"iPad":aVer=navigator.userAgent.match(abcdm.abccom.Utils.BrowserDetect.properties.iPad);if(aVer&&aVer[1]){$('body').addClass('iPad'+aVer[1]);}
break;case"iPod":aVer=navigator.userAgent.match(abcdm.abccom.Utils.BrowserDetect.properties.iPod);if(aVer&&aVer[1]){$('body').addClass('iPod'+aVer[1]);}
break;}
if(abcdm.abccom.isMobile){$('html, body').addClass('mobile');}else{$('html, body').addClass('notMobile');}
if(abcdm.abccom.isIos){$('html, body').addClass('iosDevice');}
$('html, body').addClass(browserOS);bouncedResize=function(){if(rTimer){clearTimeout(rTimer);}
rTimer=setTimeout(function(){abcdm.abccom.Hook('windowResize');},bounceInterval);};$(window).resize(bouncedResize);});}(jQuery));

/** 
* @filepath: /register/olay.js
* @created: Wed, 27 Nov 13 17:23:27 -0800
*/

var abcdm=abcdm||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.Utils=abcdm.abccom.Utils||{};abcdm.abccom.Hook=abcdm.abccom.Hook||function(){};abcdm.abccom.debugLog=abcdm.abccom.debugLog||function(bug){return function(){};};abcdm.abccom.Register=abcdm.abccom.Register||{};abcdm.abccom.Register.conf=abcdm.abccom.Register.conf||{};abcdm.abccom.Register.conf.appId=abcdm.abccom.Register.conf.appId||'abccom';(function($){var dlog=abcdm.abccom.debugLog('ole2');abcdm.abccom.Overlay=function(opts){var $overlay=$('<div id="ABCoverlayShadow"></div>'),$overlay2=$('<div id="ABCoverlay"></div>'),subframename='submitframe'+Math.floor(Math.random()*10000),resizeOlay=function(){dlog('resizing Ole');$('#ABCoverlayShadow, .iPad #ABCoverlay,  .Silk #ABCoverlay, .Kindle #ABCoverlay').css({'width':abcdm.abccom.Utils.overlaySizer()[0],'height':Math.max(abcdm.abccom.Utils.overlaySizer()[1],2000)});},closeOlay=function(e){abcdm.abccom.Hook('olayEnd');$('#ABCoverlay, #ABCoverlayShadow').remove();},options,defaults={'action':'open','src':$('<div></div>'),'container':$('body, .ui-page').last(),'closeClass':abcdm.abccom.Register.conf.appId},content;if(typeof opts==="string"){opts={'action':opts};}
options=$.extend({},defaults,opts);dlog(options);if(options.action==="close"){closeOlay();return;}
if((typeof options.src==='string'&&(options.src.indexOf('http')===0||options.src.indexOf('/')===1))||((typeof options.src==='string')&&$(options.src).length===0)){content=$('<div class="overContent"><span id="ABCCoverlayClose" class="'+options.closeClass+'"><span>&times;</span></span><iframe src="'+options.src+'" name="'+subframename+'" id="abc-iframe" frameborder="0" scrolling="no" height="2000" width="100%" allowtransparency="true" /></div>');}else if((typeof options.src==='string')&&($(options.src).length>0)){content=$(options.src);}else if(typeof options.src==='object'&&options.src.html&&$(options.src.html()).length>0){content=options.src;}else{dlog('content not found');dlog(options);return;}
dlog(content);if(content){$('#ABCoverlay, #ABCoverlayShadow').remove();options.container.append($overlay);options.container.append($overlay2);abcdm.abccom.Hook('preOverlay');resizeOlay();abcdm.abccom.Hook('windowResize',{'hName':'olayReSz','hook':resizeOlay});if(options.narrow){$overlay2.addClass('narrow');}
$overlay2.append(content);$('#messageQueue').unbind('resizeOlay');$('#messageQueue').bind('resizeOlay',function(e,data){if(data&&data.narrow){dlog(data);$overlay2.addClass('narrow');}else{$overlay2.removeClass('narrow');}
$.scrollTo('#abc-iframe',{axis:'y'});});content.css({'min-height':options.container.height(),'margin-top':$(window).scrollTop()});$('#ABCCoverlayClose span').click(function(e){e.preventDefault();e.stopPropagation();closeOlay(e);});}else{dlog('no content to display');}};$(document).ready(function(){});}(jQuery));

/** 
* @filepath: /community/social-link/social-link.js
* @created: Wed, 27 Nov 13 17:23:28 -0800
*/

var abcdm=abcdm||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.SocialLink=abcdm.abccom.SocialLink||{};abcdm.abccom.SocialLink.donateStatus=abcdm.abccom.SocialLink.donateStatus||{};abcdm.abccom.SocialLink.syndicate=abcdm.abccom.SocialLink.syndicate||{};abcdm.abccom.Register=abcdm.abccom.Register||{};abcdm.abccom.Register.conf=abcdm.abccom.Register.conf||{};abcdm.abccom.Hook=abcdm.abccom.Hook||function(){};abcdm.abccom.debugLog=abcdm.abccom.debugLog||function(bug){return function(){};};(function($){var SOCIALLINK_ONLY=false,enabledProviders=['facebook','myspace','twitter'],loginUrl='/service/sociallink/login',mapUrl='/service/sociallink/map',synchUrl='/service/sociallink/synch',emailUrl='/service/sociallink/email',cdnLoginUrl='https://ww2.abc.go.com'+'/service/sociallink/cdnlogin',cloudLoginUrl='http://vote-e.abc.go.com/service/sociallinkcloud/cloudlogin',socialLinkUserCookie='___sluc_',processLogin,register,validateEmail,buildInputMarkup,updateCookie,fixPath,debugLog=abcdm.abccom.debugLog('sociallink');if(top!==self){loginUrl='https://ww2.abc.go.com'+loginUrl;mapUrl='https://ww2.abc.go.com'+mapUrl;synchUrl='https://ww2.abc.go.com'+synchUrl;emailUrl='https://ww2.abc.go.com'+emailUrl;}
abcdm.abccom.SocialLink.conf={'enabledProviders':enabledProviders.join(',')};abcdm.abccom.SocialLink.regConf={'type':'sdlt','onLogin':false,'onConnect':false};abcdm.abccom.SocialLink.authConf={};abcdm.abccom.SocialLink.authInit=function(options){debugLog('auth init');var params;options=options||{};if(options.abcUser){if(top===self&&!abcdm.abccom.SocialLink.isLoggedIn()&&options.pageLoad!==true){abcdm.abccom.SocialLink.logout();}}else{if(top===self&&abcdm.abccom.SocialLink.isLoggedIn()){abcdm.abccom.SocialLink.logout();}}
if(options.pageLoad){params={'onLogin':abcdm.abccom.SocialLink.onLoginCb,'onConnect':abcdm.abccom.SocialLink.onConnectCb,'context':{'iframe':top!==self}};gigya.services.socialize.addEventHandlers(abcdm.abccom.SocialLink.conf,params);}};abcdm.abccom.SocialLink.isLoggedIn=function(provider){var cookieJar;if(provider){if(abcdm.abccom.SocialLink.isProvider(provider)){cookieJar=$.cookie(socialLinkUserCookie)?$.cookie(socialLinkUserCookie).split(';'):[];return $.inArray(provider,cookieJar)!==-1;}}else{cookieJar=$.cookie(socialLinkUserCookie)?$.cookie(socialLinkUserCookie).split(';'):[];return cookieJar.length!==0;}
return false;};abcdm.abccom.SocialLink.login=function(provider,options){debugLog('login via '+provider);var params;options=options||{};params={'context':options};if(options.cid){params.cid=options.cid;}
if(provider&&abcdm.abccom.SocialLink.isProvider(provider)){params.provider=provider;if(typeof abcdm.abccom.Utils.getUserByCookies==='function'&&abcdm.abccom.Utils.getUserByCookies()&&abcdm.abccom.SocialLink.isLoggedIn()!==false){params.callback=abcdm.abccom.SocialLink.connectCb;debugLog('gigya connect with param');gigya.services.socialize.addConnection(abcdm.abccom.SocialLink.conf,params);}else{params.callback=abcdm.abccom.SocialLink.loginCb;debugLog('gigya login with param');debugLog(params);gigya.services.socialize.login(abcdm.abccom.SocialLink.conf,params);}}};abcdm.abccom.SocialLink.loginCb=function(response){debugLog('login callback - response');if($.isFunction(abcdm.abccom.Utils.getUserByCookies)&&abcdm.abccom.Utils.getUserByCookies()){debugLog('login callback forward to connect');abcdm.abccom.SocialLink.connectCb(response);}else{abcdm.abccom.Hook('loginInit');if(typeof response['user']!='undefined'){var user=response['user'],context=response['context'],iframe=top!==self,ts,ifhId,data,ajaxLoginUrl;if(user.loginProvider){if(iframe!==true){updateCookie(user.loginProvider);}else{try{readyMsg={'trigger':'updateCookie','params':{'provider':user.loginProvider}};abcdm.abccom.Utils.sendMessage(readyMsg,$('#abc-div-proxy-dm').attr('title'));}
catch(e){}}}
if(context.regReq!==false){if(iframe!==true&&typeof abcdm.abccom.Utils.IframeHelper==='function'){ts=Math.round(new Date().getTime()/1000);ifhId='iframehelper_'+ts;abcdm.abccom.Utils.MessageQueueInit();$('#messageQueue').bind('loginResponse',function(e,data){if(data.response&&data.response!=='false'){processLogin(user,context);}
else{register(user,context);}});data={'a':response.UID,'t':response.timestamp,'s':response.signature};data=$.extend(data,abcdm.abccom.Register.conf);if(typeof data.appId!=='undefined'){data.applicationid=data.appId;delete data.appId;}
abcdm.abccom.Utils.IframeHelper(cdnLoginUrl+'?'+$.param(data),ifhId);}else{data={'a':response.UID,'t':response.timestamp,'s':response.signature};data=$.extend(data,abcdm.abccom.Register.conf);ajaxLoginUrl=loginUrl;if(typeof data.appId!=='undefined'){ajaxLoginUrl+='?applicationid='+data.appId;}
if(SOCIALLINK_ONLY){abcdm.abccom.Utils.getJSONP(cdnLoginUrl,data,function(loginResponse){if(loginResponse.response&&loginResponse.response!=='false'){abcdm.abccom.Register.processLogin();}});}else{$.ajax({type:"POST",url:ajaxLoginUrl,data:data,success:function(loginResponse){if(loginResponse.response&&loginResponse.response!=='false'){processLogin(user,context);}else{register(user,context);}},dataType:'json',async:false});}}}else{if(typeof context.callback==='function'){context.callback();}}}}};abcdm.abccom.SocialLink.onLoginCb=function(response){};processLogin=function(user,context){debugLog('process login');var iframe=top!==self,params;if(iframe===true&&typeof abcdm.abccom.Register.processLogin==='function'){abcdm.abccom.Register.processLogin();}else{params={'loginProvider':user.loginProvider};if(typeof abcdm.abccom.SocialLink.regConf.onLogin==='function'){abcdm.abccom.SocialLink.regConf.onLogin();}
if(typeof abcdm.abccom.Utils.globalCallback==='function'){abcdm.abccom.Utils.globalCallback();}
if(typeof context.callback==='function'){context.callback();}
abcdm.abccom.Hook('loginComplete');}};abcdm.abccom.SocialLink.bypass=function(){debugLog('bypass');if(abcdm.abccom.Utils.userCheck!=='loggedout'){abcdm.abccom.SocialLink.getUser({'callback':abcdm.abccom.SocialLink.bypassCb});}};abcdm.abccom.SocialLink.bypassCb=function(response){debugLog('bypass cb');response=response||{};var user=response.user,context=response.context,data,ajaxLoginUrl,obj={};data={'a':response.UID,'t':response.timestamp,'s':response.signature};data=$.extend(data,abcdm.abccom.Register.conf);ajaxLoginUrl=loginUrl;if(typeof data.appId!=='undefined'){ajaxLoginUrl+='?applicationid='+data.appId;}
$.post(ajaxLoginUrl,data,function(loginResponse){if(loginResponse&&loginResponse.response&&loginResponse.response!=='false'&&user&&context){processLogin(user,context);}else if(user&&context){register(user,context);}
obj.provider=user.loginProvider||null;abcdm.abccom.Hook('SocialBypass',{'args':obj});},'json');};register=function(user,context){debugLog('register');var params={'loginProvider':user.loginProvider,'user':{'altid':user.UID,'firstname':user.firstName,'lastname':user.lastName,'birthday-month':user.birthMonth,'birthday-day':user.birthDay,'birthday-year':user.birthYear,'gender':user.gender?(user.gender).toUpperCase():'','zip':user.zip,'username':user.nickname}},iframe=top!==self,redirect,registrationLink,href,readyMsg;if(user.loginProvider==='facebook'){params.user={'altid':user.UID};}
if(iframe===true){redirect='/service/register/register/type/'+abcdm.abccom.SocialLink.regConf.type;registrationLink=$('#registerLink');if(registrationLink.length!==0){href=registrationLink.attr('href');if(href.length!==0){redirect=href;}}
redirect+=redirect.indexOf('?')?'&':'?';redirect+='loginProvider='+user.loginProvider;try{readyMsg={'trigger':'childFrameRedirect','params':params.user};abcdm.abccom.Utils.sendMessage(readyMsg,$('#abc-div-proxy-dm').attr('title'));}
catch(e){}
$('#messageQueue').bind('childFrameRedirectGo',function(e,data){window.location=redirect;});}else if(typeof abcdm.abccom.Register.init==='function'){params.action='register';if(typeof abcdm.abccom.SocialLink.loginCbCallback==='function'){params.callback=abcdm.abccom.SocialLink.loginCbCallback;abcdm.abccom.SocialLink.loginCbCallback=false;}
if(typeof context.callback==='function'){params.callback=context.callback;}
abcdm.abccom.Register.init(abcdm.abccom.SocialLink.regConf.type,params);}};abcdm.abccom.SocialLink.connectCb=function(response){debugLog('connect callback - response');if(response&&response.user){abcdm.abccom.Hook('loginInit');var user=response.user,context=response.context,cookieJar=$.cookie(socialLinkUserCookie)?$.cookie(socialLinkUserCookie).split(';'):[];if(cookieJar.length===0){abcdm.abccom.SocialLink.map(user.UID);}
abcdm.abccom.SocialLink.synch(user.UID);if(user.providers&&$.isArray(user.providers)){updateCookie(user.providers);}else if(user.loginProvider){updateCookie(user.loginProvider);}
if(typeof abcdm.abccom.SocialLink.regConf.onConnect==='function'){abcdm.abccom.SocialLink.regConf.onConnect();}
if(typeof abcdm.abccom.Utils.globalCallback==='function'){abcdm.abccom.Utils.globalCallback();}
if(typeof context.callback==='function'){context.callback();}
usercookie=$.cookie('__uc');if(usercookie){cookies=abcdm.abccom.Utils.paramStringToObject(usercookie);cookies.v=2;cookies.s=unescape(cookies.s);$.cookie('__uc',$.param(cookies),{'path':'/','domain':'go.com'});}
if(typeof abcdm.abccom.Register.processLogin==='function'){abcdm.abccom.Register.processLogin();}else{debugLog('no process login');abcdm.abccom.Hook('loginBypassComplete');}}};abcdm.abccom.SocialLink.onConnectCb=function(response){debugLog('on connect cb - response');abcdm.abccom.Hook('hSlinkConnectSuccess',{'args':response});};abcdm.abccom.SocialLink.logout=function(options){debugLog('logout');options=options||{};var params={'callback':abcdm.abccom.SocialLink.logoutCb,'context':options};gigya.services.socialize.logout(abcdm.abccom.SocialLink.conf,params);};abcdm.abccom.SocialLink.logoutCb=function(response){debugLog('logout callback');if(response.status==='OK'){$.cookie(socialLinkUserCookie,null,{path:'/'});if(response.context.logoutUrl){location.href=response.context.logoutUrl;}}else{}};abcdm.abccom.SocialLink.disconnect=function(options){debugLog('disconnect');options=options||{};gigya.services.socialize.disconnect(abcdm.abccom.SocialLink.conf,options);};abcdm.abccom.SocialLink.disconnectCb=function(response){debugLog('disconnect callback');if(response.status==='OK'){if(response.context.logoutUrl){location.href=response.context.logoutUrl;}}else{}};abcdm.abccom.SocialLink.getFriends=function(options){debugLog('getfriends');var params={},conf;options=options||{};conf=abcdm.abccom.SocialLink.conf;if(options.providers){params.enabledProviders=options.providers;}
if(options.detailLevel){params.detailLevel=options.detailLevel;}
if(options.friends){params.friends=options.friends;}
if(options.UIDs){params.UIDs=options.UIDs;}
if(options.callback){params.callback=options.callback;}
if(options.context){params.context=options.context;}
gigya.services.socialize.getFriendsInfo(conf,params);};abcdm.abccom.SocialLink.getSession=function(provider,options){debugLog('get session');var params={'provider':provider};options=options||{};if(options.callback){params.callback=options.callback;}
if(options.context){params.context=options.context;}
if(options.paddingMode){params.paddingMode=options.paddingMode;}
gigya.services.socialize.getSessionInfo(abcdm.abccom.SocialLink.conf,params);};abcdm.abccom.SocialLink.getUser=function(options){debugLog('get user');var params={};options=options||{};if(options.callback){params.callback=options.callback;}
if(options.context){params.context=options.context;}
debugLog('SocialLink.getUser');debugLog(abcdm.abccom.SocialLink.conf);gigya.services.socialize.getUserInfo(abcdm.abccom.SocialLink.conf,params);};abcdm.abccom.SocialLink.sendNotification=function(recipients,body,subject,options){debugLog('send notification');var params={'recipients':recipients,'body':body,'subject':subject};options=options||{};if(options.callback){params.callback=options.callback;}
if(options.context){params.context=options.context;}
gigya.services.socialize.sendNotification(abcdm.abccom.SocialLink.conf,params);};abcdm.abccom.SocialLink.setStatus=function(status,options){debugLog('set status');var params,conf;if(status){params={'status':status};options=options||{};conf=abcdm.abccom.SocialLink.conf;if(options.providers){params.enabledProviders=options.providers;}
if(options.callback){params.callback=options.callback;}
if(options.cid){params.cid=options.cid;}
if(options.shortURLs){params.shortURLs=options.shortURLs;}
if(options.context){params.context=options.context;}
gigya.services.socialize.setStatus(conf,params);}};abcdm.abccom.SocialLink.publishUserAction=function(userAction,options){debugLog('publish action');var params,conf;if(typeof userAction==='object'){params={'userAction':userAction};options=options||{};conf=abcdm.abccom.SocialLink.conf;if(options.providers){params.enabledProviders=options.providers;}
if(options.callback){params.callback=options.callback;}
if(options.cid){params.cid=options.cid;}
if(options.shortURLs){params.shortURLs=options.shortURLs;}
if(options.context){params.context=options.context;}
gigya.services.socialize.publishUserAction(conf,params);}};abcdm.abccom.SocialLink.map=function(id){debugLog('map');var data={'altid':id};data=$.extend(data,abcdm.abccom.Register.conf);if(data.altid){jQuery.post(mapUrl,data,function(response){});}};abcdm.abccom.SocialLink.unmap=function(){};abcdm.abccom.SocialLink.synch=function(id){debugLog('synch with altid'+id);var data={'altid':id};data=$.extend(data,abcdm.abccom.Register.conf);if(data.altid){jQuery.post(synchUrl,data,function(response){debugLog('synch service returns response');debugLog(response);});}};abcdm.abccom.SocialLink.sendLoginResponse=function(params,dm){debugLog('send login response');var message;params=params||{};try{message={'trigger':'loginResponse','params':params};abcdm.abccom.Utils.sendMessage(message,dm);}catch(e){}};abcdm.abccom.SocialLink.isProvider=function(provider){return $.inArray(provider,enabledProviders)!==-1;};abcdm.abccom.SocialLink.donateStatus.init=function(provider,options){debugLog('donate status init');options=options||{};options.context=options.context||{};abcdm.abccom.Hook('donateStatusFormInit(',{"args":{'provider':provider,'context':options.context}});if(typeof abcdm.abccom.Utils.createOverlay==='function'&&$('#donateStatusOverlay').length!==0){abcdm.abccom.Utils.createOverlay(370,270,'#donateStatusOverlay',true);$.each(enabledProviders,function(key,value){$('#donateStatusOverlay').removeClass(value);});$('#donateStatusOverlay').addClass(provider);$('#donateStatusSubmitBtn').attr('class','').val('ok');$('#donateStatusMsgTextarea').attr('disabled','');$('#donateStatusSubmitBtn').unbind('click');$('#donateStatusSubmitBtn').click(function(e){if(e){e.preventDefault();}
abcdm.abccom.Hook('donateStatusFormSubmit',{"args":{'provider':provider,'context':options.context}});abcdm.abccom.SocialLink.donateStatus.donate(provider,$('#donateStatusMsgTextarea').val(),options.context);return false;});$("#donateStatusCancelBtn").show();$('#donateStatusCancelBtn').unbind('click');$("#donateStatusCancelBtn").click(function(e){if(e){e.preventDefault();}
$('#abc-overlay').trigger("closebox");});abcdm.abccom.Hook('donateStatusFormLoaded',{"args":{'provider':provider,'context':options.context}});}};abcdm.abccom.SocialLink.donateStatus.donate=function(provider,status,uiContext){debugLog('donate status donate');if(abcdm.abccom.SocialLink.isProvider(provider)&&status.length!==0){var params;if(abcdm.abccom.SocialLink.isLoggedIn(provider)){$('#donateStatusMsgTextarea').attr('disabled','disabled');$('#donateStatusSubmitBtn').attr('class','donateStatusPostingBtn').val('posting');$("#donateStatusCancelBtn").hide();$('#donateStatusSubmitBtn').unbind('click');params={'providers':provider,'callback':abcdm.abccom.SocialLink.donateStatus.donateCB,'context':{'provider':provider,'status':status,'uiContext':uiContext}};abcdm.abccom.SocialLink.setStatus(status,params);}else{params={'status':'NOT_SUPPORTED','context':{'provider':provider,'status':status,'uiContext':uiContext}};abcdm.abccom.SocialLink.donateStatus.donateCB(params);}}};abcdm.abccom.SocialLink.donateStatus.donateCB=function(response){debugLog('donate status callback');var context=response.context,params;if(response.status==='OK'){abcdm.abccom.Hook('donateStatusSuccess(',{"args":{'provider':context.provider,'context':context.uiContext}});$('#donateStatusSubmitBtn').attr('class','donateStatusCloseBtn').val('close');$('#donateStatusSubmitBtn').unbind('click');$('#donateStatusSubmitBtn').click(function(e){if(e){e.preventDefault();}
$('#abc-overlay').trigger("closebox");});}else if(response.status==='NOT_SUPPORTED'){$('#donateStatusSubmitBtn').attr('class','').val('ok');$('#donateStatusMsgTextarea').attr('disabled','');$("#donateStatusCancelBtn").show();if(context.provider&&context.status){params={'callback':function(){abcdm.abccom.SocialLink.donateStatus.donate(context.provider,context.status);}};abcdm.abccom.SocialLink.login(response.context.provider,params);}}else{}};abcdm.abccom.SocialLink.syndicate.status=function(provider,options){debugLog('syndicate status');debugLog(options);options=options||{};options.syndicate=options.syndicate||{};options.register=options.register||{};options.context=options.context||{};var syndicateOverlayHtml='',title=options.title||'Share Your Status!',description=options.description||'Your status will be updated to say:',submit=options.submit||'OK',posting=options.posting||'Posting...',close=options.close||'Close',cancel=options.cancel||'No, thanks!',width=parseInt(options.width,10)||370,height=parseInt(options.height,10)||270,widthOffset=parseInt(options.widthOffset,10)||40,heightOffset=parseInt(options.heightOffset,10)||40,autoHeight=typeof options.autoHeight==='boolean'?options.autoHeight:options.autoHeight==='false'?false:true,widthStr='width:'+(width-widthOffset)+'px;',heightStr=autoHeight!==true?'height:'+(height-heightOffset)+'px;':'',syndicateMessage='',syndicateOverlayPrefix=options.prefix||'syndicateOverlay',syndicateOverlay=$('#'+syndicateOverlayPrefix),cid=options.syndicate.cid||false,shortURLs=options.syndicate.shortURLs||false,regReq=typeof options.register.required==='boolean'?options.register.required:options.register.required==='false'?false:true,params={};if(provider!=='facebook'){syndicateMessage=options.syndicate.message||'';}
if(cid!==false){params.cid=cid;}
if(shortURLs!==false){params.shortURLs=shortURLs;}
abcdm.abccom.Hook('syndicateStatusFormInit',{"args":{'provider':provider,'context':options.context}});if(typeof abcdm.abccom.Utils.createOverlay==='function'){if(syndicateOverlay.length!==0){syndicateOverlay.remove();}
syndicateOverlayHtml+='<div id="'+syndicateOverlayPrefix+'" class="overlaycontainer" style="display:none;">';syndicateOverlayHtml+='<div class="overlaycontents clearfix" style="'+widthStr+heightStr+'">';syndicateOverlayHtml+='<h2>'+title+'</h2>';syndicateOverlayHtml+='<p id="'+syndicateOverlayPrefix+'Desc">'+description+'</p>';syndicateOverlayHtml+='<p id="'+syndicateOverlayPrefix+'Msg">';syndicateOverlayHtml+='<textarea id="'+syndicateOverlayPrefix+'SyndicateMessage">'+syndicateMessage+'</textarea>';syndicateOverlayHtml+='</p>';syndicateOverlayHtml+='<div class="'+syndicateOverlayPrefix+'Buttons clearfix">';syndicateOverlayHtml+='<a id="'+syndicateOverlayPrefix+'SubmitBtn" href="javascript:void(0);">'+submit+'</a>';syndicateOverlayHtml+='<a id="'+syndicateOverlayPrefix+'CancelBtn" href="javascript:void(0);">'+cancel+'</a>';syndicateOverlayHtml+='</div>';syndicateOverlayHtml+='</div>';syndicateOverlayHtml+='</div>';$('body').append(syndicateOverlayHtml);abcdm.abccom.Utils.createOverlay(width,height,'#'+syndicateOverlayPrefix);$('#'+syndicateOverlayPrefix).addClass(provider);$('#'+syndicateOverlayPrefix+'SubmitBtn').attr('class','').text(submit);$('#'+syndicateOverlayPrefix+'SyndicateMessage').attr('disabled','');$('#'+syndicateOverlayPrefix+'SubmitBtn').unbind('click');$('#'+syndicateOverlayPrefix+'SubmitBtn').click(function(e){if(e){e.preventDefault();}
abcdm.abccom.Hook('syndicateStatusFormSubmit',{"args":{'provider':provider,'context':options.context}});abcdm.abccom.SocialLink.syndicate.setStatus(provider,$('#'+syndicateOverlayPrefix+'SyndicateMessage').val(),params,syndicateOverlayPrefix,submit,posting,close,cancel,regReq,options.context);});$('#'+syndicateOverlayPrefix+'CancelBtn').show();$('#'+syndicateOverlayPrefix+'CancelBtn').unbind('click');$('#'+syndicateOverlayPrefix+'CancelBtn').click(function(e){if(e){e.preventDefault();}
$('#abc-overlay').trigger("closebox");});abcdm.abccom.Hook('syndicateStatusFormLoaded',{"args":{'provider':provider,'context':options.context}});}};abcdm.abccom.SocialLink.syndicate.setStatus=function(provider,status,options,syndicateOverlayPrefix,submit,posting,close,cancel,regReq,uiContext){debugLog('syndicate set status');var params;options=options||{};if(abcdm.abccom.SocialLink.isProvider(provider)&&status.length!==0){if(abcdm.abccom.SocialLink.isLoggedIn(provider)){$('#'+syndicateOverlayPrefix+'SyndicateMessage').attr('disabled','disabled');$('#'+syndicateOverlayPrefix+'SubmitBtn').attr('class',syndicateOverlayPrefix+'PostingBtn').text(posting);$('#'+syndicateOverlayPrefix+'CancelBtn').hide();$('#'+syndicateOverlayPrefix+'SubmitBtn').unbind('click');params={'providers':provider,'callback':abcdm.abccom.SocialLink.syndicate.setStatusCB,'context':{'provider':provider,'status':status,'options':options,'syndicateOverlayPrefix':syndicateOverlayPrefix,'submit':submit,'posting':posting,'close':close,'cancel':cancel,'regReq':regReq,'uiContext':uiContext}};if(options.cid){params.cid=options.cid;}
if(options.shortURLs){params.shortURLs=options.shortURLs;}
abcdm.abccom.SocialLink.setStatus(status,params);}else{params={'status':'NOT_SUPPORTED','context':{'provider':provider,'status':status,'options':options,'syndicateOverlayPrefix':syndicateOverlayPrefix,'submit':submit,'posting':posting,'close':close,'cancel':cancel,'regReq':regReq,'uiContext':uiContext}};abcdm.abccom.SocialLink.syndicate.setStatusCB(params);}}};abcdm.abccom.SocialLink.syndicate.setStatusCB=function(response){debugLog('set status callback');var context=response.context,params,syndicateOverlayPrefix=context.syndicateOverlayPrefix,syndicateOverlay=$('#'+syndicateOverlayPrefix);if(response.status==='OK'){abcdm.abccom.Hook('syndicateStatusSuccess',{"args":{'provider':context.provider,'context':context.uiContext}});$('#'+syndicateOverlayPrefix+'SubmitBtn').attr('class',syndicateOverlayPrefix+'CloseBtn').text(context.close);$('#'+syndicateOverlayPrefix+'SubmitBtn').unbind('click');$('#'+syndicateOverlayPrefix+'SubmitBtn').click(function(e){if(e){e.preventDefault();}
$('#abc-overlay').trigger("closebox");});}else if(response.status==='NOT_SUPPORTED'){$('#'+syndicateOverlayPrefix+'SubmitBtn').attr('class','').text(context.submit);$('#'+syndicateOverlayPrefix+'SyndicateMessage').attr('disabled','');$('#'+syndicateOverlayPrefix+'CancelBtn').show();if(context.provider&&context.status&&context.options&&context.syndicateOverlayPrefix){params={'regReq':context.regReq,'callback':function(){abcdm.abccom.SocialLink.syndicate.setStatus(context.provider,context.status,context.options,context.syndicateOverlayPrefix,context.submit,context.posting,context.close,context.cancel,context.regReq,context.uiContext);}};abcdm.abccom.SocialLink.login(context.provider,params);}}else{$('#'+syndicateOverlayPrefix+'SubmitBtn').attr('class',syndicateOverlayPrefix+'CloseBtn').text(context.close);$('#'+syndicateOverlayPrefix+'SubmitBtn').unbind('click');$('#syndicateOverlaySubmitBtn').click(function(e){if(e){e.preventDefault();}
$('#abc-overlay').trigger("closebox");});}
if(syndicateOverlay.length!==0){syndicateOverlay.append('<input class="'+syndicateOverlayPrefix+'ResponseStatusMessage" type="hidden" value="'+response.status+':'+response.statusMessage+'"/>');}};abcdm.abccom.SocialLink.showShareUI=function(options){debugLog('share ui');var params;var conf=abcdm.abccom.SocialLink.conf;var operationMode='multiSelect';var act=new gigya.services.socialize.UserAction();var emailbody=options.emailBody||'';var userMessage=options.message||'',title=options.title||'',description=options.description||'',titleLink=options.link||'',media=options.media||{};act.setUserMessage(userMessage);act.setTitle(title);act.setDescription(description);act.setLinkBack(titleLink);act.addActionLink(title,titleLink);if(media.type!=''){act.addMediaItem(media);}
var fbAct=act;if(options.facebookTitle){var fbAct=new gigya.services.socialize.UserAction();fbAct.setTitle(options.facebookTitle);fbAct.setUserMessage(userMessage);fbAct.setDescription(description);fbAct.setLinkBack(titleLink);fbAct.addActionLink(title,titleLink);if(media.type!=''){fbAct.addMediaItem(media);}}
var params={userAction:act,facebookUserAction:fbAct,enabledProviders:"facebook,twitter",context:operationMode,showMoreButton:false,showEmailButton:true,emailBody:emailbody};if(options.cid){params.cid=options.cid;}
if(!options.showEmailButton){params.showEmailButton=options.showEmailButton;}
gigya.services.socialize.showShareUI(conf,params);};abcdm.abccom.SocialLink.syndicate.newsfeed=function(provider,options){debugLog('syndicate newsfeed');debugLog(options);options=options||{};options.syndicate=options.syndicate||{};options.syndicate.title=options.syndicate.title||{};options.syndicate.action=options.syndicate.action||{};options.syndicate.media=options.syndicate.media||{};options.register=options.register||{};options.context=options.context||{};if(!(options.anonymous===true)){if(abcdm.abccom.Utils.userCheck('sdlt')===true){options.userObj={"id":$.rc4EncryptStr(abcdm.abccom.Utils.getSwid(),abcdm.abccom.Register.conf.appId+abcdm.abccom.Utils.getUserByCookies()),"pro":provider,"u":abcdm.abccom.Utils.getUserByCookies()};if(options.syndicate.title.link&&options.syndicate.title.link!==''){options.syndicate.title.link=$.param.fragment(options.syndicate.title.link,options.userObj);}
if(options.syndicate.action.link&&options.syndicate.action.link!==''){options.syndicate.action.link=$.param.fragment(options.syndicate.action.link,options.userObj);}
if(options.syndicate.media.href&&options.syndicate.media.href!==''){options.syndicate.media.href=$.param.fragment(options.syndicate.media.href,options.userObj);}
if(options.syndicate.media.image&&typeof options.syndicate.media.image==='object'){if(typeof options.syndicate.media.image.href&&typeof options.syndicate.media.image.href==="string"){options.syndicate.media.image.href=$.param.fragment(options.syndicate.media.image.href,options.userObj);}
$.each(options.syndicate.media.image,function(index){if(typeof options.syndicate.media.image[index]==='object'&&typeof options.syndicate.media.image[index].href==="string"){options.syndicate.media.image[index].href=$.param.fragment(options.syndicate.media.image[index].href,options.userObj);}});}}}
var syndicateOverlayHtml='',title=options.title||'Tell Your Friends',description=options.description||'Your Comment:',submit=options.submit||'OK',posting=options.posting||'Posting...',close=options.close||'Close',cancel=options.cancel||'No, thanks!',width=parseInt(options.width,10)||370,height=parseInt(options.height,10)||270,widthOffset=parseInt(options.widthOffset,10)||40,heightOffset=parseInt(options.heightOffset,10)||40,autoHeight=typeof options.autoHeight==='boolean'?options.autoHeight:options.autoHeight==='false'?false:true,widthStr='width:'+(width-widthOffset)+'px;',heightStr=autoHeight!==true?'height:'+(height-heightOffset)+'px;':'',syndicateMessage='',syndicateTitle=options.syndicate.title.text||'',syndicateTitleLink=options.syndicate.title.link||'',syndicateDescription=options.syndicate.description||'',syndicateAction=options.syndicate.action.text||'',syndicateActionLink=options.syndicate.action.link||'',syndicateMedia=options.syndicate.media||'',syndicateMediaType=options.syndicate.media.type||'',syndicateMediaImage=options.syndicate.media.image||'',syndicateMediaVideo=options.syndicate.media.video||'',syndicateMediaCheckIn=options.isCheckIn||'',syndicateMediaVideoPreviewImage=typeof options.syndicate.media.video==='object'&&options.syndicate.media.video.previewImage?options.syndicate.media.video.previewImage:'',syndicateMediaMp3=options.syndicate.media.mp3||'',syndicateOverlayPrefix=options.prefix||'syndicateOverlay',syndicateOverlay=$('#'+syndicateOverlayPrefix),cid=options.syndicate.cid||false,shortURLs=options.syndicate.shortURLs||false,regReq=typeof options.register.required==='boolean'?options.register.required:options.register.required==='false'?false:true,params={};if(provider!=='facebook'){syndicateMessage=options.syndicate.message||'';}
if(cid!==false){params.cid=cid;}
if(shortURLs!==false){params.shortURLs=shortURLs;}
if(syndicateMediaType==='video'){options.context.player=options.context.player||'sfp';}
if(syndicateMediaCheckIn||syndicateMediaCheckIn==='true'){options.context.isCheckIn=true;}
if(!options.syndicate.contentId&&syndicateMediaType==='image'&&typeof cid=='string'&&cid.indexOf('fep')!=-1){options.context.contentId=cid;}
abcdm.abccom.Hook('syndicateNewsfeedFormInit',{"args":{'provider':provider,'type':syndicateMediaType,'context':options.context}});if(typeof abcdm.abccom.Utils.createOverlay==='function'){if(syndicateOverlay.length!==0){syndicateOverlay.remove();}
syndicateOverlayHtml+='<div id="'+syndicateOverlayPrefix+'" class="overlaycontainer" style="display:none;">';syndicateOverlayHtml+='<div class="overlaycontents clearfix" style="'+widthStr+heightStr+'">';syndicateOverlayHtml+='<h2>'+title+'</h2>';syndicateOverlayHtml+='<p id="'+syndicateOverlayPrefix+'Desc">'+description+'</p>';syndicateOverlayHtml+='<p id="'+syndicateOverlayPrefix+'Msg">';syndicateOverlayHtml+='<textarea id="'+syndicateOverlayPrefix+'SyndicateMessage">'+syndicateMessage+'</textarea>';syndicateOverlayHtml+='</p>';syndicateOverlayHtml+='<div id="'+syndicateOverlayPrefix+'SyndicateMedia" class="clearfix">';if(provider==='facebook'){switch(syndicateMediaType){case'image':if(typeof syndicateMediaImage[0]==='object'){if(typeof syndicateMediaImage[0].src!=='undefined'){syndicateOverlayHtml+='<img id="'+syndicateOverlayPrefix+'SyndicateImage" src="'+syndicateMediaImage[0].src+'"/>';}}else{if(typeof syndicateMediaImage.src!=='undefined'){syndicateOverlayHtml+='<img id="'+syndicateOverlayPrefix+'SyndicateImage" src="'+syndicateMediaImage.src+'"/>';}}
break;case'video':if(typeof syndicateMediaVideoPreviewImage.src!=='undefined'){syndicateOverlayHtml+='<img id="'+syndicateOverlayPrefix+'SyndicateMediaVideoPreviewImage" src="'+syndicateMediaVideoPreviewImage.src+'"/>';}
break;case'mp3':if(typeof syndicateMediaMp3.artist!=='undefined'){syndicateOverlayHtml+='<p id="'+syndicateOverlayPrefix+'SyndicateMediaMp3">';syndicateOverlayHtml+='Artist: '+syndicateMediaMp3.artist+'<br/>';syndicateOverlayHtml+='Album: '+syndicateMediaMp3.album;syndicateOverlayHtml+='</p>';}
break;default:}
if(syndicateTitleLink!==''){syndicateOverlayHtml+='<a href="'+syndicateTitleLink+'">';syndicateOverlayHtml+=syndicateTitle;syndicateOverlayHtml+='</a>';}else{syndicateOverlayHtml+=syndicateTitle;}
syndicateOverlayHtml+='<p>';syndicateOverlayHtml+=syndicateDescription;syndicateOverlayHtml+='</p>';}else{if(syndicateTitleLink!==''){syndicateOverlayHtml+='<a href="'+syndicateTitleLink+'">';syndicateOverlayHtml+=syndicateTitle;syndicateOverlayHtml+='</a>';}else{syndicateOverlayHtml+=syndicateTitle;}}
syndicateOverlayHtml+='</div>';syndicateOverlayHtml+='<div class="'+syndicateOverlayPrefix+'Buttons clearfix">';syndicateOverlayHtml+='<a id="'+syndicateOverlayPrefix+'SubmitBtn" href="javascript:void(0);">'+submit+'</a>';syndicateOverlayHtml+='<a id="'+syndicateOverlayPrefix+'CancelBtn" href="javascript:void(0);">'+cancel+'</a>';syndicateOverlayHtml+='</div>';syndicateOverlayHtml+='</div>';syndicateOverlayHtml+='</div>';$('body').append(syndicateOverlayHtml);abcdm.abccom.Utils.createOverlay(width,height,'#'+syndicateOverlayPrefix,true);$('#'+syndicateOverlayPrefix).addClass(provider);$('#'+syndicateOverlayPrefix+'SubmitBtn').attr('class','').text(submit);$('#'+syndicateOverlayPrefix+'SyndicateMessage').attr('disabled','');$('#'+syndicateOverlayPrefix+'SubmitBtn').unbind('click');$('#'+syndicateOverlayPrefix+'SubmitBtn').click(function(e){if(e){e.preventDefault();}
abcdm.abccom.Hook('syndicateNewsfeedFormSubmit',{"args":{'provider':provider,'type':syndicateMediaType,'context':options.context}});var video,mp3,action=new gigya.services.socialize.UserAction();action.setUserMessage($('#'+syndicateOverlayPrefix+'SyndicateMessage').val());action.setTitle(syndicateTitle);action.setLinkBack(fixPath(syndicateTitleLink));action.setDescription(syndicateDescription);action.addActionLink(syndicateAction,fixPath(syndicateActionLink));switch(syndicateMediaType){case'image':if(typeof syndicateMediaImage==='object'){if(typeof syndicateMediaImage[0]==='object'){$.each(syndicateMediaImage,function(index){if(typeof syndicateMediaImage[index]==='object'){action.addMediaItem({type:'image',src:syndicateMediaImage[index].src,href:fixPath(syndicateMediaImage[index].href)});}});}else{action.addMediaItem({type:'image',src:syndicateMediaImage.src,href:fixPath(syndicateMediaImage.href)});}}
break;case'video':if(typeof syndicateMediaVideo==='object'){video={type:'video',src:syndicateMediaVideo.src,previewImageURL:syndicateMediaVideoPreviewImage.src};if(syndicateMediaVideo.width){video.width=syndicateMediaVideo.width;}
if(syndicateMediaVideo.height){video.height=syndicateMediaVideo.height;}
if(syndicateMediaVideoPreviewImage.width){video.previewImageWidth=syndicateMediaVideoPreviewImage.width;}
if(syndicateMediaVideoPreviewImage.height){video.previewImageHeight=syndicateMediaVideoPreviewImage.height;}
action.addMediaItem(video);}
break;case'mp3':if(typeof syndicateMediaMp3==='object'){mp3={type:'mp3',src:syndicateMediaMp3.src,title:syndicateMediaMp3.title,artist:syndicateMediaMp3.artist,album:syndicateMediaMp3.album};action.addMediaItem(mp3);}
break;default:}
abcdm.abccom.SocialLink.syndicate.publishUserAction(provider,action,params,syndicateOverlayPrefix,submit,posting,close,cancel,regReq,options.context);});$('#'+syndicateOverlayPrefix+'CancelBtn').show();$('#'+syndicateOverlayPrefix+'CancelBtn').unbind('click');$('#'+syndicateOverlayPrefix+'CancelBtn').click(function(e){if(e){e.preventDefault();}
$('#abc-overlay').trigger("closebox");});abcdm.abccom.Hook('syndicateNewsfeedFormLoaded',{"args":{'provider':provider,'type':syndicateMediaType,'context':options.context}});}};abcdm.abccom.SocialLink.syndicate.publishUserAction=function(provider,action,options,syndicateOverlayPrefix,submit,posting,close,cancel,regReq,uiContext){debugLog('syndicate pubish action');if(abcdm.abccom.SocialLink.isProvider(provider)){var params;options=options||{};if(abcdm.abccom.SocialLink.isLoggedIn(provider)){$('#'+syndicateOverlayPrefix+'SyndicateMessage').attr('disabled','disabled');$('#'+syndicateOverlayPrefix+'SubmitBtn').attr('class',syndicateOverlayPrefix+'PostingBtn').text(posting);$('#'+syndicateOverlayPrefix+'CancelBtn').hide();$('#'+syndicateOverlayPrefix+'SubmitBtn').unbind('click');params={'providers':provider,'callback':abcdm.abccom.SocialLink.syndicate.publishUserActionCB,'context':{'provider':provider,'action':action,'options':options,'syndicateOverlayPrefix':syndicateOverlayPrefix,'submit':submit,'posting':posting,'close':close,'cancel':cancel,'regReq':regReq,'uiContext':uiContext}};if(options.cid){params.cid=options.cid;}
if(options.shortURLs){params.shortURLs=options.shortURLs;}
abcdm.abccom.SocialLink.publishUserAction(action,params);}else{params={'status':'NOT_SUPPORTED','context':{'provider':provider,'action':action,'options':options,'syndicateOverlayPrefix':syndicateOverlayPrefix,'submit':submit,'posting':posting,'close':close,'cancel':cancel,'regReq':regReq,'uiContext':uiContext}};abcdm.abccom.SocialLink.syndicate.publishUserActionCB(params);}}};abcdm.abccom.SocialLink.syndicate.publishUserActionCB=function(response){debugLog('syndicate pubish action callback');var context=response.context,params,syndicateOverlayPrefix=context.syndicateOverlayPrefix,syndicateOverlay=$('#'+syndicateOverlayPrefix),syndicateAction=context.action||{},syndicateMediaItems=syndicateAction.mediaItems||{},syndicateMediaType=typeof syndicateMediaItems==='object'&&typeof syndicateMediaItems[0]==='object'&&typeof syndicateMediaItems[0].type==='string'?syndicateMediaItems[0].type:'';if(response.status==='OK'){abcdm.abccom.Hook('syndicateNewsfeedSuccess',{"args":{'provider':context.provider,'type':syndicateMediaType,'context':context.uiContext}});$('#'+syndicateOverlayPrefix+'SubmitBtn').attr('class',syndicateOverlayPrefix+'CloseBtn').text(context.close);$('#'+syndicateOverlayPrefix+'SubmitBtn').unbind('click');$('#'+syndicateOverlayPrefix+'SubmitBtn').click(function(e){if(e){e.preventDefault();}
$('#abc-overlay').trigger("closebox");});}else if(response.status==='NOT_SUPPORTED'){$('#'+syndicateOverlayPrefix+'SubmitBtn').attr('class','').text(context.submit);$('#'+syndicateOverlayPrefix+'SyndicateMessage').attr('disabled','');$('#'+syndicateOverlayPrefix+'CancelBtn').show();if(context.provider&&context.action&&context.options&&context.syndicateOverlayPrefix){params={'regReq':context.regReq,'callback':function(){abcdm.abccom.SocialLink.syndicate.publishUserAction(context.provider,context.action,context.options,context.syndicateOverlayPrefix,context.submit,context.posting,context.close,context.cancel,context.regReq,context.uiContext);}};abcdm.abccom.SocialLink.login(response.context.provider,params);}}else{$('#'+syndicateOverlayPrefix+'SubmitBtn').attr('class',syndicateOverlayPrefix+'CloseBtn').text(context.close);$('#'+syndicateOverlayPrefix+'SubmitBtn').unbind('click');$('#'+syndicateOverlayPrefix+'SubmitBtn').click(function(e){if(e){e.preventDefault();}
$('#abc-overlay').trigger("closebox");});}
if(syndicateOverlay.length!==0){syndicateOverlay.append('<input class="'+syndicateOverlayPrefix+'ResponseStatusMessage" type="hidden" value="'+response.status+':'+response.statusMessage+'"/>');}};abcdm.abccom.SocialLink.syndicate.email=function(campaign,options){debugLog('abcdm.abccom.SocialLink.syndicate.email - options');debugLog(options);options=options||{};options.form=options.form||{};options.form.input=options.form.input||{};options.register=options.register||{};options.context=options.context||{};var syndicateOverlayHtml='',syndicateOverlayFormInputHtml='',syndicateOverlayFormInputHtmlLabel='',syndicateOverlayFormInputHtmlError='',title=options.title||'Send to a Friend',description=options.description||'',submit=options.submit||'Send',close=options.close||'Close',cancel=options.cancel||'No, thanks!',width=parseInt(options.width,10)||300,height=parseInt(options.height,10)||270,widthOffset=parseInt(options.widthOffset,10)||40,heightOffset=parseInt(options.heightOffset,10)||40,autoHeight=typeof options.autoHeight==='boolean'?options.autoHeight:options.autoHeight==='false'?false:true,widthStr='width:'+(width-widthOffset)+'px;',heightStr=autoHeight!==true?'height:'+(height-heightOffset)+'px;':'',syndicateOverlayPrefix=options.prefix||'syndicateOverlay',syndicateOverlay=$('#'+syndicateOverlayPrefix),formInput=options.form.input,thankYouTitle=options.thankYouTitle||'Thank You',thankYouDescription=options.thankYouDescription||'',regType=typeof options.register.type==='string'&&typeof abcdm.abccom.Register.regtypes[options.register.type]!=='undefined'?options.register.type:'',params={};abcdm.abccom.Hook('syndicateEmailFormInit',{"args":{'campaign':campaign,'context':options.context}});if(typeof abcdm.abccom.Utils.createOverlay==='function'){if(typeof formInput[0]==='object'){$.each(formInput,function(key,value){if(typeof formInput[key].name==='string'&&typeof formInput[key].id==='string'){syndicateOverlayFormInputHtmlLabel='<label for="'+syndicateOverlayPrefix+formInput[key].id+'">'+formInput[key].label+'</label>';if(typeof formInput[key].label!=='undefined'){delete formInput[key].label;}
syndicateOverlayFormInputHtmlError='<p style="display: none;" class="'+syndicateOverlayPrefix+'error">'+(typeof formInput[key].error==='string'?formInput[key].error:'')+'</p>';if(typeof formInput[key].error!=='undefined'){delete formInput[key].error;formInput[key]['class']=typeof formInput[key]['class']==='string'?formInput[key]['class']+' v':'v';}
if(typeof formInput[key].hidden==='undefined'||formInput[key].hidden!==true){if(typeof formInput[key].hidden!=='undefined'){delete formInput[key].hidden;}
formInput[key].type='text';syndicateOverlayFormInputHtml+='<li>';syndicateOverlayFormInputHtml+=syndicateOverlayFormInputHtmlLabel;syndicateOverlayFormInputHtml+=buildInputMarkup(syndicateOverlayPrefix,formInput[key]);syndicateOverlayFormInputHtml+=syndicateOverlayFormInputHtmlError;syndicateOverlayFormInputHtml+='</li>';}else{if(typeof formInput[key].hidden!=='undefined'){delete formInput[key].hidden;}
formInput[key].type='hidden';syndicateOverlayFormInputHtml+='<li class="hidden">';syndicateOverlayFormInputHtml+=buildInputMarkup(syndicateOverlayPrefix,formInput[key]);syndicateOverlayFormInputHtml+='</li>';}}});}else{if(typeof formInput.name==='string'&&typeof formInput.id==='string'){syndicateOverlayFormInputHtmlLabel='<label for="'+syndicateOverlayPrefix+formInput.id+'">'+formInput.label+'</label>';if(typeof formInput.label!=='undefined'){delete formInput.label;}
syndicateOverlayFormInputHtmlError='<p style="display: none;" class="'+syndicateOverlayPrefix+'error">'+(typeof formInput.error==='string'?formInput.error:'')+'</p>';if(typeof formInput.error!=='undefined'){delete formInput.error;formInput['class']=typeof formInput['class']==='string'?formInput['class']+' v':'v';}
if(typeof formInput.hidden==='undefined'||formInput.hidden!==true){if(typeof formInput.hidden!=='undefined'){delete formInput.hidden;}
formInput.type='text';syndicateOverlayFormInputHtml+='<li>';syndicateOverlayFormInputHtml+=syndicateOverlayFormInputHtmlLabel;syndicateOverlayFormInputHtml+=buildInputMarkup(syndicateOverlayPrefix,formInput);syndicateOverlayFormInputHtml+=syndicateOverlayFormInputHtmlError;syndicateOverlayFormInputHtml+='</li>';}else{if(typeof formInput.hidden!=='undefined'){delete formInput.hidden;}
formInput.type='hidden';syndicateOverlayFormInputHtml+='<li class="hidden">';syndicateOverlayFormInputHtml+=buildInputMarkup(syndicateOverlayPrefix,formInput);syndicateOverlayFormInputHtml+='</li>';}}}
if(syndicateOverlay.length!==0){syndicateOverlay.remove();}
syndicateOverlayHtml+='<div id="'+syndicateOverlayPrefix+'" class="overlaycontainer" style="display:none;">';syndicateOverlayHtml+='<div class="overlaycontents" style="'+widthStr+heightStr+'">';syndicateOverlayHtml+='<div id="'+syndicateOverlayPrefix+'FormWrapper" class="clearfix">';syndicateOverlayHtml+='<h2>'+title+'</h2>';syndicateOverlayHtml+='<p id="'+syndicateOverlayPrefix+'Desc">'+description+'</p>';syndicateOverlayHtml+='<form id="'+syndicateOverlayPrefix+'Form">';syndicateOverlayHtml+='<ul id="'+syndicateOverlayPrefix+'Inputs">';syndicateOverlayHtml+=syndicateOverlayFormInputHtml;syndicateOverlayHtml+='</ul>';syndicateOverlayHtml+='<div class="'+syndicateOverlayPrefix+'Buttons clearfix">';syndicateOverlayHtml+='<a id="'+syndicateOverlayPrefix+'SubmitBtn" href="javascript:void(0);">'+submit+'</a>';syndicateOverlayHtml+='<a id="'+syndicateOverlayPrefix+'CancelBtn" href="javascript:void(0);">'+cancel+'</a>';syndicateOverlayHtml+='</div>';syndicateOverlayHtml+='</form>';syndicateOverlayHtml+='</div>';syndicateOverlayHtml+='<div id="'+syndicateOverlayPrefix+'ThankYouWrapper" class="clearfix" style="display:none;">';syndicateOverlayHtml+='<h2>'+thankYouTitle+'</h2>';syndicateOverlayHtml+='<p id="'+syndicateOverlayPrefix+'ThankYouDesc">'+thankYouDescription+'</p>';syndicateOverlayHtml+='<div class="'+syndicateOverlayPrefix+'Buttons clearfix">';syndicateOverlayHtml+='<a id="'+syndicateOverlayPrefix+'CloseBtn" href="javascript:void(0);">'+close+'</a>';syndicateOverlayHtml+='</div>';syndicateOverlayHtml+='</div>';syndicateOverlayHtml+='</div>';syndicateOverlayHtml+='</div>';$('body').append(syndicateOverlayHtml);abcdm.abccom.Utils.createOverlay(width,height,'#'+syndicateOverlayPrefix);$('#'+syndicateOverlayPrefix).addClass('email');$('#'+syndicateOverlayPrefix+'SubmitBtn').attr('class','').text(submit);$('#'+syndicateOverlayPrefix+'SubmitBtn').unbind('click');$('#'+syndicateOverlayPrefix+'SubmitBtn').click(function(e){if(e){e.preventDefault();}
abcdm.abccom.Hook('syndicateEmailFormSubmit',{"args":{'campaign':campaign,'context':options.context}});abcdm.abccom.SocialLink.syndicate.emailSubmitForm(campaign,regType,syndicateOverlayPrefix,options.context);});$('#'+syndicateOverlayPrefix+'CancelBtn').show();$('#'+syndicateOverlayPrefix+'CancelBtn').unbind('click');$('#'+syndicateOverlayPrefix+'CancelBtn').click(function(e){if(e){e.preventDefault();}
$('#abc-overlay').trigger("closebox");});$('#'+syndicateOverlayPrefix+'CloseBtn').unbind('click');$('#'+syndicateOverlayPrefix+'CloseBtn').click(function(e){if(e){e.preventDefault();}
$('#abc-overlay').trigger("closebox");});abcdm.abccom.Hook('syndicateEmailFormLoaded',{"args":{'campaign':campaign,'context':options.context}});}};abcdm.abccom.SocialLink.syndicate.emailSubmitForm=function(campaign,regType,syndicateOverlayPrefix,uiContext){var formVals,formValid;$('#'+syndicateOverlayPrefix+'Form #url').val(fixPath($('#'+syndicateOverlayPrefix+'Form #url').val()));formVals=$('#'+syndicateOverlayPrefix+'Form').serializeArray();formValid=true;$.each(formVals,function(key,value){if($('#'+formVals[key].name).attr('type')!=='hidden'&&$('#'+formVals[key].name).hasClass('v')){if(formVals[key].value===''||(formVals[key].name.indexOf('recipientEmail')!==-1&&validateEmail(formVals[key].value)===false)){$('#'+formVals[key].name).addClass(syndicateOverlayPrefix+'error');$('#'+formVals[key].name).next('p.'+syndicateOverlayPrefix+'error').show();formValid=false;}else{$('#'+formVals[key].name).removeClass(syndicateOverlayPrefix+'error');$('#'+formVals[key].name).next('p.'+syndicateOverlayPrefix+'error').hide();}}
if(!$('#'+formVals[key].name).hasClass('v')){if(formVals[key].value===''||formVals[key].value===null){formVals[key].value=' ';}}});if(formValid===true){$.each(formVals,function(key,value){formVals[key].name=formVals[key].name.replace(syndicateOverlayPrefix,'');});if(regType!==''&&typeof abcdm.abccom.Register.init==='function'){abcdm.abccom.Register.init(regType,{'callback':function(){abcdm.abccom.SocialLink.syndicate.sendEmail(campaign,formVals,syndicateOverlayPrefix,uiContext);}});}else{abcdm.abccom.SocialLink.syndicate.sendEmail(campaign,formVals,syndicateOverlayPrefix,uiContext);}
$('#'+syndicateOverlayPrefix+'FormWrapper').hide();$('#'+syndicateOverlayPrefix+'ThankYouWrapper').show();}};abcdm.abccom.SocialLink.syndicate.sendEmail=function(campaignName,options,syndicateOverlayPrefix,uiContext){var data=[],syndicateOverlay=syndicateOverlayPrefix?$('#'+syndicateOverlayPrefix):'';options=options||{};options.push({'name':'campaignName','value':campaignName});$.each(options,function(key,value){if(typeof options[key].name==='string'&&typeof options[key].value==='string'){data[key]=value;data[key].name='input_'+data[key].name;}});data=$.extend(data,abcdm.abccom.Register.conf);abcdm.abccom.Utils.getJSONP(emailUrl,data,function(response){abcdm.abccom.Hook('syndicateEmailSuccess',{"args":{'campaign':campaignName,'context':uiContext}});if(syndicateOverlay.length!==0){syndicateOverlay.append('<input class="'+syndicateOverlayPrefix+'ResponseStatusMessage" type="hidden" value="'+response+'"/>');}},'json');};validateEmail=function(addy){var filter=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;if(!filter.test(addy)){return false;}else{return true;}};buildInputMarkup=function(prefix,attr){attr=attr||{};var retVal='';retVal+='<input';$.each(attr,function(key,value){if(key=='textarea'&&value==true){retVal=retVal.replace('<input','<textarea');}
retVal+=' '+key+'="'+value+'"';});retVal+='/>';return retVal;};updateCookie=function(provider){debugLog('update cookie '+$.cookie(socialLinkUserCookie)+' with '+provider);var cookieJar=$.cookie(socialLinkUserCookie)?$.cookie(socialLinkUserCookie).split(';'):[];if(provider){if($.isArray(provider)){$.each(provider,function(cIndex,cookie){if($.inArray(cookie,cookieJar)===-1){cookieJar.push(cookie);}});$.cookie(socialLinkUserCookie,cookieJar.join(';'),{path:'/'});}else if($.inArray(provider,cookieJar)===-1){cookieJar.push(provider);$.cookie(socialLinkUserCookie,cookieJar.join(';'),{path:'/'});}}
debugLog('updated cookie '+$.cookie(socialLinkUserCookie));};fixPath=function(path){if(!path){return path;}
return path;var pathname,hostname,protocol;hostname=hostname||location.hostname;hostname=hostname.toLowerCase();protocol=protocol||location.protocol;protocol=protocol.toLowerCase();return path.indexOf(protocol+'//')===-1?protocol+'//'+hostname+path:path;};$(document).ready(function(){setTimeout(function(){var refUser,refSwid,refProvider;try{if(typeof $.deparam.fragment()==="object"&&typeof $.deparam.fragment().u==="string"&&typeof $.deparam.fragment().id==="string"){refProvider=$.deparam.fragment().pro||'unknown';refUser=$.deparam.fragment().u;refSwid=$.rc4DecryptStr($.deparam.fragment().id,abcdm.abccom.Register.conf.appId+refUser);abcdm.abccom.Hook('syndicateReferral',{"args":{'user':{'user':refUser,'SWID':refSwid,'provider':refProvider}}});}}catch(e){}},400);abcdm.abccom.Utils.MessageQueueInit();$('#messageQueue').bind('updateCookie',function(e,data){updateCookie(data.provider);});SOCIALLINK_ONLY=Boolean($.cookie('__abcd'));if(SOCIALLINK_ONLY){cdnLoginUrl=cloudLoginUrl;$.cookie('__slo','1',{'path':'/','domain':'go.com'});}else{$.cookie('__slo',null,{'path':'/','domain':'go.com'});}});}(jQuery));

/** 
* @filepath: /abcdm/abccom/msgqueue.js
* @created: Wed, 27 Nov 13 17:23:28 -0800
*/

var abcdm=abcdm||{};abcdm.abccom=abcdm.abccom||{};abcdm.abccom.Utils=abcdm.abccom.Utils||{};abcdm.abccom.debugLog=abcdm.abccom.debugLog||function(bug){return function(){};};abcdm.abccom.Utils.messageQueue=[];abcdm.abccom.Utils.MessageQueueTick=80;(function($){abcdm.abccom.Utils.MessageQueueInit=function(){if($('#messageQueue').length===0){$(document.body).append('<ol id="messageQueue" style="display:none"></ol>');abcdm.abccom.mqTimer=setInterval(function(){var runMe,message,lineitem,oldmsgs;if(abcdm.abccom.Utils.messageQueue.length>0){message=abcdm.abccom.Utils.messageQueue.shift();oldmsgs=$('#messageQueue #'+message.id+'.'+message.dom+',#executedQueue #'+message.id+'.'+message.dom);if(oldmsgs.length>0){oldmsgs.each(function(){if($(this).data('message').timestamp>message.timestamp){message=0;}});}
if(typeof message==="object"){$('#messageQueue #'+message.id+'.'+message.dom).remove();lineitem=$('<li id="'+message.id+'"><span class="timer">'+message.delay+'</span><span class="trigger">'+message.trigger+'</span></li>');lineitem.addClass(message.dom);lineitem.data('timer',message.delay);lineitem.data('message',message);switch(parseInt(message.priority,10)){case 2:$('#messageQueue').prepend($(lineitem).addClass("cutter"));break;case-1:$('#messageQueue').append($(lineitem).addClass("nice"));break;case 0:$('#messageQueue li.'+message.dom).remove();$('#messageQueue').append($(lineitem).addClass("mean"));break;default:if($('#messageQueue li.nice:first').length>0){$('#messageQueue li.nice:first').before($(lineitem).addClass("normal"));}else{$('#messageQueue').append($(lineitem).addClass("normal"));}}}}
if($('#messageQueue li').length>0){runMe=$('#messageQueue li');runMe.each(function(){if($(this).data('timer')>0){$(this).data('timer',$(this).data('timer')-abcdm.abccom.Utils.MessageQueueTick);}});if($('#messageQueue li.mean').length>0){runMe=$('#messageQueue li.mean');}else if($('#messageQueue li.cutter').length>0){runMe=$('#messageQueue li.cutter');}else if($('#messageQueue li.normal').length>0){runMe=$('#messageQueue li.normal');}
runMe.each(function(){if($(this).data('timer')<=0){var msg=$(this).data('message');$('#messageQueue').trigger($(this).find('.trigger').html(),msg.params);if($("#executedQueue").length===0){$(document.body).append('<ol id="executedQueue" style="display:none"></ol>');}else{}
$("#executedQueue").append($(this));if(typeof abcdm.abccom.Utils.dlObject==="function"){$(this).click(function(){var data=$(this).data('message');$(this).siblings().removeClass('hilite').children('dl').hide();if($(this).children('dl').length===0){$(this).addClass('hilite').append(abcdm.abccom.Utils.dlObject(data));}else{$(this).toggleClass('hilite').children('dl').toggle();}});}}});}},abcdm.abccom.Utils.MessageQueueTick);}
abcdm.abccom.Utils.messageQueueReceiver=function(event){messageQ=abcdm.abccom.Utils.messageQueue;paramlist=event.data;try
{paramlist=JSON.parse(event.data);}
catch(e)
{}
if(!paramlist.trigger){return false;}
abcdm.abccom.debugLog(paramlist);pnames=paramlist.pname;pvals=paramlist.pval;params={};trigger=paramlist.trigger||"";if((typeof(pnames)==="object")&&(typeof(pvals)==="object")){if(pnames.length===pvals.length){for(var i in pnames){params[pnames[i]]=pvals[i];}}}else if((typeof(pnames)==="string")&&(typeof(pvals)==="string")){params[pnames]=pvals;}
abcdm.abccom.Utils.messageQueue.push({"trigger":paramlist.trigger,"timestamp":paramlist.timestamp||0,"dom":paramlist.dom,"id":paramlist.id||'msgid'+Math.floor(Math.random()*100000),"priority":paramlist.priority||1,"delay":paramlist.delay||0,"params":params});}
if(window.postMessage){if(window.addEventListener){window.addEventListener('message',abcdm.abccom.Utils.messageQueueReceiver,false);}else if(window.attachEvent){window.attachEvent('onmessage',abcdm.abccom.Utils.messageQueueReceiver);}}};}(jQuery));